;/*FB_PKG_DELIM*/

__d("WAWeb-easeljs",[],(function(b,c,d,e,f,g){var h=h||{};h.extend=function(b,c){"use strict";function d(){this.constructor=b}return d.prototype=c.prototype,b.prototype=new d},h=h||{},h.promote=function(b,c){"use strict";var d=b.prototype,e=Object.getPrototypeOf&&Object.getPrototypeOf(d)||d.__proto__;if(e){d[(c+="_")+"constructor"]=e.constructor;for(var f in e)d.hasOwnProperty(f)&&"function"==typeof e[f]&&(d[c+f]=e[f])}return b},h=h||{},h.indexOf=function(b,c){"use strict";for(var d=0,e=b.length;e>d;d++)if(c===b[d])return d;return-1},h=h||{},(function(){"use strict";function b(b,c,d){this.type=b,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!c,this.cancelable=!!d,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var c=b.prototype;c.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},c.stopPropagation=function(){this.propagationStopped=!0},c.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},c.remove=function(){this.removed=!0},c.clone=function(){return new b(this.type,this.bubbles,this.cancelable)},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.toString=function(){return"[Event (type="+this.type+")]"},h.Event=b})(),h=h||{},(function(){"use strict";function b(){this._listeners=null,this._captureListeners=null}var c=b.prototype;b.initialize=function(b){b.addEventListener=c.addEventListener,b.on=c.on,b.removeEventListener=b.off=c.removeEventListener,b.removeAllEventListeners=c.removeAllEventListeners,b.hasEventListener=c.hasEventListener,b.dispatchEvent=c.dispatchEvent,b._dispatchEvent=c._dispatchEvent,b.willTrigger=c.willTrigger},c.addEventListener=function(b,c,d){var e;e=d?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var f=e[b];return f&&this.removeEventListener(b,c,d),f=e[b],f?f.push(c):e[b]=[c],c},c.on=function(b,c,d,e,f,g){return c.handleEvent&&(d=d||c,c=c.handleEvent),d=d||this,this.addEventListener(b,function(b){c.call(d,b,f),e&&b.remove()},g)},c.removeEventListener=function(b,c,d){d=d?this._captureListeners:this._listeners;if(d){var e=d[b];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==c){1==g?delete d[b]:e.splice(f,1);break}}},c.off=c.removeEventListener,c.removeAllEventListeners=function(b){b?(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null},c.dispatchEvent=function(b,c,d){if("string"==typeof b){var e=this._listeners;if(!(c||e&&e[b]))return!0;b=new h.Event(b,c,d)}else b.target&&b.clone&&(b=b.clone());try{b.target=this}catch(b){}if(b.bubbles&&this.parent){for(e=this,c=[e];e.parent;)c.push(e=e.parent);d=c.length;for(e=d-1;e>=0&&!b.propagationStopped;e--)c[e]._dispatchEvent(b,1+(0==e));for(e=1;d>e&&!b.propagationStopped;e++)c[e]._dispatchEvent(b,3)}else this._dispatchEvent(b,2);return!b.defaultPrevented},c.hasEventListener=function(b){var c=this._listeners,d=this._captureListeners;return!!(c&&c[b]||d&&d[b])},c.willTrigger=function(b){for(var c=this;c;){if(c.hasEventListener(b))return!0;c=c.parent}return!1},c.toString=function(){return"[EventDispatcher]"},c._dispatchEvent=function(b,c){var d,e=1==c?this._captureListeners:this._listeners;if(b&&e){e=e[b.type];if(!e||!(d=e.length))return;try{b.currentTarget=this}catch(b){}try{b.eventPhase=c}catch(b){}b.removed=!1,e=e.slice();for(var f=0;d>f&&!b.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(b):g(b),b.removed&&(this.off(b.type,g,1==c),b.removed=!1)}}},h.EventDispatcher=b})(),h=h||{},(function(){"use strict";function b(){throw"Ticker cannot be instantiated."}b.RAF_SYNCHED="synched",b.RAF="raf",b.TIMEOUT="timeout",b.useRAF=!1,b.timingMode=null,b.maxDelta=0,b.paused=!1,b.removeEventListener=null,b.removeAllEventListeners=null,b.dispatchEvent=null,b.hasEventListener=null,b._listeners=null,h.EventDispatcher.initialize(b),b._addEventListener=b.addEventListener,b.addEventListener=function(){return!b._inited&&b.init(),b._addEventListener.apply(b,arguments)},b._inited=!1,b._startTime=0,b._pausedTime=0,b._ticks=0,b._pausedTicks=0,b._interval=50,b._lastTime=0,b._times=null,b._tickTimes=null,b._timerId=null,b._raf=!0,b.setInterval=function(c){b._interval=c,b._inited&&b._setupTick()},b.getInterval=function(){return b._interval},b.setFPS=function(c){b.setInterval(1e3/c)},b.getFPS=function(){return 1e3/b._interval};try{Object.defineProperties(b,{interval:{get:b.getInterval,set:b.setInterval},framerate:{get:b.getFPS,set:b.setFPS}})}catch(b){}b.init=function(){b._inited||(b._inited=!0,b._times=[],b._tickTimes=[],b._startTime=b._getTime(),b._times.push(b._lastTime=0),b.interval=b._interval)},b.reset=function(){if(b._raf){var c=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;c&&c(b._timerId)}else clearTimeout(b._timerId);b.removeAllEventListeners("tick"),b._timerId=b._times=b._tickTimes=null,b._startTime=b._lastTime=b._ticks=0,b._inited=!1},b.getMeasuredTickTime=function(d){var c=0,e=b._tickTimes;if(!e||e.length<1)return-1;d=Math.min(e.length,d||0|b.getFPS());for(var f=0;d>f;f++)c+=e[f];return c/d},b.getMeasuredFPS=function(d){var c=b._times;return!c||c.length<2?-1:(d=Math.min(c.length-1,d||0|b.getFPS()),1e3/((c[0]-c[d])/d))},b.setPaused=function(c){b.paused=c},b.getPaused=function(){return b.paused},b.getTime=function(c){return b._startTime?b._getTime()-(c?b._pausedTime:0):-1},b.getEventTime=function(c){return b._startTime?(b._lastTime||b._startTime)-(c?b._pausedTime:0):-1},b.getTicks=function(c){return b._ticks-(c?b._pausedTicks:0)},b._handleSynch=function(){b._timerId=null,b._setupTick(),b._getTime()-b._lastTime>=.97*(b._interval-1)&&b._tick()},b._handleRAF=function(){b._timerId=null,b._setupTick(),b._tick()},b._handleTimeout=function(){b._timerId=null,b._setupTick(),b._tick()},b._setupTick=function(){if(null==b._timerId){var d=b.timingMode||b.useRAF&&b.RAF_SYNCHED;if(d==b.RAF_SYNCHED||d==b.RAF){var c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(c)return b._timerId=c(d==b.RAF?b._handleRAF:b._handleSynch),void (b._raf=!0)}b._raf=!1,b._timerId=setTimeout(b._handleTimeout,b._interval)}},b._tick=function(){var d=b.paused,c=b._getTime(),e=c-b._lastTime;if(b._lastTime=c,b._ticks++,d&&(b._pausedTicks++,b._pausedTime+=e),b.hasEventListener("tick")){var f=new h.Event("tick"),g=b.maxDelta;f.delta=g&&e>g?g:e,f.paused=d,f.time=c,f.runTime=c-b._pausedTime,b.dispatchEvent(f)}for(b._tickTimes.unshift(b._getTime()-c);b._tickTimes.length>100;)b._tickTimes.pop();for(b._times.unshift(c);b._times.length>100;)b._times.pop()};var c=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);b._getTime=function(){return(c&&c.call(performance)||(new Date).getTime())-b._startTime},h.Ticker=b})(),h=h||{},(function(){"use strict";function b(){throw"UID cannot be instantiated"}b._nextID=0,b.get=function(){return b._nextID++},h.UID=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i,j,k,l){this.Event_constructor(b,c,d),this.stageX=e,this.stageY=f,this.rawX=null==j?e:j,this.rawY=null==k?f:k,this.nativeEvent=g,this.pointerID=h,this.primary=!!i,this.relatedTarget=l}var c=h.extend(b,h.Event);c._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},c._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},c._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(c,{localX:{get:c._get_localX},localY:{get:c._get_localY},isTouch:{get:c._get_isTouch}})}catch(b){}c.clone=function(){return new b(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},c.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},h.MouseEvent=h.promote(b,"Event")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g){this.setValues(b,c,d,e,f,g)}var c=b.prototype;b.DEG_TO_RAD=Math.PI/180,b.identity=null,c.setValues=function(b,c,d,e,f,g){return this.a=null==b?1:b,this.b=c||0,this.c=d||0,this.d=null==e?1:e,this.tx=f||0,this.ty=g||0,this},c.append=function(b,c,d,e,f,g){var h=this.a,i=this.b,j=this.c,k=this.d;return(1!=b||0!=c||0!=d||1!=e)&&(this.a=h*b+j*c,this.b=i*b+k*c,this.c=h*d+j*e,this.d=i*d+k*e),this.tx=h*f+j*g+this.tx,this.ty=i*f+k*g+this.ty,this},c.prepend=function(b,c,d,e,f,g){var h=this.a,i=this.c,j=this.tx;return this.a=b*h+d*this.b,this.b=c*h+e*this.b,this.c=b*i+d*this.d,this.d=c*i+e*this.d,this.tx=b*j+d*this.ty+f,this.ty=c*j+e*this.ty+g,this},c.appendMatrix=function(b){return this.append(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.prependMatrix=function(b){return this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.appendTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.append(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d),this.append(l*e,g*e,-g*f,l*f,0,0)):this.append(l*e,g*e,-g*f,l*f,c,d),(j||k)&&(this.tx-=j*this.a+k*this.c,this.ty-=j*this.b+k*this.d),this},c.prependTransform=function(c,d,e,f,g,h,i,j,k){if(g%360)var g=g*b.DEG_TO_RAD,l=Math.cos(g),g=Math.sin(g);else l=1,g=0;return(j||k)&&(this.tx-=j,this.ty-=k),h||i?(h*=b.DEG_TO_RAD,i*=b.DEG_TO_RAD,this.prepend(l*e,g*e,-g*f,l*f,0,0),this.prepend(Math.cos(i),Math.sin(i),-Math.sin(h),Math.cos(h),c,d)):this.prepend(l*e,g*e,-g*f,l*f,c,d),this},c.rotate=function(c){c*=b.DEG_TO_RAD;var d=Math.cos(c);c=Math.sin(c);var e=this.a,f=this.b;return this.a=e*d+this.c*c,this.b=f*d+this.d*c,this.c=-e*c+this.c*d,this.d=-f*c+this.d*d,this},c.skew=function(c,d){return c*=b.DEG_TO_RAD,d*=b.DEG_TO_RAD,this.append(Math.cos(d),Math.sin(d),-Math.sin(c),Math.cos(c),0,0),this},c.scale=function(b,c){return this.a*=b,this.b*=b,this.c*=c,this.d*=c,this},c.translate=function(b,c){return this.tx+=this.a*b+this.c*c,this.ty+=this.b*b+this.d*c,this},c.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},c.invert=function(){var b=this.a,c=this.b,d=this.c,e=this.d,f=this.tx,g=b*e-c*d;return this.a=e/g,this.b=-c/g,this.c=-d/g,this.d=b/g,this.tx=(d*this.ty-e*f)/g,this.ty=-(b*this.ty-c*f)/g,this},c.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},c.equals=function(b){return this.tx===b.tx&&this.ty===b.ty&&this.a===b.a&&this.b===b.b&&this.c===b.c&&this.d===b.d},c.transformPoint=function(b,c,d){return d=d||{},d.x=b*this.a+c*this.c+this.tx,d.y=b*this.b+c*this.d+this.ty,d},c.decompose=function(c){null==c&&(c={}),c.x=this.tx,c.y=this.ty,c.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),c.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d),e=Math.atan2(this.b,this.a),f=Math.abs(1-d/e);return 1e-5>f?(c.rotation=e/b.DEG_TO_RAD,this.a<0&&this.d>=0&&(c.rotation+=c.rotation<=0?180:-180),c.skewX=c.skewY=0):(c.skewX=d/b.DEG_TO_RAD,c.skewY=e/b.DEG_TO_RAD),c},c.copy=function(b){return this.setValues(b.a,b.b,b.c,b.d,b.tx,b.ty)},c.clone=function(){return new b(this.a,this.b,this.c,this.d,this.tx,this.ty)},c.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},b.identity=new b,h.Matrix2D=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f){this.setValues(b,c,d,e,f)}var c=b.prototype;c.setValues=function(b,c,d,e,f){return this.visible=null==b?!0:!!b,this.alpha=null==c?1:c,this.shadow=d,this.compositeOperation=e,this.matrix=f||this.matrix&&this.matrix.identity()||new h.Matrix2D,this},c.append=function(b,c,d,e,f){return this.alpha*=c,this.shadow=d||this.shadow,this.compositeOperation=e||this.compositeOperation,this.visible=this.visible&&b,f&&this.matrix.appendMatrix(f),this},c.prepend=function(b,c,d,e,f){return this.alpha*=c,this.shadow=this.shadow||d,this.compositeOperation=this.compositeOperation||e,this.visible=this.visible&&b,f&&this.matrix.prependMatrix(f),this},c.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},c.clone=function(){return new b(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},h.DisplayProps=b})(),h=h||{},(function(){"use strict";function b(b,c){this.setValues(b,c)}var c=b.prototype;c.setValues=function(b,c){return this.x=b||0,this.y=c||0,this},c.copy=function(b){return this.x=b.x,this.y=b.y,this},c.clone=function(){return new b(this.x,this.y)},c.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},h.Point=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setValues(b,c,d,e)}var c=b.prototype;c.setValues=function(b,c,d,e){return this.x=b||0,this.y=c||0,this.width=d||0,this.height=e||0,this},c.extend=function(b,c,d,e){return d=d||0,e=e||0,b+d>this.x+this.width&&(this.width=b+d-this.x),c+e>this.y+this.height&&(this.height=c+e-this.y),b<this.x&&(this.width+=this.x-b,this.x=b),c<this.y&&(this.height+=this.y-c,this.y=c),this},c.pad=function(b,c,d,e){return this.x-=c,this.y-=b,this.width+=c+e,this.height+=b+d,this},c.copy=function(b){return this.setValues(b.x,b.y,b.width,b.height)},c.contains=function(b,c,d,e){return d=d||0,e=e||0,b>=this.x&&b+d<=this.x+this.width&&c>=this.y&&c+e<=this.y+this.height},c.union=function(b){return this.clone().extend(b.x,b.y,b.width,b.height)},c.intersection=function(c){var d=c.x,e=c.y,f=d+c.width;c=e+c.height;return this.x>d&&(d=this.x),this.y>e&&(e=this.y),this.x+this.width<f&&(f=this.x+this.width),this.y+this.height<c&&(c=this.y+this.height),d>=f||e>=c?null:new b(d,e,f-d,c-e)},c.intersects=function(b){return b.x<=this.x+this.width&&this.x<=b.x+b.width&&b.y<=this.y+this.height&&this.y<=b.y+b.height},c.isEmpty=function(){return this.width<=0||this.height<=0},c.clone=function(){return new b(this.x,this.y,this.width,this.height)},c.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},h.Rectangle=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h){b.addEventListener&&(this.target=b,this.overLabel=null==d?"over":d,this.outLabel=null==c?"out":c,this.downLabel=null==e?"down":e,this.play=f,this._isPressed=!1,this._isOver=!1,this._enabled=!1,b.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),g&&(h&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(h)),b.hitArea=g))}var c=b.prototype;c.setEnabled=function(b){if(b!=this._enabled){var c=this.target;this._enabled=b,b?(c.cursor="pointer",c.addEventListener("rollover",this),c.addEventListener("rollout",this),c.addEventListener("mousedown",this),c.addEventListener("pressup",this),c._reset&&(c.__reset=c._reset,c._reset=this._reset)):(c.cursor=null,c.removeEventListener("rollover",this),c.removeEventListener("rollout",this),c.removeEventListener("mousedown",this),c.removeEventListener("pressup",this),c.__reset&&(c._reset=c.__reset,delete c.__reset))}},c.getEnabled=function(){return this._enabled};try{Object.defineProperties(c,{enabled:{get:c.getEnabled,set:c.setEnabled}})}catch(b){}c.toString=function(){return"[ButtonHelper]"},c.handleEvent=function(b){var c,d=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,c=this.downLabel):"pressup"==b?(this._isPressed=!1,c=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,c=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,c=this._isPressed?this.overLabel:this.outLabel),this.play?d.gotoAndPlay&&d.gotoAndPlay(c):d.gotoAndStop&&d.gotoAndStop(c)},c._reset=function(){var b=this.paused;this.__reset(),this.paused=b},h.ButtonHelper=b})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.color=b||"black",this.offsetX=c||0,this.offsetY=d||0,this.blur=e||0}var c=b.prototype;b.identity=new b("transparent",0,0,0),c.toString=function(){return"[Shadow]"},c.clone=function(){return new b(this.color,this.offsetX,this.offsetY,this.blur)},h.Shadow=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(b)}var c=h.extend(b,h.EventDispatcher);c.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(c,{animations:{get:c.getAnimations}})}catch(b){}c.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames||0;b=this._data[b];return null==b?0:b.frames.length},c.getAnimation=function(b){return this._data[b]},c.getFrame=function(b){var c;return this._frames&&(c=this._frames[b])?c:null},c.getFrameBounds=function(b,c){b=this.getFrame(b);return b?(c||new h.Rectangle).setValues(-b.regX,-b.regY,b.rect.width,b.rect.height):null},c.toString=function(){return"[SpriteSheet]"},c.clone=function(){throw"SpriteSheet cannot be cloned."},c._parseData=function(b){var c,d,e;if(null!=b){if(this.framerate=b.framerate||0,b.images&&(d=b.images.length)>0)for(e=this._images=[],c=0;d>c;c++){var f=b.images[c];if("string"==typeof f){var g=f;f=document.createElement("img"),f.src=g}e.push(f),f.getContext||f.naturalWidth||(this._loadCount++,this.complete=!1,function(b,c){f.onload=function(){b._handleImageLoad(c)}}(this,g),function(b,c){f.onerror=function(){b._handleImageError(c)}}(this,g))}if(!(null==b.frames))if(Array.isArray(b.frames))for(this._frames=[],e=b.frames,c=0,d=e.length;d>c;c++){var i=e[c];this._frames.push({image:this._images[i[4]?i[4]:0],rect:new h.Rectangle(i[0],i[1],i[2],i[3]),regX:i[5]||0,regY:i[6]||0})}else i=b.frames,this._frameWidth=i.width,this._frameHeight=i.height,this._regX=i.regX||0,this._regY=i.regY||0,this._spacing=i.spacing||0,this._margin=i.margin||0,this._numFrames=i.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(i=b.animations)){this._data={};for(b in i){var j={name:b},k=i[b];if("number"==typeof k)e=j.frames=[k];else if(Array.isArray(k))if(1==k.length)j.frames=[k[0]];else for(j.speed=k[3],j.next=k[2],e=j.frames=[],c=k[0];c<=k[1];c++)e.push(c);else{j.speed=k.speed,j.next=k.next;k=k.frames;e=j.frames="number"==typeof k?[k]:k.slice(0)}(j.next===!0||void 0===j.next)&&(j.next=b),(j.next===!1||e.length<2&&j.next==b)&&(j.next=null),j.speed||(j.speed=1),this._animations.push(b),this._data[b]=j}}}},c._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},c._handleImageError=function(b){var c=new h.Event("error");c.src=b,this.dispatchEvent(c),0==--this._loadCount&&this.dispatchEvent("complete")},c._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var b=this._numFrames||1e5,c=0,d=this._frameWidth,e=this._frameHeight,f=this._spacing,g=this._margin;a:for(var i=0,j=this._images;i<j.length;i++)for(var k=j[i],l=k.width,m=k.height,n=g;m-g-e>=n;){for(var o=g;l-g-d>=o;){if(c>=b)break a;c++,this._frames.push({image:k,rect:new h.Rectangle(o,n,d,e),regX:this._regX,regY:this._regY}),o+=d+f}n+=e+f}this._numFrames=c}},h.SpriteSheet=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var c=b.prototype,d=b;b.getRGB=function(b,c,d,e){return null!=b&&null==d&&(e=c,d=255&b,c=b>>8&255,b=b>>16&255),null==e?"rgb("+b+","+c+","+d+")":"rgba("+b+","+c+","+d+","+e+")"},b.getHSL=function(b,c,d,e){return null==e?"hsl("+b%360+","+c+"%,"+d+"%)":"hsla("+b%360+","+c+"%,"+d+"%,"+e+")"},b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},b.STROKE_CAPS_MAP=["butt","round","square"],b.STROKE_JOINTS_MAP=["miter","round","bevel"];var e=h.createCanvas?h.createCanvas():document.createElement("canvas");e.getContext&&(b._ctx=e.getContext("2d"),e.width=e.height=1),c.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(c,{instructions:{get:c.getInstructions}})}catch(b){}c.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},c.draw=function(b,c){this._updateInstructions();for(var d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)d[e].exec(b,c)},c.drawAsPath=function(b){this._updateInstructions();for(var c,d=this._instructions,e=this._storeIndex,f=d.length;f>e;e++)(c=d[e]).path!==!1&&c.exec(b)},c.moveTo=function(b,c){return this.append(new d.MoveTo(b,c),!0)},c.lineTo=function(b,c){return this.append(new d.LineTo(b,c))},c.arcTo=function(b,c,e,f,g){return this.append(new d.ArcTo(b,c,e,f,g))},c.arc=function(b,c,e,f,g,h){return this.append(new d.Arc(b,c,e,f,g,h))},c.quadraticCurveTo=function(b,c,e,f){return this.append(new d.QuadraticCurveTo(b,c,e,f))},c.bezierCurveTo=function(b,c,e,f,g,h){return this.append(new d.BezierCurveTo(b,c,e,f,g,h))},c.rect=function(b,c,e,f){return this.append(new d.Rect(b,c,e,f))},c.closePath=function(){return this._activeInstructions.length?this.append(new d.ClosePath):this},c.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},c.beginFill=function(b){return this._setFill(b?new d.Fill(b):null)},c.beginLinearGradientFill=function(b,c,e,f,g,h){return this._setFill((new d.Fill).linearGradient(b,c,e,f,g,h))},c.beginRadialGradientFill=function(b,c,e,f,g,h,i,j){return this._setFill((new d.Fill).radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapFill=function(b,c,e){return this._setFill(new d.Fill(null,e).bitmap(b,c))},c.endFill=function(){return this.beginFill()},c.setStrokeStyle=function(b,c,e,f,g){return this._updateInstructions(!0),this._strokeStyle=this.command=new d.StrokeStyle(b,c,e,f,g),this._stroke&&(this._stroke.ignoreScale=g),this._strokeIgnoreScale=g,this},c.setStrokeDash=function(b,c){return this._updateInstructions(!0),this._strokeDash=this.command=new d.StrokeDash(b,c),this},c.beginStroke=function(b){return this._setStroke(b?new d.Stroke(b):null)},c.beginLinearGradientStroke=function(b,c,e,f,g,h){return this._setStroke((new d.Stroke).linearGradient(b,c,e,f,g,h))},c.beginRadialGradientStroke=function(b,c,e,f,g,h,i,j){return this._setStroke((new d.Stroke).radialGradient(b,c,e,f,g,h,i,j))},c.beginBitmapStroke=function(b,c){return this._setStroke((new d.Stroke).bitmap(b,c))},c.endStroke=function(){return this.beginStroke()},c.curveTo=c.quadraticCurveTo,c.drawRect=c.rect,c.drawRoundRect=function(b,c,d,e,f){return this.drawRoundRectComplex(b,c,d,e,f,f,f,f)},c.drawRoundRectComplex=function(b,c,e,f,g,h,i,j){return this.append(new d.RoundRect(b,c,e,f,g,h,i,j))},c.drawCircle=function(b,c,e){return this.append(new d.Circle(b,c,e))},c.drawEllipse=function(b,c,e,f){return this.append(new d.Ellipse(b,c,e,f))},c.drawPolyStar=function(b,c,e,f,g,h){return this.append(new d.PolyStar(b,c,e,f,g,h))},c.append=function(b,c){return this._activeInstructions.push(b),this.command=b,c||(this._dirty=!0),this},c.decodePath=function(c){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],e=[2,2,4,6,0],f=0,g=c.length,h=[],i=0,j=0,k=b.BASE_64;g>f;){var l=c.charAt(f),m=k[l],n=m>>3,o=d[n];if(!o||3&m)throw"bad path data (@"+f+"): "+l;l=e[n];n||(i=j=0),h.length=0,f++;for(n=(m>>2&1)+2,m=0;l>m;m++){var a=k[c.charAt(f)],p=a>>5?-1:1;a=(31&a)<<6|k[c.charAt(f+1)],3==n&&(a=a<<6|k[c.charAt(f+2)]),a=p*a/10,m%2?i=a+=i:j=a+=j,h[m]=a,f+=n}o.apply(this,h)}return this},c.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},c.unstore=function(){return this._storeIndex=0,this},c.clone=function(){var c=new b;return c.command=this.command,c._stroke=this._stroke,c._strokeStyle=this._strokeStyle,c._strokeDash=this._strokeDash,c._strokeIgnoreScale=this._strokeIgnoreScale,c._fill=this._fill,c._instructions=this._instructions.slice(),c._commitIndex=this._commitIndex,c._activeInstructions=this._activeInstructions.slice(),c._dirty=this._dirty,c._storeIndex=this._storeIndex,c},c.toString=function(){return"[Graphics]"},c.mt=c.moveTo,c.lt=c.lineTo,c.at=c.arcTo,c.bt=c.bezierCurveTo,c.qt=c.quadraticCurveTo,c.a=c.arc,c.r=c.rect,c.cp=c.closePath,c.c=c.clear,c.f=c.beginFill,c.lf=c.beginLinearGradientFill,c.rf=c.beginRadialGradientFill,c.bf=c.beginBitmapFill,c.ef=c.endFill,c.ss=c.setStrokeStyle,c.sd=c.setStrokeDash,c.s=c.beginStroke,c.ls=c.beginLinearGradientStroke,c.rs=c.beginRadialGradientStroke,c.bs=c.beginBitmapStroke,c.es=c.endStroke,c.dr=c.drawRect,c.rr=c.drawRoundRect,c.rc=c.drawRoundRectComplex,c.dc=c.drawCircle,c.de=c.drawEllipse,c.dp=c.drawPolyStar,c.p=c.decodePath,c._updateInstructions=function(c){var d=this._instructions,e=this._activeInstructions,f=this._commitIndex;if(this._dirty&&e.length){d.length=f,d.push(b.beginCmd);f=e.length;var g=d.length;d.length=g+f;for(var h=0;f>h;h++)d[h+g]=e[h];this._fill&&d.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,d.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,d.push(this._strokeStyle)),d.push(this._stroke)),this._dirty=!1}c&&(e.length=0,this._commitIndex=d.length)},c._setFill=function(b){return this._updateInstructions(!0),this.command=this._fill=b,this},c._setStroke=function(b){return this._updateInstructions(!0),(this.command=this._stroke=b)&&(b.ignoreScale=this._strokeIgnoreScale),this},(d.LineTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.lineTo(this.x,this.y)},(d.MoveTo=function(b,c){this.x=b,this.y=c}).prototype.exec=function(b){b.moveTo(this.x,this.y)},(d.ArcTo=function(b,c,d,e,f){this.x1=b,this.y1=c,this.x2=d,this.y2=e,this.radius=f}).prototype.exec=function(b){b.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(d.Arc=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.startAngle=e,this.endAngle=f,this.anticlockwise=!!g}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(d.QuadraticCurveTo=function(b,c,d,e){this.cpx=b,this.cpy=c,this.x=d,this.y=e}).prototype.exec=function(b){b.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(d.BezierCurveTo=function(b,c,d,e,f,g){this.cp1x=b,this.cp1y=c,this.cp2x=d,this.cp2y=e,this.x=f,this.y=g}).prototype.exec=function(b){b.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(d.Rect=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){b.rect(this.x,this.y,this.w,this.h)},(d.ClosePath=function(){}).prototype.exec=function(b){b.closePath()},(d.BeginPath=function(){}).prototype.exec=function(b){b.beginPath()},c=(d.Fill=function(b,c){this.style=b,this.matrix=c}).prototype,c.exec=function(b){if(this.style){b.fillStyle=this.style;var c=this.matrix;c&&(b.save(),b.transform(c.a,c.b,c.c,c.d,c.tx,c.ty)),b.fill(),c&&b.restore()}},c.linearGradient=function(c,d,e,f,g,h){for(var i=this.style=b._ctx.createLinearGradient(e,f,g,h),j=0,k=c.length;k>j;j++)i.addColorStop(d[j],c[j]);return i.props={colors:c,ratios:d,x0:e,y0:f,x1:g,y1:h,type:"linear"},this},c.radialGradient=function(c,d,e,f,g,h,i,j){for(var k=this.style=b._ctx.createRadialGradient(e,f,g,h,i,j),l=0,m=c.length;m>l;l++)k.addColorStop(d[l],c[l]);return k.props={colors:c,ratios:d,x0:e,y0:f,r0:g,x1:h,y1:i,r1:j,type:"radial"},this},c.bitmap=function(c,d){if(c.naturalWidth||c.getContext||c.readyState>=2){var e=this.style=b._ctx.createPattern(c,d||"");e.props={image:c,repetition:d,type:"bitmap"}}return this},c.path=!1,c=(d.Stroke=function(b,c){this.style=b,this.ignoreScale=c}).prototype,c.exec=function(b){this.style&&(b.strokeStyle=this.style,this.ignoreScale&&(b.save(),b.setTransform(1,0,0,1,0,0)),b.stroke(),this.ignoreScale&&b.restore())},c.linearGradient=d.Fill.prototype.linearGradient,c.radialGradient=d.Fill.prototype.radialGradient,c.bitmap=d.Fill.prototype.bitmap,c.path=!1,c=(d.StrokeStyle=function(b,c,d,e,f){this.width=b,this.caps=c,this.joints=d,this.miterLimit=e,this.ignoreScale=f}).prototype,c.exec=function(c){c.lineWidth=null==this.width?"1":this.width,c.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:b.STROKE_CAPS_MAP[this.caps],c.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:b.STROKE_JOINTS_MAP[this.joints],c.miterLimit=null==this.miterLimit?"10":this.miterLimit,c.ignoreScale=null==this.ignoreScale?!1:this.ignoreScale},c.path=!1,(d.StrokeDash=function(b,c){this.segments=b,this.offset=c||0}).prototype.exec=function(b){b.setLineDash&&(b.setLineDash(this.segments||d.StrokeDash.EMPTY_SEGMENTS),b.lineDashOffset=this.offset||0)},d.StrokeDash.EMPTY_SEGMENTS=[],(d.RoundRect=function(b,c,d,e,f,g,h,i){this.x=b,this.y=c,this.w=d,this.h=e,this.radiusTL=f,this.radiusTR=g,this.radiusBR=h,this.radiusBL=i}).prototype.exec=function(b){var c=(k>j?j:k)/2,d=0,e=0,f=0,g=0,h=this.x,i=this.y,j=this.w,k=this.h,l=this.radiusTL,m=this.radiusTR,n=this.radiusBR,o=this.radiusBL;0>l&&(l*=d=-1),l>c&&(l=c),0>m&&(m*=e=-1),m>c&&(m=c),0>n&&(n*=f=-1),n>c&&(n=c),0>o&&(o*=g=-1),o>c&&(o=c),b.moveTo(h+j-m,i),b.arcTo(h+j+m*e,i-m*e,h+j,i+m,m),b.lineTo(h+j,i+k-n),b.arcTo(h+j+n*f,i+k+n*f,h+j-n,i+k,n),b.lineTo(h+o,i+k),b.arcTo(h-o*g,i+k+o*g,h,i+k-o,o),b.lineTo(h,i+l),b.arcTo(h-l*d,i-l*d,h+l,i,l),b.closePath()},(d.Circle=function(b,c,d){this.x=b,this.y=c,this.radius=d}).prototype.exec=function(b){b.arc(this.x,this.y,this.radius,0,2*Math.PI)},(d.Ellipse=function(b,c,d,e){this.x=b,this.y=c,this.w=d,this.h=e}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.w,f=this.h,g=.5522848,h=e/2*g;g=f/2*g;var i=c+e,j=d+f;e=c+e/2;f=d+f/2;b.moveTo(c,f),b.bezierCurveTo(c,f-g,e-h,d,e,d),b.bezierCurveTo(e+h,d,i,f-g,i,f),b.bezierCurveTo(i,f+g,e+h,j,e,j),b.bezierCurveTo(e-h,j,c,f+g,c,f)},(d.PolyStar=function(b,c,d,e,f,g){this.x=b,this.y=c,this.radius=d,this.sides=e,this.pointSize=f,this.angle=g}).prototype.exec=function(b){var c=this.x,d=this.y,e=this.radius,f=(this.angle||0)/180*Math.PI,g=this.sides,h=1-(this.pointSize||0),i=Math.PI/g;b.moveTo(c+Math.cos(f)*e,d+Math.sin(f)*e);for(var j=0;g>j;j++)f+=i,1!=h&&b.lineTo(c+Math.cos(f)*e*h,d+Math.sin(f)*e*h),f+=i,b.lineTo(c+Math.cos(f)*e,d+Math.sin(f)*e);b.closePath()},b.beginCmd=new d.BeginPath,h.Graphics=b})(),h=h||{},(function(){"use strict";function b(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=h.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new h.DisplayProps,this._rectangle=new h.Rectangle,this._bounds=null}var c=h.extend(b,h.EventDispatcher);b._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],b.suppressCrossDomainErrors=!1,b._snapToPixelEnabled=!1;var d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._hitTestCanvas=d,b._hitTestContext=d.getContext("2d"),d.width=d.height=1),b._nextCacheID=1,c.getStage=function(){for(var b=this,c=h.Stage;b.parent;)b=b.parent;return b instanceof c?b:null};try{Object.defineProperties(c,{stage:{get:c.getStage}})}catch(b){}c.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},c.draw=function(b,c){var d=this.cacheCanvas;if(c||!d)return!1;c=this._cacheScale;return b.drawImage(d,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,d.width/c,d.height/c),!0},c.updateContext=function(c){var d=this,e=d.mask,f=d._props.matrix;e&&e.graphics&&!e.graphics.isEmpty()&&(e.getMatrix(f),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty),e.graphics.drawAsPath(c),c.clip(),f.invert(),c.transform(f.a,f.b,f.c,f.d,f.tx,f.ty)),this.getMatrix(f);e=f.tx;var g=f.ty;b._snapToPixelEnabled&&d.snapToPixel&&(e=e+(0>e?-.5:.5)|0,g=g+(0>g?-.5:.5)|0),c.transform(f.a,f.b,f.c,f.d,e,g),c.globalAlpha*=d.alpha,d.compositeOperation&&(c.globalCompositeOperation=d.compositeOperation),d.shadow&&this._applyShadow(c,d.shadow)},c.cache=function(b,c,d,e,f){f=f||1,this.cacheCanvas||(this.cacheCanvas=h.createCanvas?h.createCanvas():document.createElement("canvas")),this._cacheWidth=d,this._cacheHeight=e,this._cacheOffsetX=b,this._cacheOffsetY=c,this._cacheScale=f,this.updateCache()},c.updateCache=function(c){var d=this.cacheCanvas;if(!d)throw"cache() must be called before updateCache()";var e=this._cacheScale,f=this._cacheOffsetX*e,g=this._cacheOffsetY*e,h=this._cacheWidth,i=this._cacheHeight,j=d.getContext("2d"),k=this._getFilterBounds();f+=this._filterOffsetX=k.x,g+=this._filterOffsetY=k.y,h=Math.ceil(h*e)+k.width,i=Math.ceil(i*e)+k.height,h!=d.width||i!=d.height?(d.width=h,d.height=i):c||j.clearRect(0,0,h+1,i+1),j.save(),j.globalCompositeOperation=c,j.setTransform(e,0,0,e,-f,-g),this.draw(j,!0),this._applyFilters(),j.restore(),this.cacheID=b._nextCacheID++},c.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},c.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},c.localToGlobal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(b,c,d||new h.Point)},c.globalToLocal=function(b,c,d){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(b,c,d||new h.Point)},c.localToLocal=function(b,c,d,e){return e=this.localToGlobal(b,c,e),d.globalToLocal(e.x,e.y,e)},c.setTransform=function(b,c,d,e,f,g,h,i,j){return this.x=b||0,this.y=c||0,this.scaleX=null==d?1:d,this.scaleY=null==e?1:e,this.rotation=f||0,this.skewX=g||0,this.skewY=h||0,this.regX=i||0,this.regY=j||0,this},c.getMatrix=function(b){var c=this;b=b&&b.identity()||new h.Matrix2D;return c.transformMatrix?b.copy(c.transformMatrix):b.appendTransform(c.x,c.y,c.scaleX,c.scaleY,c.rotation,c.skewX,c.skewY,c.regX,c.regY)},c.getConcatenatedMatrix=function(b){for(var c=this,b=this.getMatrix(b);c=c.parent;)b.prependMatrix(c.getMatrix(c._props.matrix));return b},c.getConcatenatedDisplayProps=function(b){b=b?b.identity():new h.DisplayProps;var c=this,d=c.getMatrix(b.matrix);do b.prepend(c.visible,c.alpha,c.shadow,c.compositeOperation),c!=this&&d.prependMatrix(c.getMatrix(c._props.matrix));while(c=c.parent);return b},c.hitTest=function(c,d){var e=b._hitTestContext;e.setTransform(1,0,0,1,-c,-d),this.draw(e);c=this._testHit(e);return e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,2,2),c},c.set=function(b){for(var c in b)this[c]=b[c];return this},c.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var b=this.cacheCanvas;if(b){var c=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,b.width/c,b.height/c)}return null},c.getTransformedBounds=function(){return this._getBounds()},c.setBounds=function(b,c,d,e){null==b&&(this._bounds=b),this._bounds=(this._bounds||new h.Rectangle).setValues(b,c,d,e)},c.clone=function(){return this._cloneProps(new b)},c.toString=function(){return"[DisplayObject (name="+this.name+")]"},c._cloneProps=function(b){return b.alpha=this.alpha,b.mouseEnabled=this.mouseEnabled,b.tickEnabled=this.tickEnabled,b.name=this.name,b.regX=this.regX,b.regY=this.regY,b.rotation=this.rotation,b.scaleX=this.scaleX,b.scaleY=this.scaleY,b.shadow=this.shadow,b.skewX=this.skewX,b.skewY=this.skewY,b.visible=this.visible,b.x=this.x,b.y=this.y,b.compositeOperation=this.compositeOperation,b.snapToPixel=this.snapToPixel,b.filters=null==this.filters?null:this.filters.slice(0),b.mask=this.mask,b.hitArea=this.hitArea,b.cursor=this.cursor,b._bounds=this._bounds,b},c._applyShadow=function(b,c){c=c||Shadow.identity,b.shadowColor=c.color,b.shadowOffsetX=c.offsetX,b.shadowOffsetY=c.offsetY,b.shadowBlur=c.blur},c._tick=function(b){var c=this._listeners;c&&c.tick&&(b.target=null,b.propagationStopped=b.immediatePropagationStopped=!1,this.dispatchEvent(b))},c._testHit=function(c){try{var d=c.getImageData(0,0,1,1).data[3]>1}catch(c){if(!b.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return d},c._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,c=this.cacheCanvas.getContext("2d"),d=this.cacheCanvas.width,e=this.cacheCanvas.height,f=0;b>f;f++)this.filters[f].applyFilter(c,0,0,d,e)},c._getFilterBounds=function(){var b,c=this.filters,d=this._rectangle.setValues(0,0,0,0);if(!c||!(b=c.length))return d;for(c=0;b>c;c++){var e=this.filters[c];e.getBounds&&e.getBounds(d)}return d},c._getBounds=function(b,c){return this._transformBounds(this.getBounds(),b,c)},c._transformBounds=function(b,c,d){if(!b)return b;var e=b.x,f=b.y,g=b.width,h=b.height,i=this._props.matrix;i=d?i.identity():this.getMatrix(i),(e||f)&&i.appendTransform(0,0,1,1,0,0,0,-e,-f),c&&i.prependMatrix(c);d=g*i.a;c=g*i.b;g=h*i.c;h=h*i.d;var j=i.tx;i=i.ty;var k=j,l=j,m=i,n=i;return(e=d+j)<k?k=e:e>l&&(l=e),(e=d+g+j)<k?k=e:e>l&&(l=e),(e=g+j)<k?k=e:e>l&&(l=e),(f=c+i)<m?m=f:f>n&&(n=f),(f=c+h+i)<m?m=f:f>n&&(n=f),(f=h+i)<m?m=f:f>n&&(n=f),b.setValues(k,m,l-k,n-m)},c._hasMouseEventListener=function(){for(var c=b._MOUSE_EVENTS,d=0,e=c.length;e>d;d++)if(this.hasEventListener(c[d]))return!0;return!!this.cursor},h.DisplayObject=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var c=h.extend(b,h.DisplayObject);c.getNumChildren=function(){return this.children.length};try{Object.defineProperties(c,{numChildren:{get:c.getNumChildren}})}catch(b){}c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;for(var c=this.children.slice(),d=0,e=c.length;e>d;d++){var f=c[d];f.isVisible()&&(b.save(),f.updateContext(b),f.draw(b),b.restore())}return!0},c.addChild=function(b){if(null==b)return b;var c=arguments.length;if(c>1){for(var d=0;c>d;d++)this.addChild(arguments[d]);return arguments[c-1]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.push(b),b.dispatchEvent("added"),b},c.addChildAt=function(b,c){var d=arguments.length,e=arguments[d-1];if(0>e||e>this.children.length)return arguments[d-2];if(d>2){for(var f=0;d-1>f;f++)this.addChildAt(arguments[f],e+f);return arguments[d-2]}return b.parent&&b.parent.removeChild(b),b.parent=this,this.children.splice(c,0,b),b.dispatchEvent("added"),b},c.removeChild=function(b){var c=arguments.length;if(c>1){for(var d=!0,e=0;c>e;e++)d=d&&this.removeChild(arguments[e]);return d}return this.removeChildAt(h.indexOf(this.children,b))},c.removeChildAt=function(b){var c=arguments.length;if(c>1){for(var d=[],e=0;c>e;e++)d[e]=arguments[e];d.sort(function(b,c){return c-b});for(var f=!0,e=0;c>e;e++)f=f&&this.removeChildAt(d[e]);return f}if(0>b||b>this.children.length-1)return!1;var g=this.children[b];return g&&(g.parent=null),this.children.splice(b,1),g.dispatchEvent("removed"),!0},c.removeAllChildren=function(){for(var b=this.children;b.length;)this.removeChildAt(0)},c.getChildAt=function(b){return this.children[b]},c.getChildByName=function(b){for(var c=this.children,d=0,e=c.length;e>d;d++)if(c[d].name==b)return c[d];return null},c.sortChildren=function(b){this.children.sort(b)},c.getChildIndex=function(b){return h.indexOf(this.children,b)},c.swapChildrenAt=function(b,c){var d=this.children,e=d[b],f=d[c];e&&f&&(d[b]=f,d[c]=e)},c.swapChildren=function(b,c){for(var d,e,f=this.children,g=0,h=f.length;h>g&&(f[g]==b&&(d=g),f[g]==c&&(e=g),null==d||null==e);g++);g!=h&&(f[d]=c,f[e]=b)},c.setChildIndex=function(b,c){var d=this.children,e=d.length;if(!(b.parent!=this||0>c||c>=e)){for(var f=0;e>f&&d[f]!=b;f++);f!=e&&f!=c&&(d.splice(f,1),d.splice(c,0,b))}},c.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1},c.hitTest=function(b,c){return null!=this.getObjectUnderPoint(b,c)},c.getObjectsUnderPoint=function(b,c,d){var e=[];b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,e,d>0,1==d),e},c.getObjectUnderPoint=function(b,c,d){b=this.localToGlobal(b,c);return this._getObjectsUnderPoint(b.x,b.y,null,d>0,1==d)},c.getBounds=function(){return this._getBounds(null,!0)},c.getTransformedBounds=function(){return this._getBounds()},c.clone=function(c){var d=this._cloneProps(new b);return c&&this._cloneChildren(d),d},c.toString=function(){return"[Container (name="+this.name+")]"},c._tick=function(b){if(this.tickChildren)for(var c=this.children.length-1;c>=0;c--){var d=this.children[c];d.tickEnabled&&d._tick&&d._tick(b)}this.DisplayObject__tick(b)},c._cloneChildren=function(b){b.children.length&&b.removeAllChildren();for(var c=b.children,d=0,e=this.children.length;e>d;d++){var f=this.children[d].clone(!0);f.parent=b,c.push(f)}},c._getObjectsUnderPoint=function(c,d,e,f,g,i){if(i=i||0,!i&&!this._testMask(this,c,d))return null;var j,k=h.DisplayObject._hitTestContext;g=g||f&&this._hasMouseEventListener();for(var l=this.children,m=l.length,m=m-1;m>=0;m--){var n=l[m],o=n.hitArea;if(n.visible&&(o||n.isVisible())&&(!f||n.mouseEnabled)&&(o||this._testMask(n,c,d)))if(!o&&n instanceof b){var a=n._getObjectsUnderPoint(c,d,e,f,g,i+1);if(!e&&a)return f&&!this.mouseChildren?this:a}else{if(f&&!g&&!n._hasMouseEventListener())continue;a=n.getConcatenatedDisplayProps(n._props);if(j=a.matrix,o&&(j.appendMatrix(o.getMatrix(o._props.matrix)),a.alpha=o.alpha),k.globalAlpha=a.alpha,k.setTransform(j.a,j.b,j.c,j.d,j.tx-c,j.ty-d),(o||n).draw(k),!this._testHit(k))continue;if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),!e)return f&&!this.mouseChildren?this:n;e.push(n)}}return null},c._testMask=function(b,c,d){var e=b.mask;if(!e||!e.graphics||e.graphics.isEmpty())return!0;var f=this._props.matrix;b=b.parent;f=b?b.getConcatenatedMatrix(f):f.identity(),f=e.getMatrix(e._props.matrix).prependMatrix(f);b=h.DisplayObject._hitTestContext;return b.setTransform(f.a,f.b,f.c,f.d,f.tx-c,f.ty-d),e.graphics.drawAsPath(b),b.fillStyle="#000",b.fill(),this._testHit(b)?(b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,2,2),!0):!1},c._getBounds=function(b,c){var d=this.DisplayObject_getBounds();if(d)return this._transformBounds(d,b,c);var e=this._props.matrix;e=c?e.identity():this.getMatrix(e),b&&e.prependMatrix(b);for(var c=this.children.length,b=null,f=0;c>f;f++){var g=this.children[f];g.visible&&(d=g._getBounds(e))&&(b?b.extend(d.x,d.y,d.width,d.height):b=d.clone())}return b},h.Container=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof b?document.getElementById(b):b,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var c=h.extend(b,h.Container);c._get_nextStage=function(){return this._nextStage},c._set_nextStage=function(b){this._nextStage&&(this._nextStage._prevStage=null),b&&(b._prevStage=this),this._nextStage=b};try{Object.defineProperties(c,{nextStage:{get:c._get_nextStage,set:c._set_nextStage}})}catch(b){}c.update=function(b){if(this.canvas&&(this.tickOnUpdate&&this.tick(b),this.dispatchEvent("drawstart",!1,!0)!==!1)){h.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;b=this.drawRect;var c=this.canvas.getContext("2d");c.setTransform(1,0,0,1,0,0),this.autoClear&&(b?c.clearRect(b.x,b.y,b.width,b.height):c.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),c.save(),this.drawRect&&(c.beginPath(),c.rect(b.x,b.y,b.width,b.height),c.clip()),this.updateContext(c),this.draw(c,!1),c.restore(),this.dispatchEvent("drawend")}},c.tick=function(b){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var c=new h.Event("tick");if(b)for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);this._tick(c),this.dispatchEvent("tickend")}},c.handleEvent=function(b){"tick"==b.type&&this.update(b)},c.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0),b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},c.toDataURL=function(b,c){var d,e=this.canvas.getContext("2d"),f=this.canvas.width,g=this.canvas.height;if(b){d=e.getImageData(0,0,f,g);var h=e.globalCompositeOperation;e.globalCompositeOperation="destination-over",e.fillStyle=b,e.fillRect(0,0,f,g)}f=this.canvas.toDataURL(c||"image/png");return b&&(e.putImageData(d,0,0),e.globalCompositeOperation=h),f},c.enableMouseOver=function(b){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0)),null==b)b=20;else if(0>=b)return;var c=this;this._mouseOverIntervalID=setInterval(function(){c._testMouseOver()},1e3/Math.min(50,b))},c.enableDOMEvents=function(b){null==b&&(b=!0);var c,d,e=this._eventListeners;if(!b&&e){for(c in e)d=e[c],d.t.removeEventListener(c,d.f,!1);this._eventListeners=null}else if(b&&!e&&this.canvas){b=window.addEventListener?window:document;var f=this;e=this._eventListeners={},e.mouseup={t:b,f:function(b){f._handleMouseUp(b)}},e.mousemove={t:b,f:function(b){f._handleMouseMove(b)}},e.dblclick={t:this.canvas,f:function(b){f._handleDoubleClick(b)}},e.mousedown={t:this.canvas,f:function(b){f._handleMouseDown(b)}};for(c in e)d=e[c],d.t.addEventListener(c,d.f,!1)}},c.clone=function(){throw"Stage cannot be cloned."},c.toString=function(){return"[Stage (name="+this.name+")]"},c._getElementRect=function(b){var c;try{c=b.getBoundingClientRect()}catch(d){c={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var d=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),e=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0);b=window.getComputedStyle?getComputedStyle(b,null):b.currentStyle;var f=parseInt(b.paddingLeft)+parseInt(b.borderLeftWidth),g=parseInt(b.paddingTop)+parseInt(b.borderTopWidth),h=parseInt(b.paddingRight)+parseInt(b.borderRightWidth);b=parseInt(b.paddingBottom)+parseInt(b.borderBottomWidth);return{left:c.left+d+f,right:c.right+d-h,top:c.top+e+g,bottom:c.bottom+e-b}},c._getPointerData=function(b){var c=this._pointerData[b];return c||(c=this._pointerData[b]={x:0,y:0}),c},c._handleMouseMove=function(b){b||(b=window.event),this._handlePointerMove(-1,b,b.pageX,b.pageY)},c._handlePointerMove=function(b,c,d,e,f){if((!this._prevStage||void 0!==f)&&this.canvas){f=this._nextStage;var g=this._getPointerData(b),h=g.inBounds;this._updatePointerPosition(b,c,d,e),(h||g.inBounds||this.mouseMoveOutside)&&(-1===b&&g.inBounds==!h&&this._dispatchMouseEvent(this,h?"mouseleave":"mouseenter",!1,b,g,c),this._dispatchMouseEvent(this,"stagemousemove",!1,b,g,c),this._dispatchMouseEvent(g.target,"pressmove",!0,b,g,c)),f&&f._handlePointerMove(b,c,d,e,null)}},c._updatePointerPosition=function(b,c,d,e){var f=this._getElementRect(this.canvas);d-=f.left,e-=f.top;var g=this.canvas.width,h=this.canvas.height;d/=(f.right-f.left)/g,e/=(f.bottom-f.top)/h;f=this._getPointerData(b);(f.inBounds=d>=0&&e>=0&&g-1>=d&&h-1>=e)?(f.x=d,f.y=e):this.mouseMoveOutside&&(f.x=0>d?0:d>g-1?g-1:d,f.y=0>e?0:e>h-1?h-1:e),f.posEvtObj=c,f.rawX=d,f.rawY=e,(b===this._primaryPointerID||-1===b)&&(this.mouseX=f.x,this.mouseY=f.y,this.mouseInBounds=f.inBounds)},c._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)},c._handlePointerUp=function(b,c,d,e){var f=this._nextStage,g=this._getPointerData(b);if(!this._prevStage||void 0!==e){var h=null,i=g.target;e||!i&&!f||(h=this._getObjectsUnderPoint(g.x,g.y,null,!0)),g.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,b,g,c,h),g.down=!1),h==i&&this._dispatchMouseEvent(i,"click",!0,b,g,c),this._dispatchMouseEvent(i,"pressup",!0,b,g,c),d?(b==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[b]):g.target=null,f&&f._handlePointerUp(b,c,d,e||h&&this)}},c._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)},c._handlePointerDown=function(b,c,d,e,f){this.preventSelection&&c.preventDefault(),(null==this._primaryPointerID||-1===b)&&(this._primaryPointerID=b),null!=e&&this._updatePointerPosition(b,c,d,e);var g=null,h=this._nextStage,i=this._getPointerData(b);f||(g=i.target=this._getObjectsUnderPoint(i.x,i.y,null,!0)),i.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,b,i,c,g),i.down=!0),this._dispatchMouseEvent(g,"mousedown",!0,b,i,c),h&&h._handlePointerDown(b,c,d,e,f||g&&this)},c._testMouseOver=function(b,c,d){if(!this._prevStage||void 0!==c){var e=this._nextStage;if(!this._mouseOverIntervalID)return void (e&&e._testMouseOver(b,c,d));var f=this._getPointerData(-1);if(f&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var g,h=f.posEvtObj,i=d||h&&h.target==this.canvas,j=null,k=-1,l="";!c&&(b||this.mouseInBounds&&i)&&(j=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var m=this._mouseOverTarget||[],n=m[m.length-1],o=this._mouseOverTarget=[];for(g=j;g;)o.unshift(g),l||(l=g.cursor),g=g.parent;for(this.canvas.style.cursor=l,!c&&d&&(d.canvas.style.cursor=l),g=0,l=o.length;l>g&&o[g]==m[g];g++)k=g;for(n!=j&&this._dispatchMouseEvent(n,"mouseout",!0,-1,f,h,j),g=m.length-1;g>k;g--)this._dispatchMouseEvent(m[g],"rollout",!1,-1,f,h,j);for(g=o.length-1;g>k;g--)this._dispatchMouseEvent(o[g],"rollover",!1,-1,f,h,n);n!=j&&this._dispatchMouseEvent(j,"mouseover",!0,-1,f,h,n),e&&e._testMouseOver(b,c||j&&this,d||i&&this)}}},c._handleDoubleClick=function(b,c){var d=null,e=this._nextStage,f=this._getPointerData(-1);c||(d=this._getObjectsUnderPoint(f.x,f.y,null,!0),this._dispatchMouseEvent(d,"dblclick",!0,-1,f,b)),e&&e._handleDoubleClick(b,c||d&&this)},c._dispatchMouseEvent=function(b,c,d,e,f,g,i){if(b&&(d||b.hasEventListener(c))){c=new h.MouseEvent(c,d,!1,f.x,f.y,g,e,e===this._primaryPointerID||-1===e,f.rawX,f.rawY,i);b.dispatchEvent(c)}},h.Stage=h.promote(b,"Container")})(),h=h||{},(function(){function b(b){this.DisplayObject_constructor(),"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b,this.sourceRect=null}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.image;b=this.cacheCanvas||b&&(b.naturalWidth||b.getContext||b.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c)||!this.image)return!0;c=this.image;var d=this.sourceRect;if(d){var e=d.x,f=d.y,g=e+d.width;d=f+d.height;var h=0,i=0,j=c.width,k=c.height;0>e&&(h-=e,e=0),g>j&&(g=j),0>f&&(i-=f,f=0),d>k&&(d=k),b.drawImage(c,e,f,g-e,d-f,h,i,g-e,d-f)}else b.drawImage(c,0,0);return!0},c.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;b=this.image;var c=this.sourceRect||b;b=b&&(b.naturalWidth||b.getContext||b.readyState>=2);return b?this._rectangle.setValues(0,0,c.width,c.height):null},c.clone=function(){var c=new b(this.image);return this.sourceRect&&(c.sourceRect=this.sourceRect.clone()),this._cloneProps(c),c},c.toString=function(){return"[Bitmap (name="+this.name+")]"},h.Bitmap=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=b,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=c&&this.gotoAndPlay(c)}var c=h.extend(b,h.DisplayObject);c.initialize=b,c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;this._normalizeFrame();c=this.spriteSheet.getFrame(0|this._currentFrame);if(!c)return!1;var d=c.rect;return d.width&&d.height&&b.drawImage(c.image,d.x,d.y,d.width,d.height,-c.regX,-c.regY,d.width,d.height),!0},c.play=function(){this.paused=!1},c.stop=function(){this.paused=!0},c.gotoAndPlay=function(b){this.paused=!1,this._skipAdvance=!0,this._goto(b)},c.gotoAndStop=function(b){this.paused=!0,this._goto(b)},c.advance=function(b){var c=this.framerate||this.spriteSheet.framerate;b=c&&null!=b?b/(1e3/c):1;this._normalizeFrame(b)},c.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},c.clone=function(){return this._cloneProps(new b(this.spriteSheet))},c.toString=function(){return"[Sprite (name="+this.name+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.currentFrame=this.currentFrame,b.currentAnimation=this.currentAnimation,b.paused=this.paused,b.currentAnimationFrame=this.currentAnimationFrame,b.framerate=this.framerate,b._animation=this._animation,b._currentFrame=this._currentFrame,b._skipAdvance=this._skipAdvance,b},c._tick=function(b){this.paused||(this._skipAdvance||this.advance(b&&b.delta),this._skipAdvance=!1),this.DisplayObject__tick(b)},c._normalizeFrame=function(b){b=b||0;var c,d=this._animation,e=this.paused,f=this._currentFrame;if(d){var g=d.speed||1,h=this.currentAnimationFrame;if(c=d.frames.length,h+b*g>=c){var i=d.next;if(this._dispatchAnimationEnd(d,f,e,i,c-1))return;if(i)return this._goto(i,b-(c-h)/g);this.paused=!0,h=d.frames.length-1}else h+=b*g;this.currentAnimationFrame=h,this._currentFrame=d.frames[0|h]}else if(f=this._currentFrame+=b,c=this.spriteSheet.getNumFrames(),f>=c&&c>0&&!this._dispatchAnimationEnd(d,f,e,c-1)&&(this._currentFrame-=c)>=c)return this._normalizeFrame();f=0|this._currentFrame,this.currentFrame!=f&&(this.currentFrame=f,this.dispatchEvent("change"))},c._dispatchAnimationEnd=function(b,c,d,e,f){var g=b?b.name:null;if(this.hasEventListener("animationend")){var i=new h.Event("animationend");i.name=g,i.next=e,this.dispatchEvent(i)}g=this._animation!=b||this._currentFrame!=c;return g||d||!this.paused||(this.currentAnimationFrame=f,g=!0),g},c._goto=function(b,c){if(this.currentAnimationFrame=0,isNaN(b)){var d=this.spriteSheet.getAnimation(b);d&&(this._animation=d,this.currentAnimation=b,this._normalizeFrame(c))}else this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()},h.Sprite=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),this.graphics=b?b:new h.Graphics}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this.graphics.draw(b,this),!0)},c.clone=function(c){c=c&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new b(c))},c.toString=function(){return"[Shape (name="+this.name+")]"},h.Shape=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c,d){this.DisplayObject_constructor(),this.text=b,this.font=c,this.color=d,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var c=h.extend(b,h.DisplayObject),d=h.createCanvas?h.createCanvas():document.createElement("canvas");d.getContext&&(b._workingContext=d.getContext("2d"),d.width=d.height=1),b.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},b.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},c.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&b)},c.draw=function(b,c){if(this.DisplayObject_draw(b,c))return!0;c=this.color||"#000";return this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=c,this._drawText(this._prepContext(b)),!0},c.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},c.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},c.getMeasuredHeight=function(){return this._drawText(null,{}).height},c.getBounds=function(){var c=this.DisplayObject_getBounds();if(c)return c;if(null==this.text||""===this.text)return null;c=this._drawText(null,{});var d=this.maxWidth&&this.maxWidth<c.width?this.maxWidth:c.width,e=d*b.H_OFFSETS[this.textAlign||"left"],f=this.lineHeight||this.getMeasuredLineHeight();f=f*b.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(e,f,d,c.height)},c.getMetrics=function(){var c={lines:[]};return c.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),c.vOffset=c.lineHeight*b.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,c,c.lines)},c.clone=function(){return this._cloneProps(new b(this.text,this.font,this.color))},c.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},c._cloneProps=function(b){return this.DisplayObject__cloneProps(b),b.textAlign=this.textAlign,b.textBaseline=this.textBaseline,b.maxWidth=this.maxWidth,b.outline=this.outline,b.lineHeight=this.lineHeight,b.lineWidth=this.lineWidth,b},c._prepContext=function(b){return b.font=this.font||"10px sans-serif",b.textAlign=this.textAlign||"left",b.textBaseline=this.textBaseline||"top",b},c._drawText=function(c,d,e){var f=!!c;f||(c=b._workingContext,c.save(),this._prepContext(c));for(var g=this.lineHeight||this.getMeasuredLineHeight(),h=0,i=0,j=String(this.text).split(/(?:\r\n|\r|\n)/),k=0,l=j.length;l>k;k++){var m=j[k],n=null;if(null!=this.lineWidth&&(n=c.measureText(m).width)>this.lineWidth){var o=m.split(/(\s)/);m=o[0],n=c.measureText(m).width;for(var a=1,p=o.length;p>a;a+=2){var q=c.measureText(o[a]+o[a+1]).width;n+q>this.lineWidth?(f&&this._drawTextLine(c,m,i*g),e&&e.push(m),n>h&&(h=n),m=o[a+1],n=c.measureText(m).width,i++):(m+=o[a]+o[a+1],n+=q)}}f&&this._drawTextLine(c,m,i*g),e&&e.push(m),d&&null==n&&(n=c.measureText(m).width),n>h&&(h=n),i++}return d&&(d.width=h,d.height=i*g),f||c.restore(),d},c._drawTextLine=function(b,c,d){this.outline?b.strokeText(c,0,d,this.maxWidth||65535):b.fillText(c,0,d,this.maxWidth||65535)},c._getMeasuredWidth=function(c){var d=b._workingContext;d.save();c=this._prepContext(d).measureText(c).width;return d.restore(),c},h.Text=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(b,c){this.Container_constructor(),this.text=b||"",this.spriteSheet=c,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var c=h.extend(b,h.Container);b.maxPoolSize=100,b._spritePool=[],c.draw=function(b,c){this.DisplayObject_draw(b,c)||(this._updateText(),this.Container_draw(b,c))},c.getBounds=function(){return this._updateText(),this.Container_getBounds()},c.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&b)},c.clone=function(){return this._cloneProps(new b(this.text,this.spriteSheet))},c.addChild=c.addChildAt=c.removeChild=c.removeChildAt=c.removeAllChildren=function(){},c._cloneProps=function(b){return this.Container__cloneProps(b),b.lineHeight=this.lineHeight,b.letterSpacing=this.letterSpacing,b.spaceWidth=this.spaceWidth,b},c._getFrameIndex=function(b,c){var d,e=c.getAnimation(b);return e||(b!=(d=b.toUpperCase())||b!=(d=b.toLowerCase())||(d=null),d&&(e=c.getAnimation(d))),e&&e.frames[0]},c._getFrame=function(b,c){b=this._getFrameIndex(b,c);return null==b?b:c.getFrame(b)},c._getLineHeight=function(b){b=this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0);return b?b.rect.height:1},c._getSpaceWidth=function(b){b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0);return b?b.rect.width:1},c._updateText=function(){var c,d=0,e=0,f=this._oldProps,g=!1,i=this.spaceWidth,j=this.lineHeight,k=this.spriteSheet,l=b._spritePool,m=this.children,n=0,o=m.length;for(var a in f)f[a]!=this[a]&&(f[a]=this[a],g=!0);if(g){f=!!this._getFrame(" ",k);f||i||(i=this._getSpaceWidth(k)),j||(j=this._getLineHeight(k));for(a=0,g=this.text.length;g>a;a++){var p=this.text.charAt(a);if(" "!=p||f)if("\n"!=p&&"\r"!=p){var q=this._getFrameIndex(p,k);null!=q&&(o>n?c=m[n]:(m.push(c=l.length?l.pop():new h.Sprite),c.parent=this,o++),c.spriteSheet=k,c.gotoAndStop(q),c.x=d,c.y=e,n++,d+=c.getBounds().width+this.letterSpacing)}else"\r"==p&&"\n"==this.text.charAt(a+1)&&a++,d=0,e+=j;else d+=i}for(;o>n;)l.push(c=m.pop()),c.parent=null,o--;l.length>b.maxPoolSize&&(l.length=b.maxPoolSize)}},h.BitmapText=h.promote(b,"Container")})(),h=h||{},(function(){"use strict";function b(c,d,e,f){this.Container_constructor(),!b.inited&&b.init(),this.mode=c||b.INDEPENDENT,this.startPosition=d||0,this.loop=e,this.currentFrame=0,this.timeline=new h.Timeline(null,f,{paused:!0,position:d,useTicks:!0}),this.paused=!1,this.actionsEnabled=!0,this.autoReset=!0,this.frameBounds=this.frameBounds||null,this.framerate=null,this._synchOffset=0,this._prevPos=-1,this._prevPosition=0,this._t=0,this._managed={}}function c(){throw"MovieClipPlugin cannot be instantiated."}var d=h.extend(b,h.Container);b.INDEPENDENT="independent",b.SINGLE_FRAME="single",b.SYNCHED="synched",b.inited=!1,b.init=function(){b.inited||(c.install(),b.inited=!0)},d.getLabels=function(){return this.timeline.getLabels()},d.getCurrentLabel=function(){return this._updateTimeline(),this.timeline.getCurrentLabel()},d.getDuration=function(){return this.timeline.duration};try{Object.defineProperties(d,{labels:{get:d.getLabels},currentLabel:{get:d.getCurrentLabel},totalFrames:{get:d.getDuration},duration:{get:d.getDuration}})}catch(b){}d.initialize=b,d.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},d.draw=function(b,c){return this.DisplayObject_draw(b,c)?!0:(this._updateTimeline(),this.Container_draw(b,c),!0)},d.play=function(){this.paused=!1},d.stop=function(){this.paused=!0},d.gotoAndPlay=function(b){this.paused=!1,this._goto(b)},d.gotoAndStop=function(b){this.paused=!0,this._goto(b)},d.advance=function(c){var d=b.INDEPENDENT;if(this.mode==d){for(var e=this,f=e.framerate;(e=e.parent)&&null==f;)e.mode==d&&(f=e._framerate);this._framerate=f;d=null!=f&&-1!=f&&null!=c?c/(1e3/f)+this._t:1;e=0|d;for(this._t=d-e;!this.paused&&e--;)this._prevPosition=this._prevPos<0?0:this._prevPosition+1,this._updateTimeline()}},d.clone=function(){throw"MovieClip cannot be cloned."},d.toString=function(){return"[MovieClip (name="+this.name+")]"},d._tick=function(b){this.advance(b&&b.delta),this.Container__tick(b)},d._goto=function(b){b=this.timeline.resolve(b);null!=b&&(-1==this._prevPos&&(this._prevPos=0/0),this._prevPosition=b,this._t=0,this._updateTimeline())},d._reset=function(){this._prevPos=-1,this._t=this.currentFrame=0,this.paused=!1},d._updateTimeline=function(){var c=this.timeline,d=this.mode!=b.INDEPENDENT;c.loop=null==this.loop?!0:this.loop;var e=d?this.startPosition+(this.mode==b.SINGLE_FRAME?0:this._synchOffset):this._prevPos<0?0:this._prevPosition;d=d||!this.actionsEnabled?h.Tween.NONE:null;if(this.currentFrame=c._calcPosition(e),c.setPosition(e,d),this._prevPosition=c._prevPosition,this._prevPos!=c._prevPos){this.currentFrame=this._prevPos=c._prevPos;for(e in this._managed)this._managed[e]=1;for(d=c._tweens,e=0,c=d.length;c>e;e++){var f=d[e],g=f._target;if(g!=this&&!f.passive){f=f._stepPosition;g instanceof h.DisplayObject?this._addManagedChild(g,f):this._setState(g.state,f)}}g=this.children;for(e=g.length-1;e>=0;e--){f=g[e].id;1==this._managed[f]&&(this.removeChildAt(e),delete this._managed[f])}}},d._setState=function(b,c){if(b)for(var d=b.length-1;d>=0;d--){var e=b[d],f=e.t;e=e.p;for(var g in e)f[g]=e[g];this._addManagedChild(f,c)}},d._addManagedChild=function(c,d){c._off||(this.addChildAt(c,0),c instanceof b&&(c._synchOffset=d,c.mode==b.INDEPENDENT&&c.autoReset&&!this._managed[c.id]&&c._reset()),this._managed[c.id]=2)},d._getBounds=function(b,c){var d=this.DisplayObject_getBounds();return d||(this._updateTimeline(),this.frameBounds&&(d=this._rectangle.copy(this.frameBounds[this.currentFrame]))),d?this._transformBounds(d,b,c):this.Container__getBounds(b,c)},h.MovieClip=h.promote(b,"Container"),c.priority=100,c.install=function(){h.Tween.installPlugin(c,["startPosition"])},c.init=function(b,c,d){return d},c.step=function(){},c.tween=function(c,d,e,f,g,h){return c.target instanceof b?1==h?g[d]:f[d]:e}})(),h=h||{},(function(){"use strict";function b(){throw"SpriteSheetUtils cannot be instantiated"}var c=h.createCanvas?h.createCanvas():document.createElement("canvas");c.getContext&&(b._workingCanvas=c,b._workingContext=c.getContext("2d"),c.width=c.height=1),b.addFlippedFrames=function(c,d,e,f){if(d||e||f){var g=0;d&&b._flip(c,++g,!0,!1),e&&b._flip(c,++g,!1,!0),f&&b._flip(c,++g,!0,!0)}},b.extractFrame=function(c,d){isNaN(d)&&(d=c.getAnimation(d).frames[0]);c=c.getFrame(d);if(!c)return null;d=c.rect;var e=b._workingCanvas;e.width=d.width,e.height=d.height,b._workingContext.drawImage(c.image,d.x,d.y,d.width,d.height,0,0,d.width,d.height);c=document.createElement("img");return c.src=e.toDataURL("image/png"),c},b.mergeAlpha=function(b,c,d){d||(d=h.createCanvas?h.createCanvas():document.createElement("canvas")),d.width=Math.max(c.width,b.width),d.height=Math.max(c.height,b.height);var e=d.getContext("2d");return e.save(),e.drawImage(b,0,0),e.globalCompositeOperation="destination-in",e.drawImage(c,0,0),e.restore(),d},b._flip=function(c,d,e,f){for(var g=c._images,h=b._workingCanvas,i=b._workingContext,j=g.length/d,k=0;j>k;k++){var l=g[k];l.__tmp=k,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,h.width+1,h.height+1),h.width=l.width,h.height=l.height,i.setTransform(e?-1:1,0,0,f?-1:1,e?l.width:0,f?l.height:0),i.drawImage(l,0,0);var m=document.createElement("img");m.src=h.toDataURL("image/png"),m.width=l.width,m.height=l.height,g.push(m)}h=c._frames;i=h.length/d;for(k=0;i>k;k++){l=h[k];var n=l.rect.clone();m=g[l.image.__tmp+j*d];var o={image:m,rect:n,regX:l.regX,regY:l.regY};e&&(n.x=m.width-n.x-n.width,o.regX=n.width-l.regX),f&&(n.y=m.height-n.y-n.height,o.regY=n.height-l.regY),h.push(o)}m="_"+(e?"h":"")+(f?"v":"");n=c._animations;o=c._data;g=n.length/d;for(k=0;g>k;k++){j=n[k];l=o[j];e={name:j+m,speed:l.speed,next:l.next,frames:[]};l.next&&(e.next+=m),h=l.frames;for(f=0,c=h.length;c>f;f++)e.frames.push(h[f]+i*d);o[e.name]=e,n.push(e.name)}},h.SpriteSheetUtils=b})(),h=h||{},(function(){"use strict";function b(b){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this.framerate=b||0,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var c=h.extend(b,h.EventDispatcher);b.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",b.ERR_RUNNING="a build is already running",c.addFrame=function(c,d,e,f,g){if(this._data)throw b.ERR_RUNNING;d=d||c.bounds||c.nominalBounds;return!d&&c.getBounds&&(d=c.getBounds()),d?(e=e||1,this._frames.push({source:c,sourceRect:d,scale:e,funct:f,data:g,index:this._frames.length,height:d.height*e})-1):null},c.addAnimation=function(c,d,e,f){if(this._data)throw b.ERR_RUNNING;this._animations[c]={frames:d,next:e,speed:f}},c.addMovieClip=function(c,d,e,f,g,h){if(this._data)throw b.ERR_RUNNING;var i=c.frameBounds;d=d||c.bounds||c.nominalBounds;if(!d&&c.getBounds&&(d=c.getBounds()),d||i){var j,k=this._frames.length,l=c.timeline.duration;for(j=0;l>j;j++){var m=i&&i[j]?i[j]:d;this.addFrame(c,m,e,this._setupMovieClipFrame,{i:j,f:f,d:g})}m=c.timeline._labels;e=[];for(f in m)e.push({index:m[f],label:f});if(e.length)for(e.sort(function(b,c){return b.index-c.index}),j=0,g=e.length;g>j;j++){for(var i=e[j].label,d=k+e[j].index,m=k+(j==g-1?l:e[j+1].index),f=[],n=d;m>n;n++)f.push(n);(!h||(i=h(i,c,d,m)))&&this.addAnimation(i,f,!0)}}},c.build=function(){if(this._data)throw b.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},c.buildAsync=function(c){if(this._data)throw b.ERR_RUNNING;this.timeSlice=c,this._startBuild();var d=this;this._timerID=setTimeout(function(){d._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},c.stopAsync=function(){clearTimeout(this._timerID),this._data=null},c.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},c.toString=function(){return"[SpriteSheetBuilder]"},c._startBuild=function(){var c=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var d=[];this._data={images:[],frames:d,framerate:this.framerate,animations:this._animations};var e=this._frames.slice();if(e.sort(function(b,c){return b.height<=c.height?-1:1}),e[e.length-1].height+2*c>this.maxHeight)throw b.ERR_DIMENSIONS;for(var f=0,g=0,i=0;e.length;){var j=this._fillRow(e,f,i,d,c);if(j.w>g&&(g=j.w),f+=j.h,!j.h||!e.length){var k=h.createCanvas?h.createCanvas():document.createElement("canvas");k.width=this._getSize(g,this.maxWidth),k.height=this._getSize(f,this.maxHeight),this._data.images[i]=k,j.h||(g=f=0,i++)}}},c._setupMovieClipFrame=function(b,c){var d=b.actionsEnabled;b.actionsEnabled=!1,b.gotoAndStop(c.i),b.actionsEnabled=d,c.f&&c.f(b,c.d,c.i)},c._getSize=function(b,c){for(var d=4;Math.pow(2,++d)<b;);return Math.min(c,Math.pow(2,d))},c._fillRow=function(c,d,e,f,g){var i=this.maxWidth,j=this.maxHeight;d+=g;for(var j=j-d,k=g,l=0,m=c.length-1;m>=0;m--){var n=c[m],o=this._scale*n.scale,a=n.sourceRect,p=n.source,q=Math.floor(o*a.x-g),r=Math.floor(o*a.y-g),s=Math.ceil(o*a.height+2*g);a=Math.ceil(o*a.width+2*g);if(a>i)throw b.ERR_DIMENSIONS;s>j||k+a>i||(n.img=e,n.rect=new h.Rectangle(k,d,a,s),l=l||s,c.splice(m,1),f[n.index]=[k,d,a,s,e,Math.round(-q+o*p.regX-g),Math.round(-r+o*p.regY-g)],k+=a)}return{w:k,h:l}},c._endBuild=function(){this.spriteSheet=new h.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},c._run=function(){for(var b=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),c=(new Date).getTime()+b,d=!1;c>(new Date).getTime();)if(!this._drawNext()){d=!0;break}if(d)this._endBuild();else{var e=this;this._timerID=setTimeout(function(){e._run()},50-b)}c=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){d=new h.Event("progress");d.progress=c,this.dispatchEvent(d)}},c._drawNext=function(){var b=this._frames[this._index],c=b.scale*this._scale,d=b.rect,e=b.sourceRect,f=this._data.images[b.img];f=f.getContext("2d");return b.funct&&b.funct(b.source,b.data),f.save(),f.beginPath(),f.rect(d.x,d.y,d.width,d.height),f.clip(),f.translate(Math.ceil(d.x-e.x*c),Math.ceil(d.y-e.y*c)),f.scale(c,c),b.source.draw(f),f.restore(),++this._index<this._frames.length},h.SpriteSheetBuilder=h.promote(b,"EventDispatcher")})(),h=h||{},(function(){"use strict";function b(b){this.DisplayObject_constructor(),"string"==typeof b&&(b=document.getElementById(b)),this.mouseEnabled=!1;var c=b.style;c.position="absolute",c.transformOrigin=c.WebkitTransformOrigin=c.msTransformOrigin=c.MozTransformOrigin=c.OTransformOrigin="0% 0%",this.htmlElement=b,this._oldProps=null}var c=h.extend(b,h.DisplayObject);c.isVisible=function(){return null!=this.htmlElement},c.draw=function(){return!0},c.cache=function(){},c.uncache=function(){},c.updateCache=function(){},c.hitTest=function(){},c.localToGlobal=function(){},c.globalToLocal=function(){},c.localToLocal=function(){},c.clone=function(){throw"DOMElement cannot be cloned."},c.toString=function(){return"[DOMElement (name="+this.name+")]"},c._tick=function(b){var c=this.getStage();c&&c.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(b)},c._handleDrawEnd=function(){var b=this.htmlElement;if(b){b=b.style;var c=this.getConcatenatedDisplayProps(this._props),d=c.matrix,e=c.visible?"visible":"hidden";if(e!=b.visibility&&(b.visibility=e),c.visible){e=this._oldProps;var f=e&&e.matrix,g=1e4;if(!f||!f.equals(d)){f="matrix("+(d.a*g|0)/g+","+(d.b*g|0)/g+","+(d.c*g|0)/g+","+(d.d*g|0)/g+","+(d.tx+.5|0);b.transform=b.WebkitTransform=b.OTransform=b.msTransform=f+","+(d.ty+.5|0)+")",b.MozTransform=f+"px,"+(d.ty+.5|0)+"px)",e||(e=this._oldProps=new h.DisplayProps(!0,0/0)),e.matrix.copy(d)}e.alpha!=c.alpha&&(b.opacity=""+(c.alpha*g|0)/g,e.alpha=c.alpha)}}},h.DOMElement=h.promote(b,"DisplayObject")})(),h=h||{},(function(){"use strict";function b(){}var c=b.prototype;c.getBounds=function(b){return b},c.applyFilter=function(b,c,d,e,f,g,h,i){g=g||b,null==h&&(h=c),null==i&&(i=d);try{var j=b.getImageData(c,d,e,f)}catch(b){return!1}return this._applyFilter(j)?(g.putImageData(j,h,i),!0):!1},c.toString=function(){return"[Filter]"},c.clone=function(){return new b},c._applyFilter=function(){return!0},h.Filter=b})(),h=h||{},(function(){"use strict";function b(b,c,d){(isNaN(b)||0>b)&&(b=0),(isNaN(c)||0>c)&&(c=0),(isNaN(d)||1>d)&&(d=1),this.blurX=0|b,this.blurY=0|c,this.quality=0|d}var c=h.extend(b,h.Filter);b.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],b.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],c.getBounds=function(b){var c=0|this.blurX,d=0|this.blurY;if(0>=c&&0>=d)return b;var e=Math.pow(this.quality,.2);return(b||new h.Rectangle).pad(c*e+1,d*e+1,c*e+1,d*e+1)},c.clone=function(){return new b(this.blurX,this.blurY,this.quality)},c.toString=function(){return"[BlurFilter]"},c._applyFilter=function(c){var d=this.blurX>>1;if(isNaN(d)||0>d)return!1;var e=this.blurY>>1;if(isNaN(e)||0>e)return!1;if(0==d&&0==e)return!1;var f=this.quality;(isNaN(f)||1>f)&&(f=1),f|=0,f>3&&(f=3),1>f&&(f=1);var g=c.data,h,i,j,k,l,m,n,o,a,p,q,r,s,t=d+d+1|0,u=e+e+1|0,v=0|c.width;c=0|c.height;var w=v-1|0,x=c-1|0,y=d+1|0,z=e+1|0,A={r:0,b:0,g:0,a:0},B=A;for(i=1;t>i;i++)B=B.n={r:0,b:0,g:0,a:0};B.n=A;t={r:0,b:0,g:0,a:0};var C=t;for(i=1;u>i;i++)C=C.n={r:0,b:0,g:0,a:0};C.n=t;for(var u=null,D=0|b.MUL_TABLE[d],E=0|b.SHG_TABLE[d],F=0|b.MUL_TABLE[e],G=0|b.SHG_TABLE[e];f-->0;){l=k=0;var H=D,I=E;for(h=c;--h>-1;){for(m=y*(p=g[0|k]),n=y*(q=g[k+1|0]),o=y*(r=g[k+2|0]),a=y*(s=g[k+3|0]),B=A,i=y;--i>-1;)B.r=p,B.g=q,B.b=r,B.a=s,B=B.n;for(i=1;y>i;i++)j=k+((i>w?w:i)<<2)|0,m+=B.r=g[j],n+=B.g=g[j+1],o+=B.b=g[j+2],a+=B.a=g[j+3],B=B.n;for(u=A,B=0;v>B;B++)g[k++]=m*H>>>I,g[k++]=n*H>>>I,g[k++]=o*H>>>I,g[k++]=a*H>>>I,j=l+((j=B+d+1)<w?j:w)<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n;l+=v}for(H=F,I=G,B=0;v>B;B++){for(k=B<<2|0,m=z*(p=g[k])|0,n=z*(q=g[k+1|0])|0,o=z*(r=g[k+2|0])|0,a=z*(s=g[k+3|0])|0,C=t,i=0;z>i;i++)C.r=p,C.g=q,C.b=r,C.a=s,C=C.n;for(l=v,i=1;e>=i;i++)k=l+B<<2,m+=C.r=g[k],n+=C.g=g[k+1],o+=C.b=g[k+2],a+=C.a=g[k+3],C=C.n,x>i&&(l+=v);if(k=B,u=t,f>0)for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(g[j]=m*H>>>I,g[j+1]=n*H>>>I,g[j+2]=o*H>>>I):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v;else for(h=0;c>h;h++)j=k<<2,g[j+3]=s=a*H>>>I,s>0?(s=255/s,g[j]=(m*H>>>I)*s,g[j+1]=(n*H>>>I)*s,g[j+2]=(o*H>>>I)*s):g[j]=g[j+1]=g[j+2]=0,j=B+((j=h+z)<x?j:x)*v<<2,m-=u.r-(u.r=g[j]),n-=u.g-(u.g=g[j+1]),o-=u.b-(u.b=g[j+2]),a-=u.a-(u.a=g[j+3]),u=u.n,k+=v}}return!0},h.BlurFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.alphaMap=b,this._alphaMap=null,this._mapData=null}var c=h.extend(b,h.Filter);c.clone=function(){var c=new b(this.alphaMap);return c._alphaMap=this._alphaMap,c._mapData=this._mapData,c},c.toString=function(){return"[AlphaMapFilter]"},c._applyFilter=function(b){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var b=b.data,c=this._mapData,d=0,e=b.length;e>d;d+=4)b[d+3]=c[d]||0;return!0},c._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b,c=this._alphaMap=this.alphaMap,d=c;c instanceof HTMLCanvasElement?b=d.getContext("2d"):(d=h.createCanvas?h.createCanvas():document.createElement("canvas"),d.width=c.width,d.height=c.height,b=d.getContext("2d"),b.drawImage(c,0,0));try{var e=b.getImageData(0,0,c.width,c.height)}catch(b){return!1}return this._mapData=e.data,!0},h.AlphaMapFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b){this.mask=b}var c=h.extend(b,h.Filter);c.applyFilter=function(b,c,d,e,f,g,h,i){return this.mask?(g=g||b,null==h&&(h=c),null==i&&(i=d),g.save(),b!=g?!1:(g.globalCompositeOperation="destination-in",g.drawImage(this.mask,h,i),g.restore(),!0)):!0},c.clone=function(){return new b(this.mask)},c.toString=function(){return"[AlphaMaskFilter]"},h.AlphaMaskFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e,f,g,h,i){this.redMultiplier=null!=b?b:1,this.greenMultiplier=null!=c?c:1,this.blueMultiplier=null!=d?d:1,this.alphaMultiplier=null!=e?e:1,this.redOffset=f||0,this.greenOffset=g||0,this.blueOffset=h||0,this.alphaOffset=i||0}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorFilter]"},c.clone=function(){return new b(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},c._applyFilter=function(b){for(var b=b.data,c=b.length,d=0;c>d;d+=4)b[d]=b[d]*this.redMultiplier+this.redOffset,b[d+1]=b[d+1]*this.greenMultiplier+this.greenOffset,b[d+2]=b[d+2]*this.blueMultiplier+this.blueOffset,b[d+3]=b[d+3]*this.alphaMultiplier+this.alphaOffset;return!0},h.ColorFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(b,c,d,e){this.setColor(b,c,d,e)}var c=b.prototype;b.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],b.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],b.LENGTH=b.IDENTITY_MATRIX.length,c.setColor=function(b,c,d,e){return this.reset().adjustColor(b,c,d,e)},c.reset=function(){return this.copy(b.IDENTITY_MATRIX)},c.adjustColor=function(b,c,d,e){return this.adjustHue(e),this.adjustContrast(c),this.adjustBrightness(b),this.adjustSaturation(d)},c.adjustBrightness=function(b){return 0==b||isNaN(b)?this:(b=this._cleanValue(b,255),this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]),this)},c.adjustContrast=function(c){if(0==c||isNaN(c))return this;c=this._cleanValue(c,100);var d;return 0>c?d=127+c/100*127:(d=c%1,d=0==d?b.DELTA_INDEX[c]:b.DELTA_INDEX[c<<0]*(1-d)+b.DELTA_INDEX[(c<<0)+1]*d,d=127*d+127),this._multiplyMatrix([d/127,0,0,0,.5*(127-d),0,d/127,0,0,.5*(127-d),0,0,d/127,0,.5*(127-d),0,0,0,1,0,0,0,0,0,1]),this},c.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);b=1+(b>0?3*b/100:b/100);var c=.3086,d=.6094,e=.082;return this._multiplyMatrix([c*(1-b)+b,d*(1-b),e*(1-b),0,0,c*(1-b),d*(1-b)+b,e*(1-b),0,0,c*(1-b),d*(1-b),e*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var c=Math.cos(b);b=Math.sin(b);var d=.213,e=.715,f=.072;return this._multiplyMatrix([d+c*(1-d)+b*-d,e+c*-e+b*-e,f+c*-f+b*(1-f),0,0,d+c*-d+.143*b,e+c*(1-e)+.14*b,f+c*-f+b*-.283,0,0,d+c*-d+b*-(1-d),e+c*-e+b*e,f+c*(1-f)+b*f,0,0,0,0,0,1,0,0,0,0,0,1]),this},c.concat=function(c){return c=this._fixMatrix(c),c.length!=b.LENGTH?this:(this._multiplyMatrix(c),this)},c.clone=function(){return(new b).copy(this)},c.toArray=function(){for(var c=[],d=0,e=b.LENGTH;e>d;d++)c[d]=this[d];return c},c.copy=function(c){for(var d=b.LENGTH,e=0;d>e;e++)this[e]=c[e];return this},c.toString=function(){return"[ColorMatrix]"},c._multiplyMatrix=function(b){var c,d,e,f=[];for(c=0;5>c;c++){for(d=0;5>d;d++)f[d]=this[d+5*c];for(d=0;5>d;d++){var g=0;for(e=0;5>e;e++)g+=b[d+5*e]*f[e];this[d+5*c]=g}}},c._cleanValue=function(b,c){return Math.min(c,Math.max(-c,b))},c._fixMatrix=function(c){return c instanceof b&&(c=c.toArray()),c.length<b.LENGTH?c=c.slice(0,c.length).concat(b.IDENTITY_MATRIX.slice(c.length,b.LENGTH)):c.length>b.LENGTH&&(c=c.slice(0,b.LENGTH)),c},h.ColorMatrix=b})(),h=h||{},(function(){"use strict";function b(b){this.matrix=b}var c=h.extend(b,h.Filter);c.toString=function(){return"[ColorMatrixFilter]"},c.clone=function(){return new b(this.matrix)},c._applyFilter=function(b){for(var c,d,e,f,b=b.data,g=b.length,h=this.matrix,i=h[0],j=h[1],k=h[2],l=h[3],m=h[4],n=h[5],o=h[6],a=h[7],p=h[8],q=h[9],r=h[10],s=h[11],t=h[12],u=h[13],v=h[14],w=h[15],x=h[16],y=h[17],z=h[18],h=h[19],A=0;g>A;A+=4)c=b[A],d=b[A+1],e=b[A+2],f=b[A+3],b[A]=c*i+d*j+e*k+f*l+m,b[A+1]=c*n+d*o+e*a+f*p+q,b[A+2]=c*r+d*s+e*t+f*u+v,b[A+3]=c*w+d*x+e*y+f*z+h;return!0},h.ColorMatrixFilter=h.promote(b,"Filter")})(),h=h||{},(function(){"use strict";function b(){throw"Touch cannot be instantiated"}b.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},b.enable=function(c,d,e){return c&&c.canvas&&b.isSupported()?c.__touch?!0:(c.__touch={pointers:{},multitouch:!d,preventDefault:!e,count:0},"ontouchstart"in window?b._IOS_enable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_enable(c),!0):!1},b.disable=function(c){c&&("ontouchstart"in window?b._IOS_disable(c):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&b._IE_disable(c),delete c.__touch)},b._IOS_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IOS_handleEvent(c,d)};d.addEventListener("touchstart",e,!1),d.addEventListener("touchmove",e,!1),d.addEventListener("touchend",e,!1),d.addEventListener("touchcancel",e,!1)},b._IOS_disable=function(b){var c=b.canvas;if(c){b=b.__touch.f;c.removeEventListener("touchstart",b,!1),c.removeEventListener("touchmove",b,!1),c.removeEventListener("touchend",b,!1),c.removeEventListener("touchcancel",b,!1)}},b._IOS_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();for(var d=c.changedTouches,e=c.type,f=0,g=d.length;g>f;f++){var h=d[f],i=h.identifier;h.target==b.canvas&&("touchstart"==e?this._handleStart(b,i,c,h.pageX,h.pageY):"touchmove"==e?this._handleMove(b,i,c,h.pageX,h.pageY):("touchend"==e||"touchcancel"==e)&&this._handleEnd(b,i,c))}}},b._IE_enable=function(c){var d=c.canvas,e=c.__touch.f=function(d){b._IE_handleEvent(c,d)};void 0===window.navigator.pointerEnabled?(d.addEventListener("MSPointerDown",e,!1),window.addEventListener("MSPointerMove",e,!1),window.addEventListener("MSPointerUp",e,!1),window.addEventListener("MSPointerCancel",e,!1),c.__touch.preventDefault&&(d.style.msTouchAction="none")):(d.addEventListener("pointerdown",e,!1),window.addEventListener("pointermove",e,!1),window.addEventListener("pointerup",e,!1),window.addEventListener("pointercancel",e,!1),c.__touch.preventDefault&&(d.style.touchAction="none")),c.__touch.activeIDs={}},b._IE_disable=function(b){var c=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",c,!1),window.removeEventListener("MSPointerUp",c,!1),window.removeEventListener("MSPointerCancel",c,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",c,!1)):(window.removeEventListener("pointermove",c,!1),window.removeEventListener("pointerup",c,!1),window.removeEventListener("pointercancel",c,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",c,!1))},b._IE_handleEvent=function(b,c){if(b){b.__touch.preventDefault&&c.preventDefault&&c.preventDefault();var d=c.type,e=c.pointerId,f=b.__touch.activeIDs;if("MSPointerDown"==d||"pointerdown"==d){if(c.srcElement!=b.canvas)return;f[e]=!0,this._handleStart(b,e,c,c.pageX,c.pageY)}else f[e]&&("MSPointerMove"==d||"pointermove"==d?this._handleMove(b,e,c,c.pageX,c.pageY):("MSPointerUp"==d||"MSPointerCancel"==d||"pointerup"==d||"pointercancel"==d)&&(delete f[e],this._handleEnd(b,e,c)))}},b._handleStart=function(b,c,d,e,f){var g=b.__touch;if(g.multitouch||!g.count){var h=g.pointers;h[c]||(h[c]=!0,g.count++,b._handlePointerDown(c,d,e,f))}},b._handleMove=function(b,c,d,e,f){b.__touch.pointers[c]&&b._handlePointerMove(c,d,e,f)},b._handleEnd=function(b,c,d){var e=b.__touch,f=e.pointers;f[c]&&(e.count--,b._handlePointerUp(c,d,!0),delete f[c])},h.Touch=b})(),h=h||{},(function(){"use strict";var b=h.EaselJS=h.EaselJS||{};b.version="0.8.2",b.buildDate="Thu, 26 Nov 2015 20:44:34 GMT"})();g.Easel=h}),null);
__d("WAWebAccountBoxIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="account-box";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=25;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 25 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M3.5 5V19C3.5 20.1 4.39 21 5.5 21H19.5C20.6 21 21.5 20.1 21.5 19V5C21.5 3.9 20.6 3 19.5 3H5.5C4.39 3 3.5 3.9 3.5 5ZM15.5 9C15.5 10.66 14.16 12 12.5 12C10.84 12 9.5 10.66 9.5 9C9.5 7.34 10.84 6 12.5 6C14.16 6 15.5 7.34 15.5 9ZM6.5 17C6.5 15 10.5 13.9 12.5 13.9C14.5 13.9 18.5 15 18.5 17V18H6.5V17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.AccountBoxIcon=a}),98);
__d("WAWebAddContactToGroupFlow.react",["fbt","$InternalEnum","WANullthrows","WAWebApiContact","WAWebChatCollection","WAWebCmd","WAWebComposeBoxActions","WAWebConfirmPopup.react","WAWebContactGetters","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendContactGetters","WAWebGroupsModal.react","WAWebModifyParticipantsGroupAction","WAWebNoop","WAWebWidFactory","fbs","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n=b("$InternalEnum").Mirrored(["SelectGroup","Confirm"]);function a(a){var b=a.contact;a=d("useWAWebFlow").useFlow(n.SelectGroup);var e=a[0],f=a[1];a=m();var g=a[0],i=a[1];a=function(a){var e=a.groupMetadata;if(!d("WAWebContactGetters").getIsGroup(a)||d("WAWebContactGetters").getIsGroup(a)&&!(e==null?void 0:e.participants.iAmMember()))return!1;a=(e==null?void 0:e.isLidAddressingMode)===!0?d("WAWebApiContact").getCurrentLid(d("WAWebWidFactory").toUserWid(b.id)):b.id;if(a!=null&&(e==null?void 0:e.participants.get(a)))return h._(/*BTDS*/"__JHASH__E9XjA99xrft__JHASH__").toString();return!(e==null?void 0:e.participants.iAmAdmin())?c("fbs")._(/*BTDS*/"__JHASH__vHQqGAVBFML__JHASH__").toString():!0};var j=function(a){d("WAWebModifyParticipantsGroupAction").addParticipants(a,[b]).then(function(){d("WAWebCmd").Cmd.openChatFromUnread(a).then(function(b){b&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)})})["catch"](c("WAWebNoop")),f.end()},o=l(null),p=function(){if(!o.current)return;var a=o.current;if(!a||a.contains(document.activeElement))return;c("WAWebFocusTracer").focus(a)},q=function(a){p(),i(a),f.push(n.Confirm)};if(f.step==null)return null;var r=null;switch(f.step){case n.SelectGroup:r=k.jsx(c("WAWebGroupsModal.react"),{chats:d("WAWebChatCollection").ChatCollection.filter(function(a){return d("WAWebContactGetters").getIsGroup(a)}),filter:a,onCancel:function(){return f.pop()},onGroup:q});break;case n.Confirm:r=k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),okText:h._(/*BTDS*/"__JHASH__QtQHyeSf3uq__JHASH__"),onOK:function(){return j(c("WANullthrows")(g))},onCancel:function(){return f.pop()},children:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"__JHASH__dh1fyYvujaR__JHASH__",[h._param("participant",d("WAWebFrontendContactGetters").getFormattedName(b)),h._param("subject",c("WANullthrows")(g).contact.name)])})});break}return k.jsx(e,{ref:o,flow:f,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAttachMediaFlow.react",["WAWebApiPrepareCtwaContextSend","WAWebAttachMediaModel","WAWebAttachMenuGatingUtils","WAWebBizBotTosUtils","WAWebChatGetters","WAWebCmd","WAWebComposeBoxActions","WAWebDrawerManager","WAWebMediaEditorEnumsThemes","WAWebMediaEditorLoadable.react","WAWebPrepareMessageSendingAction","WAWebUA","WAWebUim","WAWebUimUie.react","WAWebWamEnumThreadType","asyncToGeneratorRuntime","once","react"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useCallback,l=e.useEffect,m=e.useRef;function a(a){var e=a.chat,f=a.initCaption,g=a.mediaCollection,h=a.onCancel,i=a.onComplete,n=a.onDismiss,o=a.onSend,p=a.openTrigger;a=a.sendAsSticker;var q=m();l(function(){d("WAWebCmd").Cmd.closeContextMenu();d("WAWebCmd").Cmd.closeTooltip();d("WAWebDrawerManager").DrawerManager.closeDrawerRight();void d("WAWebPrepareMessageSendingAction").prepareChatForMessageSending(e);return function(){d("WAWebUA").UA.isGecko?self.setTimeout(function(){return d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)},1):d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)}},[]);var r=k(function(){e==null?void 0:e.setAttachMediaContents(null)},[e]),s=k(function(a){var b;a===void 0&&(a=!0);var c=[];(b=e.attachMediaContents)==null?void 0:b.forEach(function(a){a=(a=a.caption)==null?void 0:a.trim();a!=null&&a.length>0&&c.push(a)});a&&r();i==null?void 0:i(!1);h==null?void 0:h(c);g.mediaPickerStatsLogger.logCancel();n()},[e.attachMediaContents,r,g.mediaPickerStatsLogger,h,i,n]),t=function(a){var b;if(!((b=q.current)==null?void 0:b.handleRequestDismiss(a)))return;a===d("WAWebUim").DismissReason.UIM_INTERACTION&&s(!1)},u=c("once")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b={});yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(e);b=b;var c=b.initCaptionUsed,h=b.isViewOnce,j=b.isWamoSub;d("WAWebCmd").Cmd.once("ui_idle",function(){a.forEach(function(a,b){var c=a.media,g={};b===0&&(g.quotedMsg=e.composeQuotedMsg,e.composeQuotedMsg=null);g.type=c.type;g.isViewOnce=h;g.mentionedJidList=a.mentionedJidList;g.groupMentions=a.groupMentions;g.caption=c.caption;g.addEvenWhilePreparing=c.previewable&&c.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING;g.isWamoSub=j;if(f==null?void 0:f.ctwaContextLinkData){b=f.ctwaContextLinkData;a=f.ctwaContext;g.ctwaContext=d("WAWebApiPrepareCtwaContextSend").prepareCtwaContextSend(b,a)}c.sendToChat(e,g)}),r()});i==null?void 0:i(!0,{initCaptionUsed:c});o==null?void 0:o();g.mediaPickerStatsLogger.logSend({isViewOnce:!!h});d("WAWebAttachMenuGatingUtils").areExpressionPanelsEnabledV2()&&d("WAWebCmd").Cmd.closeExpressionPanels();n()});return function(b,c){return a.apply(this,arguments)}}()),v=c("once")(function(a){a!=null&&d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebComposeBoxActions").ComposeBoxActions.paste(e,a)}),n()}),w;d("WAWebChatGetters").getIsNewsletter(e)&&(w={surface:"channel-producer-media-editor",extras:{channelWid:e.id,threadType:d("WAWebWamEnumThreadType").THREAD_TYPE.CHANNEL}});return j.jsx(d("WAWebUimUie.react").UIE,{displayName:"AttachMediaFlow",escapable:!0,requestDismiss:t,children:j.jsx(d("WAWebMediaEditorLoadable.react").MediaEditorLoadable,{theme:d("WAWebMediaEditorEnumsThemes").MediaTheme.ATTACH,ref:q,chat:e,onClose:s,initCaption:f,onSendMedia:u,mediaCollection:g,onDropText:v,sendAsSticker:a,tsNavigationData:w,openTrigger:p})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebVcardConfirmModal.react",["fbt","WAWebChatFlowTypes","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendChatGetters","WAWebFrontendVcardUtils","WAWebKeyboardHotKeys.react","WAWebKeyboardTabUtils","WAWebModal.react","WAWebRound.react","WAWebSendIcon.react","WAWebUIRefreshGatingUtils","WAWebVcardModalDetails.react","WAWebVcardParsingUtils","react","useMergeRefs","useWAWebChatValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n={sendButtonRefresh:{color:"x1pse0pq",backgroundColor:"xfn3atn",$$css:!0}};function o(a){a=a.contact;a=d("WAWebVcardParsingUtils").parseVcard(a.vcard);return!a?null:k.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xyorhqc x150wa6m x1bnvlk4"},{children:k.jsx(c("WAWebVcardModalDetails.react"),{parsedVcard:a,thumbnail:d("WAWebVcardParsingUtils").vcardThumbnail(a)})}))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=m(null);b=c("useMergeRefs")(b,e);var f=a.contactList,g=a.onSend,i=a.onBack;a=a.chat;l(function(){var a=e.current;if(a==null)return;a=d("WAWebKeyboardTabUtils").getNextTabbableElement(a,d("WAWebKeyboardTabUtils").TabDirection.FORWARD,d("WAWebKeyboardTabUtils").FocusType.CUSTOM);if(a==null)return;c("WAWebFocusTracer").focus(a)},[]);var j=d("useWAWebChatValues").useChatValues(a.id,[d("WAWebFrontendChatGetters").getKind]);j=j[0];var p;if(j!=null)switch(j){case d("WAWebChatFlowTypes").ChatKindType.Chat:p=h._(/*BTDS*/"__JHASH__b19P9ZWJTdc__JHASH__",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Group:p=h._(/*BTDS*/"__JHASH__ymsAh415LSe__JHASH__",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Broadcast:p=h._(/*BTDS*/"__JHASH__T2YHOBspucK__JHASH__",[h._plural(f.length,"count"),h._param("chat",a.title())]);break;case d("WAWebChatFlowTypes").ChatKindType.Community:case d("WAWebChatFlowTypes").ChatKindType.Newsletter:break}j=p!=null?k.jsx(d("WAWebEmojiText.react").EmojiText,{text:p,direction:"auto",titlify:!0,ellipsify:!0}):null;return k.jsx(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.Box,children:k.jsxs(c("WAWebDrawer.react"),{children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onBack:i,children:j}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{children:k.jsx("div",babelHelpers["extends"]({className:"x889kno"},{children:f.map(function(a,b){return k.jsx(o,{contact:d("WAWebFrontendVcardUtils").vcardFromContactModel(a)},b.toString())})}))})}),k.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xa1v5g2 x1x0gksc x11doyns"},{children:k.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x145d82y x3h4tne"},{children:k.jsx(d("WAWebRound.react").Round,{label:h._(/*BTDS*/"__JHASH__4XL4i8V2MSi__JHASH__"),large:!0,onClick:g,xstyle:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&n.sendButtonRefresh,children:k.jsx(d("WAWebSendIcon.react").SendIcon,{directional:!0})})}))}))]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAttachVcardsFlow.react",["fbt","$InternalEnum","WAWebABProps","WAWebBizBotTosUtils","WAWebSelectModal.react","WAWebSendContactsAction","WAWebVcardConfirmModal.react","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef,m=b("$InternalEnum").Mirrored(["Select","Confirm"]);function a(a){var e=d("useWAWebFlow").useFlow(m.Select),f=e[0],g=e[1],i=l([]);if(g.step==null)return null;var j;switch(g.step){case m.Select:e=function(a){g.push(m.Confirm),i.current=a};var n=function(){return i.current},o=d("WAWebABProps").getABPropConfigValue("group_size_limit");j=k.jsx(d("WAWebSelectModal.react").SelectModal,{title:h._(/*BTDS*/"__JHASH__0FKlgfRZkxG__JHASH__"),onCancel:function(){a.onCancel(),g.pop()},onConfirm:e,getInitialItems:n,listType:d("WAWebSelectModal.react").ListType.ContactSelectModal,maxItems:o,includeLidContacts:!1,allowBlockedContacts:!0});break;case m.Confirm:var p=function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e;g.end();var f=a.chat;yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(f);var h=f.composeQuotedMsg;f.composeQuotedMsg=null;e=((e=f.getComposeContents())==null?void 0:e.ctwaContext)||void 0;void c("WAWebSendContactsAction")(b,f,h,e);a.onContactsSent()});return function(a){return e.apply(this,arguments)}}();j=k.jsx(c("WAWebVcardConfirmModal.react"),{contactList:i.current,onSend:function(){return void p(i.current)},onBack:function(){g.pop()},chat:a.chat});break}return k.jsx(f,{flow:g,children:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebAvatarOverlay.react",["$InternalEnum","WAWebUIRefreshGatingUtils","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useMemo,m=b("$InternalEnum").Mirrored(["DEFAULT","COMMUNITY"]),n={overlay:{position:"x10l6tqk",top:"x13vifvy",insetInlineStart:"x1o0tod",zIndex:"xfo81ep",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",height:"x5yr21d",fontSize:"x1nxh6w3",lineHeight:"x1u7k74",color:"x1j16vfr",textTransform:"xtvhhri",backgroundColor:"x146q241",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},overlayRefreshed:{position:"x10l6tqk",top:"x13vifvy",zIndex:"x42zw1d",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"xh8yej3",height:"x5yr21d",backgroundColor:"x219wg1",$$css:!0},overlayInnerRefreshed:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",flexDirection:"xdt5ytf",rowGap:"x1r0jzty",boxSizing:"x9f619",width:"x29ncy0",height:"x17j7krd",$$css:!0},noBorderRadius:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0},text:{width:"x1exxlbk",textAlign:"x2b8uid",overflowWrap:"x1mzt3pk",$$css:!0},textRefreshed:{width:"xh8yej3",textAlign:"x2b8uid",overflowWrap:"x1mzt3pk",color:"x1awj2ng",fontSize:"x1nxh6w3",lineHeight:"x1d3mw78",$$css:!0}};function a(a){var b=a.icon,e=a.ref,f=a.text;a=a.theme;var g=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),h=l(function(){var a=k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({},{0:{className:"x7o08j2"},1:{className:"x1awj2ng"}}[!!g<<0],{children:b})),k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(i||(i=c("stylex"))).props(g?n.textRefreshed:n.text,!g&&d("WAWebUISpacing").uiMargin.top10),{children:f}))]});g&&(a=k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.overlayInnerRefreshed,d("WAWebUISpacing").uiPadding.all8),{children:a})));return a},[b,g,f]);return k.createElement("div",babelHelpers["extends"]({ref:e},(i||(i=c("stylex"))).props([g?n.overlayRefreshed:[n.overlay,d("WAWebUISpacing").uiPadding.top15],a===m.COMMUNITY&&n.noBorderRadius]),{key:"avatar-overlay"}),h)}a.displayName=a.name+" [from "+f.id+"]";g.AvatarOverlayTheme=m;g.AvatarOverlay=a}),98);
__d("WAWebBizProductMessageSendQpl",["WAQplTypes","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule"],(function(a,b,c,d,e,f,g){function a(a,b,c){var e=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(e,{annotations:{string:{EntryPoint:a}}});b!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ProductCount:b}});c!==void 0&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(e,{"int":{ContactCount:c}})}function b(a){var b=d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PRODUCT_MESSAGE_SEND;a.then(function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(b,d("WAQplTypes").QuickLogActionType.FAIL)})}g.qplStartProductSendMessage=a;g.qplEndProductMessageSend=b}),98);
__d("WAWebProductCatalogMessage",["fbt","WALogger","WANullthrows","WAWebAttachMediaCollection","WAWebAttachMediaModel","WAWebMsgType","WAWebProductCatalogLogQplEvents","WAWebProductSelectors","WAWebToast.react","WAWebToastManager","WAWebWamEnumMediaPickerOriginType","asyncToGeneratorRuntime","err","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Failed to send Catalog product"]);j=function(){return a};return a}var k=i||c("react");function l(a,b,c){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){b=c("WANullthrows")(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:b}));d("WAWebProductCatalogLogQplEvents").qplPointProductMessageSend("image_upload_start");yield b.processAttachments([{file:a}],d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.CHAT_PHOTO_LIBRARY,e);d("WAWebProductCatalogLogQplEvents").qplPointProductMessageSend("image_upload_end");if(!b.canSend())return;a=b.getPreviewableMedias();if(a.length!==1)return;e=a[0];c("isStringNullOrEmpty")(e.caption)&&(e.caption=void 0);return e});return m.apply(this,arguments)}function n(a){return babelHelpers["extends"]({businessOwnerJid:a.catalogWid.toString({legacy:!0}),productId:a.id.toString(),url:a.url,productImageCount:a.getProductImageCollectionCount(),title:a.name,description:a.description},a.priceAmount1000===0?{priceAmount1000:null,currencyCode:null}:{currencyCode:a.currency,priceAmount1000:a.priceAmount1000},{salePriceAmount1000:d("WAWebProductSelectors").isSalePriceActive(a)?a.salePriceAmount1000:null})}function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=b.getHeadImageFile();if(!f){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__-5lwPqXH6V4__JHASH__")}));throw c("err")("Tried to send product message. Media file is not available.")}var g=a.getParticipantCount();f=(yield l(f,g,a));if(!f){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__-5lwPqXH6V4__JHASH__")}));throw c("err")("Tried to send product message. Media data is not available.")}g={quotedMsg:e,caption:f.caption,addEvenWhilePreparing:f.previewable&&f.state===d("WAWebAttachMediaModel").ATTACH_MEDIA_STATE.PROCESSING,useBasePropsType:!0};return f.sendToChat(a,babelHelpers["extends"]({},g,{type:d("WAWebMsgType").MSG_TYPE.PRODUCT,productMsgOptions:n(b)}))["catch"](function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__zPSgmqPszEp__JHASH__")}));d("WALogger").ERROR(j()).tags("messaging").sendLogs("catalog-product-send-failed",{sampling:.01});throw c("err")("Failed to send product")})});return o.apply(this,arguments)}g.createProductMsgSnapshot=n;g.sendProductMessage=a}),226);
__d("WAWebCatalogIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="catalog";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsxs("g",{id:"catalog_web",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[j.jsx("path",{d:"M3.25,15 L3.25,19 C3.25,19.9664983 4.03350169,20.75 5,20.75 L15,20.75 C15.9664983,20.75 16.75,19.9664983 16.75,19 L16.75,15 C16.75,14.5857864 16.4142136,14.25 16,14.25 C15.5857864,14.25 15.25,14.5857864 15.25,15 L15.25,19 C15.25,19.1380712 15.1380712,19.25 15,19.25 L5,19.25 C4.86192881,19.25 4.75,19.1380712 4.75,19 L4.75,15 C4.75,14.5857864 4.41421356,14.25 4,14.25 C3.58578644,14.25 3.25,14.5857864 3.25,15 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),j.jsx("path",{d:"M20.75,20 L20.75,15 C20.75,14.5857864 20.4142136,14.25 20,14.25 C19.5857864,14.25 19.25,14.5857864 19.25,15 L19.25,20 C19.25,20.4142136 19.5857864,20.75 20,20.75 C20.4142136,20.75 20.75,20.4142136 20.75,20 Z",id:"Path-2",fill:"#101B20",fillRule:"nonzero"}),j.jsx("path",{d:"M19.0596875,4 L5.51793438,4 C4.40802085,4 3.43383032,4.73889996 3.13458536,5.80771262 L2.05872453,9.65036257 C1.82420376,10.488 2.31312637,11.3571559 3.15076375,11.5916766 C3.2889905,11.6303772 3.43185897,11.65 3.57540118,11.65 L21.0022207,11.65 C21.8720692,11.65 22.5772207,10.9448485 22.5772207,10.075 C22.5772207,9.93145779 22.557598,9.78858932 22.5188974,9.65036257 L21.4430366,5.80771262 C21.1437916,4.73889996 20.1696011,4 19.0596875,4 Z M19.0596875,5.35 C19.5641937,5.35 20.0070076,5.68586362 20.143028,6.17168755 L21.2188888,10.0143375 C21.2244175,10.0340842 21.2272207,10.054494 21.2272207,10.075 C21.2272207,10.1992641 21.1264848,10.3 21.0022207,10.3 L3.57540118,10.3 C3.55489515,10.3 3.53448537,10.2971967 3.51473869,10.2916681 C3.39507621,10.2581651 3.32523012,10.134 3.35873309,10.0143375 L4.43459391,6.17168755 C4.57061435,5.68586362 5.01342823,5.35 5.51793438,5.35 L19.0596875,5.35 Z",id:"Path",fill:"#000000",fillRule:"nonzero"}),j.jsx("path",{d:"M22.188811,10.975 L22.188811,11.3296105 C22.188811,12.1278748 21.2949411,13.225 20.1923038,13.225 C19.1592556,13.225 18.3198702,12.2052018 18.2168352,11.4776253 C18.1127212,12.2052018 17.2733358,13.225 16.2408271,13.225 C15.2072395,13.225 14.3683936,12.2052018 14.264819,11.4776253 C14.1612445,12.2052018 13.3218591,13.225 12.288811,13.225 C11.2552233,13.225 10.4163774,12.2052018 10.3128029,11.4776253 C10.2097678,12.2052018 9.369843,13.225 8.33679483,13.225 C7.30374666,13.225 6.46490076,12.2052018 6.36132621,11.4776253 C6.25775167,12.2052018 5.41782687,13.225 4.38531815,13.225 C3.28268083,13.225 2.38881096,12.1278748 2.38881096,11.3296105 L2.38881096,10.975 L22.188811,10.975 Z",id:"Fill-9",fill:"#000000"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CatalogIcon=a}),98);
__d("WAWebProductCatalogSendCatalogButton.react",["fbt","WAWebCatalogIcon.react","WAWebCellFrame.react","WAWebRoundShape.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.disabled;a=a.onClick;var e=b?"xt0e3qv":"",f=b?"x40yjcy":"";a=b?null:a;f=j.jsx("span",{className:f,children:h._(/*BTDS*/"__JHASH__QT2MGtjFadE__JHASH__")});b=j.jsx(c("WAWebRoundShape.react"),{theme:"compact",disabled:b,children:j.jsx(d("WAWebCatalogIcon.react").CatalogIcon,{})});return j.jsx(c("WAWebCellFrame.react"),{image:b,onClick:a,primary:f,theme:"list-button-compact",className:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogSelectProductsModal.react",["fbt","WANullthrows","WAWebCatalogCollection","WAWebProductCatalogSendCatalogButton.react","WAWebSelectModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var b=a.onCancel,e=a.onConfirm,f=a.onShare;a=a.ref;var g=l(!1),i=g[0],j=g[1];g=l([]);var m=g[0],n=g[1];g=function(a,b,c){j(c.length===0)};var o=function(a){a=a;n(a);j(a.length>0)},p=function(){var a;a=c("WANullthrows")((a=m[0])==null?void 0:a.catalogWid);a=c("WANullthrows")(d("WAWebCatalogCollection").CatalogCollection.get(a));f(a)};i=k.jsx(c("WAWebProductCatalogSendCatalogButton.react"),{disabled:!i,onClick:p});return k.jsx(d("WAWebSelectModal.react").SelectModal,{ref:a,title:h._(/*BTDS*/"__JHASH__g_Xg1UUzHmM__JHASH__"),onCancel:b,onConfirm:e,listType:d("WAWebSelectModal.react").ListType.ProductSelectModal,enableSearchBox:!1,customHeader:i,onSelectionChanged:g,onDataLoaded:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizAttachProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebCatalogShortLinkUtils","WAWebComposeBoxActions","WAWebModalManager","WAWebProductCatalogLogEvents","WAWebProductCatalogMessage","WAWebProductCatalogSelectProductsModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var e=function(c){var e=a.chat,f=a.sessionId,g=a.onSend;d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Attachment",c.length);c=c.map(function(a,b){b=b===0?e.composeQuotedMsg:null;return d("WAWebProductCatalogMessage").sendProductMessage(e,a,b).then(function(){d("WAWebProductCatalogLogEvents").logProductMessageSent({product:a,catalogSessionId:f})})});d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(c));e.composeQuotedMsg=null;g==null?void 0:g();d("WAWebModalManager").ModalManager.close()},f=function(b){var c=a.chat,e=a.sessionId,f=d("WAWebCatalogShortLinkUtils").createCatalogLink(b.id.user);f=h._(/*BTDS*/"__JHASH__CGjr4vQ7WJh__JHASH__",[h._param("catalogUrl",f)]).toString();d("WAWebComposeBoxActions").ComposeBoxActions.paste(c,f);d("WAWebProductCatalogLogEvents").logSendCatalogClick({catalogOwnerWid:b.id,catalogSessionId:e});d("WAWebModalManager").ModalManager.close()},g=function(){a.onCancel==null?void 0:a.onCancel(),d("WAWebModalManager").ModalManager.close()};return k.jsx(c("WAWebProductCatalogSelectProductsModal.react"),{onCancel:g,onConfirm:e,onShare:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizBusinessComplianceAddressRequiredModal",["WAWebComplianceInfo.react","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=function(){d("WAWebModalManager").ModalManager.open(i.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:i.jsx(d("WAWebComplianceInfo.react").ComplianceInfoHelpCenterBanner,{})}))};b=a;g["default"]=b}),98);
__d("WAWebBizClearCartAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a){a.cartItemCollection.reset(),a.set("message",void 0),a.trigger("change:cartItemCollection"),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebBizMatchCartItemsToProductsAction",["fbt","WATypeUtils","WAWebBizClearCartAction","WAWebBizProductCatalogBridge","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebModalManager","WAWebProductModel","WAWebProductSelectors","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a,b){return a.priceAmount1000===d("WAWebProductSelectors").getActivePrice(b)&&a.currency===b.currency&&a.name===b.name&&a.imageHash===b.imageHash&&a.maxAvailable===b.maxAvailable}function l(a,b){var c=d("WAWebProductSelectors").getActivePrice(q(b));return s(a.priceAmount1000,c)&&(!d("WATypeUtils").isString(a.currency)&&!d("WATypeUtils").isString(b.currency)||a.currency===b.currency)&&a.name===b.name&&a.imageHash===((c=b.media)==null?void 0:(a=c.image)==null?void 0:a.id)}function m(a,b){var c=k(a,b);c||a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable},{silent:!0});return c}function n(a,b){var c=b?l(a,b):!0;if(!c&&b){b=q(b);a.set({priceAmount1000:d("WAWebProductSelectors").getActivePrice(b),currency:b.currency,name:b.name,imageHash:b.imageHash,maxAvailable:b.maxAvailable},{silent:!0})}return c}function o(a,b){if(a&&a.status==="deleted"){b.productCollection.remove(a.id);return void 0}return a}function p(){d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"__JHASH__q_1muHhhF8F__JHASH__")}))}function q(a){var b;return{id:a.id,name:(b=a.name)!=null?b:"",imageCdnUrl:(b=a.media)==null?void 0:(b=b.image)==null?void 0:b.request_image_url,imageHash:(b=a.media)==null?void 0:(b=b.image)==null?void 0:b.id,currency:a.currency,priceAmount1000:r(a.price),salePriceAmount1000:r((b=a.sale_price)==null?void 0:b.price),salePriceStartDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.start_date),salePriceEndDate:d("WAWebBizProductCatalogBridge").parseDateValue((b=a.sale_price)==null?void 0:b.end_date),maxAvailable:a.max_available}}function r(a){return typeof a==="string"?a.length>0?parseInt(a,10):null:a}function s(a,b){a=r(a);b=r(b);if(d("WATypeUtils").isNumber(a)&&d("WATypeUtils").isNumber(b))return a===b;else if(!d("WATypeUtils").isNumber(a)&&!d("WATypeUtils").isNumber(b))return!0;return!1}function t(a,b){return new(d("WAWebProductModel").Product)(babelHelpers["extends"]({},q(a),{catalogWid:d("WAWebWidFactory").createWid(b),productMsgMediaData:null,imageCount:1,fetchedFromServer:!0,t:Date.now()/1e3,old:!1}))}function a(a,b){var e=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id)),f=[],g=[],h=!0;e&&a.cartItemCollection.forEach(function(c){var d=e.productCollection.get(c.id),i=b&&b.products.find(function(a){return a.id===c.id});i=o(i,e);if(!b&&d){var j=m(c,d);h=h&&j;f.push({product:d,cartItem:c})}else if(i){j=n(c,i);h=h&&j;f.push({product:t(i,a.id),cartItem:c})}else h=!1,g.push(c.id)});e||c("WAWebBizClearCartAction")(a);h||(g.length&&a.cartItemCollection.remove(g),a.trigger("change:cartItemCollection"),p());c("WAWebBizSyncCartAction")(a);return f}function b(a){return a.reduce(function(a,b){return a+b.cartItem.quantity*d("WAWebProductSelectors").getSavings(b.product)},0)}g.parsePrice=r;g.isPriceMatch=s;g.createProductFromRefreshCartItem=t;g.matchCartItemsToProducts=a;g.getSavingsFromCartItemsAndProducts=b}),226);
__d("WAWebBizPullCartUpdateAction",["Promise","WAWebBizCartBridge","WAWebCartCollection","WAWebWidFactory"],(function(a,b,c,d,e,f,g){var h;function a(a,c){if(a.cartItemCollection.length===0)return(h||(h=b("Promise"))).resolve({products:[],price:{}});var e=a.cartItemCollection.map(function(a){return a.id});return d("WAWebBizCartBridge").refreshCart(d("WAWebWidFactory").createWid(a.id),e,d("WAWebCartCollection").CartCollection.imageWidth,d("WAWebCartCollection").CartCollection.imageHeight,c)}g["default"]=a}),98);
__d("WAWebSendOrderChatAction",["WALogger","WATimeUtils","WAWebAck","WAWebBizGatingUtils","WAWebMsgKey","WAWebNoop","WAWebProtobufsE2E.pb","WAWebSendMsgChatAction","WAWebSendMsgResultAction","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Order message send to chat failure: ",""]);i=function(){return a};return a}function a(a,b,c,d,e,f){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j){b=(yield k(a,b,e,f,g,j));if(d("WAWebUserPrefsMeUser").isMeAccount(a.id))return d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[0].then(c("WAWebNoop"))["catch"](function(a){d("WALogger").WARN(i(),a);throw a});try{e=(yield d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,b)[1]);if(!e||e.messageSendResult!==d("WAWebSendMsgResultAction").SendMsgResult.OK)throw c("err")("Order message SendMsgResult failure status")}catch(a){d("WALogger").WARN(h(),a);throw a}});return j.apply(this,arguments)}function k(a,b,c,d,e,f){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,h){var i=d("WAWebUserPrefsMeUser").getMaybeMeUser(),j=b.price.total;i={type:"order",ack:d("WAWebAck").ACK.CLOCK,from:i,id:new(c("WAWebMsgKey"))({from:i,to:a.id,id:yield c("WAWebMsgKey").newId(),participant:void 0,selfDir:"out"}),local:!0,isNewMsg:!0,t:d("WATimeUtils").unixTime(),to:a.id,orderId:b.id,token:b.token,orderTitle:a.name||a.formattedTitle,sellerJid:a.id.toString({legacy:!0}),status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.INQUIRY,messageVersion:d("WAWebBizGatingUtils").isBuyerOrderRevampEnabled()?2:1,thumbnail:f,itemCount:e,message:g,totalAmount1000:j!=null&&j.length>0?parseInt(j,10):void 0,totalCurrencyCode:b.price.currency!=null&&b.price.currency.length>0?b.price.currency:void 0,catalogType:h?h:void 0};return i});return l.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizSubmitOrderAction",["WAWebBizOrderAction","WAWebBizSyncCartAction","WAWebCatalogCollection","WAWebMediaOpaqueData","WAWebSendOrderChatAction","WAWebWidFactory","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(a){var b=a.cartItemCollection.at(0);if(b==null)return"";a=d("WAWebCatalogCollection").CatalogCollection.get(d("WAWebWidFactory").createWid(a.id));a=a==null?void 0:a.productCollection.get(b.id);a=a==null?void 0:(b=a.getProductImageCollectionHead())==null?void 0:b.mediaData;return a==null?"":a.preview instanceof c("WAWebMediaOpaqueData")?(b=a.preview.getBase64())!=null?b:"":""}function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("WAWebBizOrderAction").createOrder(b.id,a.cartItemCollection.toArray()));yield c("WAWebSendOrderChatAction")(b,f,a.itemCount,h(a),a.message,e==null?void 0:e.getCatalogType());void c("WAWebBizSyncCartAction")(a);return f.id});return i.apply(this,arguments)}g["default"]=a}),98);
__d("WAWebBizUpdateCartMessageAction",["WAWebBizSyncCartAction"],(function(a,b,c,d,e,f,g){function a(a,b){a.set("message",b),c("WAWebBizSyncCartAction")(a)}g["default"]=a}),98);
__d("WAWebCartDetailDrawerFooter.react",["fbt","WAWebABProps","WAWebBizGatingUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDirectConnectionGatingUtils","WAWebExternalLink.react","WAWebFaqUrl","WAWebFlex.react","WAWebText.react","WAWebUISpacing","WAWebVelocityTransitionGroup","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={footerPrice:{width:"xh8yej3",$$css:!0},footerBorder:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function l(){return j.jsxs(j.Fragment,{children:[h._(/*BTDS*/"__JHASH__G9tzjED6A63__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getJioMartPostcodeChangeLearnMoreLink(),children:h._(/*BTDS*/"__JHASH__gfhYbdjTG7D__JHASH__")})]})}l.displayName=l.name+" [from "+f.id+"]";function m(){return h._(/*BTDS*/"__JHASH__afktUMFi_Aa__JHASH__")}m.displayName=m.name+" [from "+f.id+"]";function n(a){a=a.isDirectConnection;a=a&&d("WAWebDirectConnectionGatingUtils").supportsDirectConnection()&&d("WAWebABProps").getABPropConfigValue("share_phone_number_on_cart_send_to_direct_connection_biz_enabled");return a?j.jsx(l,{}):j.jsx(m,{})}n.displayName=n.name+" [from "+f.id+"]";function o(a){var b=a.currency;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",color:"secondary",children:h._(/*BTDS*/"__JHASH__2_wYWAVI65P__JHASH__")}),j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",color:"teal",children:h._(/*BTDS*/"__JHASH__7wDn1wZLOf0__JHASH__",[h._param("cart-savings",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.currency,c=a.savings;a=a.total;return j.jsxs(j.Fragment,{children:[c>0?j.jsx(o,{currency:b,savings:c}):null,j.jsxs(d("WAWebFlex.react").FlexRow,{align:"baseline",justify:"all",xstyle:[d("WAWebUISpacing").uiMargin.bottom8,k.footerPrice],children:[j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",weight:"medium",children:h._(/*BTDS*/"__JHASH__vZfVdHxwv6O__JHASH__")}),j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:h._(/*BTDS*/"__JHASH__4_k8jPAfACN__JHASH__",[h._param("cart-total-price",d("WAWebCurrencyUtils").formatAmount1000(b,a))])})]})]})}p.displayName=p.name+" [from "+f.id+"]";function q(){return j.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",weight:"medium",children:h._(/*BTDS*/"__JHASH__iCtn8dLuK19__JHASH__")})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.currency,c=a.savings;a=a.total;return a!=null&&b!=null?j.jsx(p,{currency:b,savings:c,total:a}):j.jsx(q,{})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.onSend,e=a.isDirectConnection,f=a.cart;a=a.savings;return j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[k.footerBorder,d("WAWebUISpacing").uiPadding.all16],children:[j.jsx(r,{total:f.total,currency:f.currency,savings:a}),j.jsx(d("WAWebText.react").WAWebTextMuted,{color:"secondaryLighter",xstyle:d("WAWebUISpacing").uiMargin.bottom15,children:j.jsx(n,{isDirectConnection:e})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:b,children:d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"__JHASH__UG9r9dK0_nM__JHASH__"):h._(/*BTDS*/"__JHASH__SrTQXYXTKa1__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CartDrawerContentFooter=a}),226);
__d("WAWebCartDeleteIcon.react",["fbt","WAWebDeleteIcon.react","WAWebSvgButton.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={deleteIcon:{color:"xfect85",":hover_color":"x1fumy",$$css:!0}};function a(a){a=a.onClick;return j.jsx(c("WAWebSvgButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__8fFKZkKIBXi__JHASH__"),Icon:d("WAWebDeleteIcon.react").DeleteIcon,title:h._(/*BTDS*/"__JHASH__8fFKZkKIBXi__JHASH__"),xstyle:k.deleteIcon,onClick:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCartProductQuantity.react",["WAWebBizCartConstants","WAWebStopEvent","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={selectComponent:{fontFamily:"xjb2p0i",$$css:!0}};function l(){var a=[];for(var b=1;b<=d("WAWebBizCartConstants").CART_ITEM_MAX_QUANTITY;b++)a.push(j.jsx("option",{value:b,children:b},b));return a}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onChange,e=a.quantity;a=a.testid;function f(a){a=a.target;a instanceof HTMLSelectElement&&b(parseInt(a.value,10))}return j.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6 x1iyjqo2 xs83m0k x18xmwgd x1pju0fl"},{"data-testid":void 0,children:[j.jsx("span",babelHelpers["extends"]({className:"x10l6tqk x1atx4j1 x11dcrhx x11uqc5h x1lliihq xmix8c7 x1c3i2sq xo5v014 x40yjcy x47corl xiy17q3"},{children:"\u25be"})),j.jsx("select",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(k.selectComponent,d("WAWebUISpacing").uiPadding.horiz10),{onClick:d("WAWebStopEvent").stopEvent,value:e,onChange:f,children:j.jsx(l,{})}))]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductListItem.react",["WAWebBizDeleteProductFromCartAction","WAWebBizGatingUtils","WAWebBizUpdateProductQuantityCartAction","WAWebCartDeleteIcon.react","WAWebCartLogEvents","WAWebCartProductQuantity.react","WAWebCartQuantityControls.react","WAWebCellFrame.react","WAWebDrawerContext","WAWebEmojiText.react","WAWebFlexItem.react","WAWebProductCatalogContext","WAWebProductCatalogProductPriceInfoText.react","WAWebProductCatalogProductThumb.react","WAWebStopEvent","WAWebUISpacing","react","stylex","useHoverState"],(function(a,b,c,d,e,f,g){var h,i,j,k=j||c("react"),l=(h||(h=d("react"))).useContext,m={deleteIconHidden:{visibility:"xlshs6z",$$css:!0},deleteIconVisible:{visibility:"xnpuxes",$$css:!0}};function n(a){var b=a.cartId,e=a.cartProduct,f=a.isHovered;a=a.quantity;var g=l(d("WAWebDrawerContext").DrawerContext),h=d("WAWebProductCatalogContext").getProductCatalogContext(g);function j(a,b){c("WAWebBizUpdateProductQuantityCartAction")(e,a),d("WAWebCartLogEvents").logEditProduct(e,b,a)}function n(a,f){var g=c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());c("WAWebBizDeleteProductFromCartAction")(b,e.id.toString());d("WAWebCartLogEvents").logDeleteProduct(e,f);g===0&&d("WAWebCartLogEvents").logCartAbandon(e.catalogWid.toString(),f);d("WAWebStopEvent").stopEvent(a)}f=(i||(i=c("stylex")))(f?[m.deleteIconVisible,d("WAWebUISpacing").uiPadding.top5]:m.deleteIconHidden);a=k.jsxs(k.Fragment,{children:[k.jsx(c("WAWebCartProductQuantity.react"),{testid:void 0,quantity:a,onChange:function(a){return j(a,h)}}),k.jsx("div",{className:f,children:k.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(a){return n(a,h)}})})]});f=k.jsx(c("WAWebCartQuantityControls.react"),{product:e,context:g});return k.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiMargin.end5,children:d("WAWebBizGatingUtils").isQuantityControlsFeatureEnabled()?f:a})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b,e=a.cartId,f=a.product,g=a.quantity;a=a.onClick;var h=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.name,ellipsify:!0,titlify:!0});b=(b=f.getPreviewImage())==null?void 0:b.mediaData;b=b?k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{theme:"cart-list",mediaData:b}):null;var i=c("useHoverState")(),j=i.isHovered,l=i.onMouseEnter;i=i.onMouseLeave;var m=k.jsx(c("WAWebProductCatalogProductPriceInfoText.react"),{className:"x6s0dn4 x78zum5",showTotalPrice:!0,product:f});j=k.jsx(n,{isHovered:j,cartId:e,cartProduct:f,quantity:g});return k.jsx(c("WAWebCellFrame.react"),{onMouseEnter:l,onMouseLeave:i,image:b,customImage:!0,primary:h,secondary:j,theme:"cart-product",onClick:a,detail:m},f.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartProductList.react",["WAWebCartProductListItem.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebProductCatalogCatalogConstants","react","uniqueID"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.cartProductItems,e=a.onProductDetail,f=a.sellerJid;return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b.map(function(a){return{itemKey:a.cartItem.id,contentKey:c("uniqueID")("cartItem"),product:a.product,cartItem:a.cartItem}}),renderItem:function(a){return i.jsx(c("WAWebCartProductListItem.react"),{cartId:f,product:a.product,quantity:a.cartItem.quantity,onClick:function(){return e({productId:a.cartItem.id,businessOwnerJid:f})}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").CART_PRODUCT_LIST_ITEM_HEIGHT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebShoppingCartEmptyIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="shopping-cart-empty";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=90;m=90;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:h,height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsxs("g",{fillRule:"nonzero",fill:"currentColor",children:[j.jsx("path",{d:"M36.6666667 55C34.8333333 55 33.35 56.5 33.35 58.3333333 33.35 60.1666667 34.8333333 61.6666667 36.6666667 61.6666667 38.5 61.6666667 40 60.1666667 40 58.3333333 40 56.5 38.5 55 36.6666667 55zM26.6666667 30C26.6666667 30.9166667 27.4166667 31.6666667 28.3333333 31.6666667L30 31.6666667 36 44.3166667 33.75 48.3833333C32.5333333 50.6166667 34.1333333 53.3333333 36.6666667 53.3333333L55 53.3333333C55.9166667 53.3333333 56.6666667 52.5833333 56.6666667 51.6666667 56.6666667 50.75 55.9166667 50 55 50L36.6666667 50 38.5 46.6666667 50.9166667 46.6666667C52.1666667 46.6666667 53.2666667 45.9833333 53.8333333 44.95L59.8 34.1333333C60.4166667 33.0333333 59.6166667 31.6666667 58.35 31.6666667L33.6833333 31.6666667 32.5666667 29.2833333C32.3 28.7 31.7 28.3333333 31.0666667 28.3333333L28.3333333 28.3333333C27.4166667 28.3333333 26.6666667 29.0833333 26.6666667 30zM53.3333333 55C51.5 55 50.0166667 56.5 50.0166667 58.3333333 50.0166667 60.1666667 51.5 61.6666667 53.3333333 61.6666667 55.1666667 61.6666667 56.6666667 60.1666667 56.6666667 58.3333333 56.6666667 56.5 55.1666667 55 53.3333333 55z"}),j.jsx("path",{d:"M44.957,2 C21.221,2 2,21.264 2,45 C2,68.736 21.221,88 44.957,88 C68.736,88 88,68.736 88,45 C88,21.264 68.736,2 44.957,2 Z M45,90 C20.1375,90 0,69.8625 0,45 C0,20.1375 20.1375,0 45,0 C69.8625,0 90,20.1375 90,45 C90,69.8625 69.8625,90 45,90 Z"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ShoppingCartEmptyIcon=a}),98);
__d("WAWebShowGenericErrorToastAction",["fbt","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(){d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__QLdqjTjQ0CL__JHASH__"),duration:6e3}))}g["default"]=a}),226);
__d("WAWebCartDetailDrawer.react",["fbt","$InternalEnum","Promise","WALogger","WAQplTypes","WATimeUtils","WAWebBizClearCartAction","WAWebBizGatingUtils","WAWebBizMatchCartItemsToProductsAction","WAWebBizPullCartUpdateAction","WAWebBizSubmitOrderAction","WAWebBizUpdateCartMessageAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCartCollection","WAWebCartDetailDrawerFooter.react","WAWebCartLogEvents","WAWebCartProductList.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebFbtCommon","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFlex.react","WAWebModalManager","WAWebOrderLogEvents","WAWebProductCatalogContext","WAWebPromiseQueue","WAWebShoppingCartEmptyIcon.react","WAWebShowGenericErrorToastAction","WAWebText.react","WAWebText_DONOTUSE.react","WAWebThemeContext","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useLazyRef","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to create catalog order"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to open the cart"]);m=function(){return a};return a}e=k||d("react");var n=j||(j=c("react")),o=e.useContext,p=e.useEffect,q=e.useMemo,r=e.useRef,s=e.useState,t={emptyCardText:{textAlign:"x2b8uid",$$css:!0},contentBackground:{backgroundColor:"x150wa6m",$$css:!0}};function u(a){a=a.cart;a=a.itemCount;return a==null||a===0?null:n.jsx(d("WAWebText.react").WAWebTextTitle,{children:h._(/*BTDS*/"__JHASH__WkdDeznIhww__JHASH__",[h._plural(a,"cart-number-of-items")])})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.cart,e=a.onSend,f=a.cartFlatListController,g=a.onProductDetail,h=a.sellerJid,i=a.cartProductItems,j=a.isDarkTheme,k=a.isDirectConnection;a=a.onProductCatalog;var l=d("WAWebBizMatchCartItemsToProductsAction").getSavingsFromCartItemsAndProducts(i);return n.jsxs(n.Fragment,{children:[n.jsx(x,{cart:b,onProductCatalog:a}),n.jsx(c("WAWebCartProductList.react"),{flatListController:f,onProductDetail:g,cart:b,sellerJid:h,cartProductItems:i}),n.jsx("div",babelHelpers["extends"]({},{0:{className:"x1n2onr6 xhtitgo x9f619 x150wa6m"},1:{className:"x1n2onr6 xhtitgo x9f619 x1m8r95a"}}[!!j<<0],{children:n.jsx(d("WAWebCartDetailDrawerFooter.react").CartDrawerContentFooter,{savings:l,cart:b,onSend:e,isDirectConnection:k})}))]})}v.displayName=v.name+" [from "+f.id+"]";function w(a){a=a.onProductCatalog;return n.jsx(d("WAWebButton.react").WAWebButtonSecondary,{testid:void 0,onClick:a,children:h._(/*BTDS*/"__JHASH__vn5A07mhsrS__JHASH__")})}w.displayName=w.name+" [from "+f.id+"]";function x(a){var b=a.cart;a=a.onProductCatalog;return n.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",xstyle:[d("WAWebUISpacing").uiPadding.all16,t.contentBackground],children:[n.jsx(u,{cart:b}),n.jsx(w,{onProductCatalog:a})]})}x.displayName=x.name+" [from "+f.id+"]";function y(a){var b=a.businessProfile;a=a.onProductCatalog;return n.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x6s0dn4 x5yr21d x13crsa5 xx281p9 x1rxj1xn x67w97k x150wa6m"},{children:[n.jsx(d("WAWebShoppingCartEmptyIcon.react").ShoppingCartEmptyIcon,{}),n.jsx(d("WAWebText.react").WAWebTextLarge,{xstyle:[d("WAWebUISpacing").uiMargin.top30,d("WAWebUISpacing").uiMargin.bottom15],children:h._(/*BTDS*/"__JHASH__Xd4-0R6qGw8__JHASH__")}),n.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:[t.emptyCardText,d("WAWebUISpacing").uiPadding.bottom30],theme:"plain",children:h._(/*BTDS*/"__JHASH__sEouFfZOfyF__JHASH__")}),d("WAWebBusinessProfileUtils").hasCatalog(b)&&n.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,children:h._(/*BTDS*/"__JHASH__BPknNIlBS71__JHASH__")})]}))}y.displayName=y.name+" [from "+f.id+"]";var z=b("$InternalEnum")({LOADING:"loading",READY_EMPTY:"readyEmpty",READY_CONTENT:"readyContent"});function A(a){var b=a.children,d=a.drawerState;a=a.emptyContent;switch(d){case z.READY_EMPTY:return a;case z.READY_CONTENT:return b;case z.LOADING:return n.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})}}A.displayName=A.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.onBack,g=a.sellerJid,j=a.chat,k=a.closeDrawerRightOnSend,t=a.onProductCatalog,u=a.onProductDetail;a=a.canLogQpl;var w=a===void 0?!0:a,x=o(d("WAWebDrawerContext").DrawerContext);a=d("WAWebThemeContext").useIsDarkTheme();var B=q(function(){return d("WAWebCartCollection").CartCollection.findCart(g)},[g]),C=r(null),D=c("useLazyRef")(function(){return new(d("WAWebPromiseQueue").PromiseQueue)()}),E=q(function(){return new(c("WAWebFlatListController"))()},[]),F=s(!0),G=F[0],H=F[1];F=s(void 0);var I=F[0],J=F[1];F=s([]);var K=F[0],L=F[1];F=s(B.message);var M=F[0],N=F[1],O=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield (i||(i=b("Promise"))).all([a?c("WAWebBizPullCartUpdateAction")(B,w):(i||(i=b("Promise"))).resolve(),d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(j.id)]));var e=a[0];a=a[1];e&&(C.current=e);e=d("WAWebBizMatchCartItemsToProductsAction").matchCartItemsToProducts(B,C.current);H(!1);J(a);L(e)});return function(b){return a.apply(this,arguments)}}();d("useWAWebListener").useListener(B,"change:cartItemCollection",function(){D.current.enqueue(function(){return O()})});p(function(){var a=!0;w&&d("WAWebUtilsLogQplEvents").qplAnnotateCartView(B.id.toString()!==g,B.itemCount);O(!0,w).then(function(b){a=!1,w&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.SUCCESS),d("WAWebCartLogEvents").logCartListImpression(B.id.toString(),d("WAWebProductCatalogContext").getProductCatalogContext(x))})["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a).sendLogs("openCart: failed to open the cart"),c("WAWebShowGenericErrorToastAction")(),c("WAWebBizClearCartAction")(B)})["finally"](function(){a&&w&&d("WAWebUtilsLogQplEvents").qplEndCartView(d("WAQplTypes").QuickLogActionType.FAIL),H(!1)})},[]);var P=function(){d("WAWebDrawerManager").DrawerManager.existsDrawerRight(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight()})};F=function(){H(!0),d("WAWebUtilsLogQplEvents").qplStartOrderCreate(K.length),c("WAWebBizSubmitOrderAction")(B,j,I).then(function(a){var b=Boolean(B.message);d("WAWebOrderLogEvents").logSendOrderMessage({orderId:a,catalogOwnerJid:B.id.toString(),catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(x),isOrderMsgAttached:b,quantity:B.itemCount});d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"ordersSent",ts:d("WATimeUtils").unixTime(),chatId:j.id}]);f();c("WAWebBizClearCartAction")(B);B.message=void 0;k&&P();d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(a){d("WALogger").ERROR(l()).verbose().devConsole(a).sendLogs("submitOrder: order creation or order message send error"),c("WAWebShowGenericErrorToastAction")(),O(!0),d("WAWebUtilsLogQplEvents").qplEndOrderCreate(d("WAQplTypes").QuickLogActionType.FAIL)})["finally"](function(){H(!1)})};var Q=function(a){N(a),c("WAWebBizUpdateCartMessageAction")(B,a)},R=function(){d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__M8kY6PDUnWh__JHASH__"),onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__rPBUmkqwFy5__JHASH__")}))},S=q(function(){if(G)return z.LOADING;return!B.itemCount?z.READY_EMPTY:z.READY_CONTENT},[G,B.itemCount]),T=n.jsx(y,{onProductCatalog:t,businessProfile:I}),U=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"__JHASH__Ujj5mDA5sGT__JHASH__"):h._(/*BTDS*/"__JHASH__SpYF24yGb8G__JHASH__");return n.jsxs(c("WAWebDrawer.react"),{ref:e,onDrop:f,theme:"striped",children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:U,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),n.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[E],children:n.jsx(A,{drawerState:S,emptyContent:T,children:n.jsx(v,{cart:B,chat:j,onSend:F,onChange:Q,onMaxPasteExceeded:R,cartMessage:M,cartFlatListController:E,onProductDetail:u,onProductCatalog:t,sellerJid:g,cartProductItems:K,isDarkTheme:a,isDirectConnection:Boolean(I==null?void 0:I.isBusinessDirectConnection())})})})]})}a.displayName=a.name+" [from "+f.id+"]";g.CartDetailDrawer=a}),226);
__d("WAWebBizCartFlow",["$InternalEnum","WAWebCartDetailDrawer.react","WAWebDrawerContext","WAWebDrawerManager","WAWebProductCatalogContext","WAWebProductDetailsFlowLoadable","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","WAWebWamEnumCatalogEntryPoint","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useContext,l=e.useEffect,m=e.useState,n=b("$InternalEnum").Mirrored(["CartDetails","ProductCatalog","ProductDetails"]);function a(a){var b=d("useWAWebFlow").useFlow(n.CartDetails),c=b[0],e=b[1];b=a.sellerJid;a=a.chat;var f=m(null),g=f[0],h=f[1];f=m(!0);var i=f[0],k=f[1];l(function(){d("WAWebDrawerManager").DrawerManager.existsDrawerLeft(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()}),d("WAWebDrawerManager").DrawerManager.existsDrawerMid(function(a){a&&d("WAWebDrawerManager").DrawerManager.closeDrawerMid()})},[]);if(e.step==null)return null;f=function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Cart"}}}),k(!1),e.push(n.ProductCatalog)};var p=function(a){d("WAWebUtilsLogQplEvents").qplStartProductView("Cart"),k(!1),h(a),e.push(n.ProductDetails)},q=function(){e.pop()},r;switch(e.step){case n.CartDetails:r=j.jsx(o,{chat:a,sellerJid:b,onProductDetail:p,onProductCatalog:f,onBack:function(){return e.end()},canLogQpl:i});break;case n.ProductCatalog:r=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{chat:a,catalogOwnerJid:b});break;case n.ProductDetails:g!=null&&(r=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:a,productInfo:g,onEnd:q}));break}return j.jsx(c,{flow:e,children:r})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var c=k(d("WAWebDrawerContext").DrawerContext);c=d("WAWebProductCatalogContext").getProductCatalogContext(c);c=c.entryPoint;return j.jsx(d("WAWebCartDetailDrawer.react").CartDetailDrawer,babelHelpers["extends"]({ref:b,closeDrawerRightOnSend:c===d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PRODUCT_LIST_MESSAGE},a))}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizCtwaAdPreview.react",["WABidi","WAWebBizCtwaAGMUtils","WAWebBizCtwaThumbnailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEmojiText.react","WAWebFlexBox.react","WAWebFlexItem.react","WAWebGroupInfoSeparator.react","WAWebL10N","WAWebMsgGetters","WAWebUISpacing","react","useWAWebUIM"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={adContainer:{borderStartStartRadius:"x1rgw4pv",borderStartEndRadius:"x1vjm0to",borderEndEndRadius:"xnqoqkk",borderEndStartRadius:"x16lu3ki",overflowX:"xw2csxc",overflowY:"x1odjw0f",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1wpzk8y",borderInlineEndColor:"xts9ub1",borderBottomColor:"xhl97hz",borderInlineStartColor:"x16gmtct",$$css:!0},thumbnail:{objectFit:"xl1xv1r",width:"xh8yej3",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",minHeight:"x16ctwrx",$$css:!0},container:{width:"x1t0p1hu",$$css:!0},body:{marginInlineStart:"x1o1p3th",marginInlineEnd:"x1trhqq4",$$css:!0}},m=1e3;function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.ctwaContext,g=a.onClose;a=a.automatedGreetingMessage;var h=c("useWAWebUIM")();b=(b=f.sourceApp)!=null?b:d("WAWebBizCtwaAGMUtils").getHostnameLabel(f);var n=b!=null?b.charAt(0).toUpperCase()+b.slice(1):null,o=j(function(){g&&g(),h==null?void 0:h.requestDismiss()},[g,h]);b=k(function(){return n!=null?i.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizCtwaAGMUtils").getAdSourceLabel(n),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onCancel:o,focusBackOrCancel:!0}):null},[n,o]);var p=k(function(){return n!=null?d("WAWebBizCtwaAGMUtils").getAdImageAlt(n).toString():""},[n]),q=k(function(){if(f.description!=null&&f.isSuspiciousLink!==!0){var a=f.description;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"xso031l x1q0q8m5 xhl97hz"}),i.jsx("div",babelHelpers["extends"]({title:f.description},{className:"x1cy8zhl xkh2ocl x1y1aw1k xf159sx xwib8y2 xmzvs34 x1mzt3pk x126k92a"},{children:i.jsx(d("WAWebEmojiText.react").EmojiText,{text:a,textLimit:m,dirMismatch:d("WABidi").dir(a)==="rtl"!==c("WAWebL10N").isRTL(),direction:d("WABidi").dir(a),inferLinesDirection:!0})}))]})}return null},[f.description,f.isSuspiciousLink]);return i.jsxs(c("WAWebDrawer.react"),{theme:"striped",ref:e,xstyle:d("WAWebUISpacing").uiPadding.horiz0,testid:void 0,children:[b,i.jsxs(c("WAWebDrawerBody.react"),{xstyle:l.body,children:[i.jsx(c("WAWebDrawerSection.react"),{animation:!1,shadow:!1,theme:"padding-no-margin",xstyle:[l.container,d("WAWebUISpacing").uiPadding.vert48,d("WAWebUISpacing").uiPadding.horiz48],children:i.jsx(c("WAWebFlexItem.react"),{justify:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz20,l.container],children:i.jsxs(d("WAWebFlexBox.react").FlexColumn,{justify:"center",xstyle:l.adContainer,testid:void 0,children:[i.jsx(c("WAWebBizCtwaThumbnailImage.react"),{context:f,xstyle:l.thumbnail,alt:p,businessWid:a.from,fromMe:d("WAWebMsgGetters").getIsSentByMe(a)}),q]})})}),i.jsx(d("WAWebGroupInfoSeparator.react").GroupInfoDrawerSeparator,{})]})]},"ctwa-ad-details-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizCtwaAdPreviewFlow.react",["$InternalEnum","WAWebBizCtwaAdPreview.react","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=b("$InternalEnum").Mirrored(["AdPreview"]);function a(a){var b=a.msg;a=a.onClose;var e=d("useWAWebFlow").useFlow(j.AdPreview,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),f=e[0];e=e[1];return e.step==null||b.ctwaContext==null?null:i.jsx(f,{flow:e,children:i.jsx(c("WAWebBizCtwaAdPreview.react"),{automatedGreetingMessage:b,ctwaContext:b.ctwaContext,onClose:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizLinkedCatalogErrorPopup.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a,b,c){var e;b?(b=h._(/*BTDS*/"__JHASH__SyIuRDkzQi9__JHASH__"),a?e=h._(/*BTDS*/"__JHASH__LgTMlGmF6hT__JHASH__"):e=h._(/*BTDS*/"__JHASH__u0jWEHk87lQ__JHASH__")):a?(e=h._(/*BTDS*/"__JHASH__6v6w1w8EdcQ__JHASH__"),b=h._(/*BTDS*/"__JHASH__oesa_H3vfdT__JHASH__")):(e=h._(/*BTDS*/"__JHASH__7w_Yl01qsHz__JHASH__"),b=h._(/*BTDS*/"__JHASH__UaJwfewPWJu__JHASH__"));c&&d("WAWebModalManager").ModalManager.once("close_modal",c);d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:e,onOK:function(){d("WAWebModalManager").ModalManager.close()},children:b}))}g.showConnectedCatalogDisabledPopup=a}),226);
__d("WAWebDataSharingOptOutOrUpsell",["fbt","WASmaxInBizSettingsEnums","WAWebCTWADataSharingModel","WAWebCheckBox.react","WAWebCopyPasteSelectable.react","WAWebDataSharingUpsellModel","WAWebDrawerManager","WAWebFlex.react","WAWebModalManager","WAWebSMBDataSharingDrawer.react","WAWebSMBDataSharingSettingAction","WAWebText.react","WAWebUISpacing","WAWebWamEnumSmbDataSharingConsentSettingEntryPoint","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState,n={themeOrderCreate:{backgroundColor:"x1pl83jw",$$css:!0},themeLabelsOptOut:{borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xog00wb",$$css:!0}},o=function(a){d("WAWebModalManager").ModalManager.close(),d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebSMBDataSharingDrawer.react"),{onClose:function(){return d("WAWebDrawerManager").DrawerManager.closeDrawerLeft()},entrypoint:a}))};function p(a){var b=a.children,c=a.entryPoint;return k.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{className:"x1ypdohk",id:"data-sharing-learn-more-link",selectable:!0,onClick:function(){return o(c)},children:b})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.checkboxValue,c=a.entryPoint,e=a.onCheckboxToggle;a=a.theme;a=a==="labels-opt-out"?h._(/*BTDS*/"__JHASH__1Xq15p5pQdJ__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:c,children:h._(/*BTDS*/"__JHASH__tmQ7MojBTej__JHASH__")}))]):h._(/*BTDS*/"__JHASH__-3HURnKmtVO__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:c,children:h._(/*BTDS*/"__JHASH__nM41f85EY-I__JHASH__")}))]);return k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebCheckBox.react").CheckBox,{checked:b,onChange:e}),k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"secondary",xstyle:d("WAWebUISpacing").uiMargin.start16,children:a})]})}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.entryPoint;return k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"secondary",children:h._(/*BTDS*/"__JHASH__pYuJ86ohGD3__JHASH__",[h._implicitParam("=m1",k.jsx(p,{entryPoint:a,children:h._(/*BTDS*/"__JHASH__UU6CPff_gqR__JHASH__")}))])})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.checkboxValue,e=a.onCheckboxToggle;a=a.theme;var f=c("useWAWebUnmountSignal")(),g=m(null),h=g[0],i=g[1];l(function(){void d("WAWebSMBDataSharingSettingAction").getSMBDataSharingSettingAction().then(function(a){f.aborted||(i(a),d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(i))});return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(i)}},[f.aborted]);if(h==null||h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset)return null;var j;a==="order-create"?j=[n.themeOrderCreate,d("WAWebUISpacing").uiPadding.start16,d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.bottom32]:a==="order-update"?j=[d("WAWebUISpacing").uiPadding.start28,d("WAWebUISpacing").uiPadding.top48,d("WAWebUISpacing").uiPadding.bottom16]:a==="labels-opt-out"&&(j=[n.themeLabelsOptOut,d("WAWebUISpacing").uiMargin.top24,d("WAWebUISpacing").uiPadding.top12,d("WAWebUISpacing").uiPadding.start30]);g=h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];h=h===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]&&c("WAWebDataSharingUpsellModel").isUpsellEnabled();var o;a==="labels-opt-out"?o=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_LABELS_SCREEN:(a,o=d("WAWebWamEnumSmbDataSharingConsentSettingEntryPoint").SMB_DATA_SHARING_CONSENT_SETTING_ENTRY_POINT.ENTRY_POINT_ORDER_SCREEN);return k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:j,children:[h?k.jsx(r,{entryPoint:o}):null,g?k.jsx(q,{theme:a,entryPoint:o,checkboxValue:b,onCheckboxToggle:e}):null]})}a.displayName=a.name+" [from "+f.id+"]";g.OptOutText=q;g.UpsellText=r;g.DataSharingOptOutOrUpsell=a}),226);
__d("WAWebCtwa3pdConversionWamEvent",["WAWebWamCodegenUtils"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({Ctwa3pdConversion:[5138,{ctwa3pdConversionMetadata:[1,a.TYPES.STRING],ctwa3pdConversionSubtype:[2,a.TYPES.STRING],ctwa3pdConversionType:[3,a.TYPES.STRING],ctwa3pdSchemaVersion:[4,a.TYPES.INTEGER],ctwa3pdSurfaceType:[5,a.TYPES.STRING],ctwaSignals:[7,a.TYPES.STRING],ctwaTrackingPayload:[6,a.TYPES.STRING]},[1,1,1],"regular"]},{Ctwa3pdConversion:[]});g.Ctwa3pdConversionWamEvent=b}),98);
__d("WAWebSmb3pdConversionSignalAction",["WALogger","WASmaxInBizSettingsEnums","WATimeUtils","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwa3pdConversionWamEvent","WAWebDownloads3PDSignalsDatabaseApi","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebMsgModel","WAWebOrderStatus"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["addOrEdit3PDSignal: failed to add 3PD signal to the database"]);h=function(){return a};return a}var i=function(a,b){if(b==="order_created"||a==null)return"processing";b;switch(a){case d("WAWebOrderStatus").OrderStatus.Shipped:return"shipped";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return"completed";case d("WAWebOrderStatus").OrderStatus.Canceled:return"canceled";case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return"processing"}},j=function(a,b){var e=a.chat,f=a.surface,g=a.type,j=a.subType,k=a.orderStatus;a=a.paidData;var l=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(e);e=c("WAWebCommonCTWADataSharing").getCTWASignalsValueFromChat(e);if(l==null)return;if(d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()!==d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])return;k=j==null?i(k!=null?k:null,g):j;j=JSON.stringify(a);a={ctwa3pdSchemaVersion:2,ctwa3pdSurfaceType:f,ctwa3pdConversionType:g,ctwa3pdConversionSubtype:k,ctwa3pdConversionMetadata:j,ctwaSignals:e!=null?e:void 0};l.data!=null&&(a.ctwaTrackingPayload=l.data);if(d("WAWebBizGatingUtils").isDownload3PDSignalsEnabled()){d("WAWebDownloads3PDSignalsDatabaseApi").addOrEdit3PDSignal({clickId:(f=a.ctwaTrackingPayload)!=null?f:"",ctwa3pdConversionType:g,ctwa3pdConversionSubtype:k,ctwa3pdConversionMetadata:j,timestamp:d("WATimeUtils").unixTimeMs()})["catch"](function(a){d("WALogger").ERROR(h()).devConsole(a);return null})}b&&new(d("WAWebCtwa3pdConversionWamEvent").Ctwa3pdConversionWamEvent)(a).commit()},k=function(a,b,c,e){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a==null)return;a=a.predefinedId;if(a==null)return;if(!d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS_SET.has(a)&&!(a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdSignalNewCustomerEnabled()||(a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID||a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID)&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()||a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdImportantLabelSignalsEnabled()))return;var f;a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID||a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID||a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID?f="lead_created":a===d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER||a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID?f="order_created":f="order_updated";var g,h={};switch(a){case d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID:g="new_customer";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE:g="order_complete";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER:g="new_order";h={paid:!1};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PAID:g="paid";h={paid:!0};break;case d("WAWebCTWAConstants").ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT:g="pending_payment";h={paid:!1};break;case d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID:g="follow_up";break;case d("WAWebCTWAConstants").LEAD_PREDEFINED_ID:g="lead";break;case d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID:g="important";h={paid:!1};break}j({paidData:h,chat:b,surface:c,type:f,subType:g},e)};a=function(a,b){var c=a.chat,e=a.type,f=a.orderStatus,g=a.paidData;a=a.isPaidStateChanged;if(!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;c={surface:"order",chat:c,type:e,orderStatus:f,paidData:g};a===!0&&(c.subType="paid_change");j(c,b)};var l=function(a,b,c){var d="label_chat";a.forEach(function(a){b.forEach(function(b){k(b,a,d,c)})})},m=function(a,b,c){var e="label_message";a.forEach(function(a){var f=d("WAWebFrontendMsgGetters").getChat(a);b.forEach(function(a){k(a,f,e,c)})})};b=function(a,b,c){if(a.length===0||b.length===0)return;a=a.reduce(function(a,b){b instanceof d("WAWebChatModel").Chat?a.chats.push(b):b instanceof d("WAWebMsgModel").Msg&&a.messages.push(b);return a},{chats:[],messages:[]});var e=a.chats;a=a.messages;e.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats()&&l(e,b,c);a.length>0&&d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages()&&m(a,b,c)};g.log3pdConversionSignalForOrders=a;g.log3pdConversionSignalForChatsOrMessages=b}),98);
__d("WAWebWamEnumCtwaLabelTarget",[],(function(a,b,c,d,e,f){a=Object.freeze({CHAT:0,MESSAGE:1});f.CTWA_LABEL_TARGET=a}),66);
__d("WAWebWamEnumCtwaLabelType",[],(function(a,b,c,d,e,f){a=Object.freeze({NEW_ORDER:0,PENDING_PAYMENT:1,PAID:2,ORDER_COMPLETE:3,NEW_CUSTOMER:4,DELIVERED:5,LEAD:6,FOLLOW_UP:7,APPOINTMENT:8,IMPORTANT:9});f.CTWA_LABEL_TYPE=a}),66);
__d("WAWebWamEnumCustomerAdsSharingSettingEnabled",[],(function(a,b,c,d,e,f){a=Object.freeze({UNSET:0,TRUE:1,FALSE:2});f.CUSTOMER_ADS_SHARING_SETTING_ENABLED=a}),66);
__d("WAWebCtwaLabelSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType","WAWebWamEnumCustomerAdsSharingSettingEnabled"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaLabelSignal:[4662,{ctwaLabelSignalVersion:[1,a.TYPES.INTEGER],ctwaLabelTarget:[2,d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET],ctwaLabelType:[3,d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE],ctwaSignalMetadata:[9,a.TYPES.STRING],customerAdsSharingSettingEnabled:[10,d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED],deepLinkConversionData:[4,a.TYPES.STRING],deepLinkConversionSource:[5,a.TYPES.STRING],eventSharingSettingEnabled:[6,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[7,a.TYPES.BOOLEAN],threadIdHmac:[8,a.TYPES.STRING]},[1,1,1],"regular"]},{CtwaLabelSignal:[]});g.CtwaLabelSignalWamEvent=b}),98);
__d("WAWebSmbMarkAsXLabelAction",["WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebChatModel","WAWebCommonCTWADataSharing","WAWebCtwaLabelSignalWamEvent","WAWebFrontendMsgGetters","WAWebLabelCollection","WAWebMsgModel","WAWebWamEnumCtwaLabelTarget","WAWebWamEnumCtwaLabelType","WAWebWamEnumCustomerAdsSharingSettingEnabled"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ctwa][labels] logLabelAddedToMessageAction: chat is missing for a provided message"]);h=function(){return a};return a}var i=new Map([[(a=d("WAWebCTWAConstants")).ALLOWED_PREDEFINED_LABEL_IDS.NEW_ORDER,(b=d("WAWebWamEnumCtwaLabelType")).CTWA_LABEL_TYPE.NEW_ORDER],[a.ALLOWED_PREDEFINED_LABEL_IDS.PENDING_PAYMENT,b.CTWA_LABEL_TYPE.PENDING_PAYMENT],[a.ALLOWED_PREDEFINED_LABEL_IDS.PAID,b.CTWA_LABEL_TYPE.PAID],[a.ALLOWED_PREDEFINED_LABEL_IDS.ORDER_COMPLETE,b.CTWA_LABEL_TYPE.ORDER_COMPLETE]]),j={globalSharingSettingEnabled:!1},k=function(a){if(a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.FOLLOW_UP||a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.LEAD)return{};else if(a===d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.PAID)return{paid:!0};return{paid:!1}},l=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();switch(b){case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]:return{globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a};case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]:return j;case d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE.notset:default:return null}},m=function(a,b,e){var f=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(f==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForChats())return;b.forEach(function(a){var b=k(a);b=JSON.stringify(b);a=babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.CHAT,ctwaLabelType:a,ctwaSignalMetadata:b,deepLinkConversionSource:f.source},l(e),{customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET});new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(a).commit()})},n=function(a,b,e){a=d("WAWebFrontendMsgGetters").getChat(a);if(!a){d("WALogger").ERROR(h());return}var f=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(f==null||!d("WAWebBizGatingUtils").isSMBLabelsDataSharingEnabledForMessages())return;b.forEach(function(a){var b=k(a);b=JSON.stringify(b);new(d("WAWebCtwaLabelSignalWamEvent").CtwaLabelSignalWamEvent)(babelHelpers["extends"]({ctwaLabelSignalVersion:1,ctwaLabelTarget:d("WAWebWamEnumCtwaLabelTarget").CTWA_LABEL_TARGET.MESSAGE,ctwaLabelType:a,ctwaSignalMetadata:b,deepLinkConversionSource:f.source},l(e),{customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET})).commit()})};e=function(a,b,c){var e=[];b.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);a=a==null?void 0:a.predefinedId;if(a==null)return;var b=i.get(a);b!=null&&e.push(b);a===d("WAWebCTWAConstants").NEW_CUSTOMER_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdSignalNewCustomerEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.NEW_CUSTOMER);a===d("WAWebCTWAConstants").FOLLOW_UP_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.FOLLOW_UP);a===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdLeadOptimisationLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.LEAD);a===d("WAWebCTWAConstants").IMPORTANT_PREDEFINED_ID&&d("WAWebBizGatingUtils").is3pdImportantLabelSignalsEnabled()&&e.push(d("WAWebWamEnumCtwaLabelType").CTWA_LABEL_TYPE.IMPORTANT)});if(e.length===0)return;if(a[0]instanceof d("WAWebMsgModel").Msg){n(a[0],e,c);return}a.forEach(function(a){a instanceof d("WAWebChatModel").Chat&&m(a,e,c)})};g.logLabelSignalForModels=e}),98);
__d("WAWebBizManageLabelModal.react",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizLabelItemParentType","WAWebBizLabelUtils","WAWebButton.react","WAWebCTWAConstants","WAWebCTWADataSharingModel","WAWebCTWADetectedOutcomeModel","WAWebChatCollection","WAWebCommonCTWADataSharing","WAWebDataSharingOptOutOrUpsell","WAWebDataSharingUpsellModel","WAWebDrawerHeader.react","WAWebLabelCollection","WAWebLabelConstants","WAWebLabelsMultiSelectLabelList.react","WAWebListsGatingUtils","WAWebListsLogging","WAWebListsUtil","WAWebModal.react","WAWebMultiSelection","WAWebSchemaLabel","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXLabelAction","WAWebStateUtils","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamEnumListAction","WAWebWamLabelEventReporter","react","useWAWebForceUpdate"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useMemo,n=b.useState,o={NONE_SELECTED:0,ALL_SELECTED:1,PARTIALLY_SELECTED:2},p=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=n(p),f=e[0],g=e[1];l(function(){return function(){c("WAWebDataSharingUpsellModel").enableUpsell()}},[]);var i=a.modelsToUpdate,j=a.onLabelUpdateComplete,q=a.entryPoint,r=m(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id})},[]),s=m(function(){return new Set()},[]),t=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),u=m(function(){var a=function(){var a,b={},c=d("WAWebListsGatingUtils").isListsEnabled()?(a=d("WAWebLabelCollection").LabelCollection.findFirst(function(a){return a.type===d("WAWebSchemaLabel").ListType.FAVORITES}))==null?void 0:a.id:null;i.forEach(function(a){a=d("WAWebStateUtils").unproxy(a);a.labels&&a.labels.forEach(function(a){b[a]=b[a]?++b[a]:1});a.isFavorite===!0&&c!=null&&(b[c]=b[c]?++b[c]:1)});return b};a=a();var b={};Object.entries(a).forEach(function(a){var c=a[0];a=a[1];if(a===i.length)b[c]=o.ALL_SELECTED;else if(a>0){b[c]=o.PARTIALLY_SELECTED;return}else b[c]=o.NONE_SELECTED});return b},[]);e=function(a){if(a==null)return;u[a]===o.PARTIALLY_SELECTED?s.add("{labelId}_changed"):s.has(a)?s["delete"](a):(u[a]==null&&d("WAWebBizGatingUtils").labelsEditingEnabled()&&(u[a]=o.ALL_SELECTED),s.add(a));t()};var v=function(){void d("WAWebListsUtil").logLabelOperationEventsForModels(i);var a=r.list,b=r.selected,c=[],e=[],g=[],h=new Map();a.forEach(function(a,f){b[f]?c.push(a.id):e.push(a.id);g.push(babelHelpers["extends"]({id:a.id,type:b[f]?"add":"remove"},a.type!=null&&{listType:a.type}));if(q!=null&&d("WAWebListsGatingUtils").isListsEnabled()){f=d("WAWebLabelCollection").LabelCollection.get(a.id);f!=null&&h.set(a.id,d("WAWebListsUtil").getAllChatsInList(f))}});d("WAWebLabelCollection").LabelCollection.addOrRemoveLabels(g,i);if(q!=null&&d("WAWebListsGatingUtils").isListsEnabled()){var k=i.map(function(a){return d("WAWebChatCollection").ChatCollection.get(a.id)}).filter(Boolean);g.forEach(function(a){var b=h.get(a.id);if(b==null)return;var c,e;a.type==="add"?c=k:a.type==="remove"&&(e=k);d("WAWebListsLogging").logListUpdate({listId:Number(a.id),listAction:d("WAWebWamEnumListAction").LIST_ACTION.UPDATE_MEMBERS,entryPoint:q,chatsBeforeUpdate:b,addedChats:c,removedChats:e})})}c.length>0&&(d("WAWebSmbMarkAsXLabelAction").logLabelSignalForModels(i,c,f),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForChatsOrMessages(i,c,f),c.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a){var b=d("WAWebLabelConstants").mapLabelNameToPredefinedId(a.name);d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.ADD,void 0,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG,void 0,b?b:void 0,b?void 0:a.name)}}));e.length>0&&e.forEach(function(a){a=d("WAWebLabelCollection").LabelCollection.get(a);if(a){var b=d("WAWebLabelConstants").mapLabelNameToPredefinedId(a.name);d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.DELETE,void 0,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG,void 0,b?b:void 0,b?void 0:a.name)}});i.forEach(function(a){a=d("WAWebChatCollection").ChatCollection.get(a.id);if(a){a=a.labels||[];a=a.length+c.length-e.length;d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.UPDATE_LABEL_COUNT,a,d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG)}});j()};v=k.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",disabled:s.size===0,onClick:v,children:h._(/*BTDS*/"__JHASH__K-FdwULPt2J__JHASH__")},1);var w=k.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:a.onCancel,children:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__")},0);w=k.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[w,v]});v=k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebListsGatingUtils").isListsEnabled()?h._(/*BTDS*/"__JHASH__DIPleSe9pjO__JHASH__"):h._(/*BTDS*/"__JHASH__CqaGYmJHqZB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:a.onCancel});var x=c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingLabelOptOutOrUpsell(i)?k.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{checkboxValue:f,onCheckboxToggle:function(){return g(!f)},theme:"labels-opt-out"}):null,y=m(function(){if(d("WAWebBizGatingUtils").isCTWADetectedOutcomeWS4Enabled()&&d("WAWebCTWADetectedOutcomeModel").CTWADetectedOutcomeModel.getValue()===!0&&i.length===1){var a=i[0];return d("WAWebLabelCollection").LabelCollection.filter(function(a){return a.predefinedId===d("WAWebCTWAConstants").NEW_ORDER_PREDEFINED_ID||a.predefinedId===d("WAWebCTWAConstants").LEAD_PREDEFINED_ID}).reduce(function(b,c){c.labelItemCollection.map(function(c){if(c.parentType===d("WAWebBizLabelItemParentType").LabelItemParentType.Chat&&c.parentId===a.id.toString()&&c.detectedOutcomeOriginalLabelPredefinedId!=null){c=d("WAWebBizLabelUtils").mapDOLabelPredefinedIdToManualLabelId(c.detectedOutcomeOriginalLabelPredefinedId);c!=null&&b.push(c)}});return b},[])}return[]},[i]);return k.jsxs(d("WAWebModal.react").Modal,{ref:b,type:d("WAWebModal.react").ModalTheme.LabelList,actions:w,title:v,children:[k.jsx(c("WAWebLabelsMultiSelectLabelList.react"),{autoLabeledLabelIds:y,onNewLabelAdded:a.onNewLabelAdded,shouldScrollIntoViewAndSelect:a.shouldScrollIntoViewAndSelect,initialLabelState:u,selectedLabels:r,renderContext:"label-selection",onMultiSelect:e,entryPoint:q}),x]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBizManageLabelFlow.react",["WAWebBizManageLabelModal.react","WAWebChatModel","WAWebWamEnumLabelOperations","WAWebWamEnumLabelTargets","WAWebWamLabelEventReporter","react","useLazyRef"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useRef;function a(a){var b=a.entryPoint,e=a.modelsToUpdate,f=a.onClose,g=a.onLabelUpdateComplete,h=c("useLazyRef")(function(){return new Set()}),i=l();k(function(){var a=e.length;i.current=a===1?e[0]instanceof d("WAWebChatModel").Chat?d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_CHAT_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_MESSAGE_DIALOG:d("WAWebWamEnumLabelTargets").LABEL_TARGETS.LABEL_COMBINED_DIALOG;d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.VIEW,a,i.current)},[]);a=function(a){if(h.current.has(a)){h.current["delete"](a);return{shouldScrollIntoView:!0,shouldSelect:!0}}return{shouldScrollIntoView:!1,shouldSelect:!1}};var m=function(a){h.current.add(a)},n=function(){g==null?void 0:g(),f==null?void 0:f()},o=function(){i.current&&d("WAWebWamLabelEventReporter").logLabelOperationEvent(d("WAWebWamEnumLabelOperations").LABEL_OPERATIONS.CLICK_NEGATIVE,e.length,i.current),f==null?void 0:f()};return j.jsx(c("WAWebBizManageLabelModal.react"),{shouldScrollIntoViewAndSelect:a,onLabelUpdateComplete:n,onCancel:o,onNewLabelAdded:m,modelsToUpdate:e,entryPoint:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBizOrderStatusLabels",["fbt","WAWebOrderStatus"],(function(a,b,c,d,e,f,g,h){function a(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._(/*BTDS*/"__JHASH__QTOWlLFKqyZ__JHASH__");case d("WAWebOrderStatus").OrderStatus.Processing:return h._(/*BTDS*/"__JHASH__fv5Fe7vxpbF__JHASH__");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._(/*BTDS*/"__JHASH__w8iTK6afFio__JHASH__");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._(/*BTDS*/"__JHASH__IBcOiyGbm2b__JHASH__");case d("WAWebOrderStatus").OrderStatus.Complete:return h._(/*BTDS*/"__JHASH__nLn878IBaFh__JHASH__");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._(/*BTDS*/"__JHASH__isTXbZMBrEk__JHASH__");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._(/*BTDS*/"__JHASH__7QElenRRbEw__JHASH__");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._(/*BTDS*/"__JHASH___Ek3A9MJ_k7__JHASH__");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._(/*BTDS*/"__JHASH__2XrP8abLydD__JHASH__");case d("WAWebOrderStatus").OrderStatus.Confirmed:return h._(/*BTDS*/"__JHASH__8OlArcS1Edq__JHASH__");case d("WAWebOrderStatus").OrderStatus.Delayed:return h._(/*BTDS*/"__JHASH__CSERh4Cr57F__JHASH__");case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return h._(/*BTDS*/"__JHASH__vzaddjMmvZU__JHASH__");case d("WAWebOrderStatus").OrderStatus.Failed:return h._(/*BTDS*/"__JHASH__dRwKjCs1gIW__JHASH__")}}g.getWAWebBizOrderStatusLabel=a}),226);
__d("WAWebOrderDetailTextComposer",["WAWebConstantsDeprecated","WAWebRichTextField.react","WAWebRound.react","WAWebSendIcon.react","WAWebUISpacing","WAWebVelocityTransitionGroup","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k={textFieldContainer:{display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",zIndex:"x11uqc5h",position:"x1n2onr6",$$css:!0},btnSend:{color:"xfect85",opacity:"xg01cxk",position:"x10l6tqk",right:"xk6ci0l",bottom:"x1oddz9l",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.buttonTitle;a.chat;var e=a.disabled,f=a.onChange,g=a.onSubmit,h=a.placeholder,l=a.testid;l=a.textFieldTestId;l=a.value;return j.jsxs(j.Fragment,{children:[j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"media-caption",xstyle:[k.textFieldContainer,d("WAWebUISpacing").uiMargin.bottom40],children:j.jsx("div",{children:j.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:h,value:l,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:function(){e!==!0&&g()},onChange:function(a){return f(a.text)}})})}),j.jsx(c("WAWebVelocityTransitionGroup"),{appear:!0,transitionName:"btn",children:j.jsx("button",babelHelpers["extends"]({disabled:e,"data-testid":void 0},(i||(i=c("stylex"))).props([k.btnSend,d("WAWebUISpacing").uiMargin.all0,d("WAWebUISpacing").uiPadding.all0]),{tabIndex:-1,onClick:function(){return g()},title:b,children:j.jsx(d("WAWebRound.react").Round,{disabled:e,children:j.jsx(d("WAWebSendIcon.react").SendIcon,{width:18,directional:!0})})}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderProductListItem.react",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderItemGetters","WAWebProductCatalogProductThumb.react","WAWebText_DONOTUSE.react","WAWebUISpacing","isNonZeroNumber","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react");function a(a){var b=a.product;a=a.onClick;var e=k.jsx(d("WAWebEmojiText.react").EmojiText,{text:b.name,ellipsify:!0,titlify:!0}),f=k.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:d("WAWebOrderItemGetters").getMediaData(b),theme:"list"}),g=h._(/*BTDS*/"__JHASH__8FjFxx9N23p__JHASH__",[h._param("item-quantity",b.quantity)]),i=null;b.quantity&&(i=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:g}));g=null;d("isNonZeroNumber").isNonZeroNumber(b.price)&&(g=k.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),children:d("WAWebCurrencyUtils").formatAmount1000(b.currency,b.price)}));var l=null;g!=null&&(l=k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.vert0,d("WAWebUISpacing").uiMargin.start0,d("WAWebUISpacing").uiMargin.end6),{children:"\u2022"})));g=k.jsxs("div",{children:[g,l,i]});return k.jsx(c("WAWebCellFrame.react"),{image:f,customImage:!0,primary:e,secondary:g,theme:"order-product",onClick:a},b.id.toString())}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderProductList.react",["WAWebDrawerContext","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderLogEvents","WAWebOrderProductListItem.react","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.order,e=a.onProductDetail,f=a.sellerJid,g=function(a){var c=b.orderItemCollection.toArray();d("WAWebOrderLogEvents").logOrderListImpression({catalogContext:a,orderId:b.id,productCount:c.length,catalogOwnerJid:f});return c.map(function(a){return{itemKey:a.id.toString(),product:a}})},h=function(b,c){b={productId:b.product.id,businessOwnerJid:f};d("WAWebUtilsLogQplEvents").qplStartProductView("Order");d("WAWebOrderLogEvents").logOrderListItemClick({catalogContext:c,orderId:a.order.id,catalogOwnerJid:f});e(b)};return i.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(b){var e=d("WAWebProductCatalogContext").getProductCatalogContext(b);return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(j,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:g(e),renderItem:function(a){return i.jsx(c("WAWebOrderProductListItem.react"),{product:a.product,onClick:function(){return h(a,e)}})},defaultItemHeight:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCartOrderDetailDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAQplTypes","WAWebBackendErrors","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebClock","WAWebCmd","WAWebConfirmPopup.react","WAWebCurrencyUtils","WAWebDBUpdateMessageTable","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlatListController","WAWebModalManager","WAWebMsgCollection","WAWebMsgModel","WAWebOrderCollection","WAWebOrderDetailTextComposer","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderGetters","WAWebOrderProductList.react","WAWebProductCatalogFetchStateTopBar.react","WAWebProtobufsE2E.pb","WAWebSendTextMsgChatAction","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebWamEnumOrderDetailsCreationAction","WAWebWidFactory","react","stylex","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Catalog Order Display failed"]);l=function(){return a};return a}b=k||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useState,p={defaultBg:{backgroundColor:"x150wa6m",$$css:!0}};function q(a){var b=a.chat,e=a.onChange,f=a.onSubmit;a=a.value;return m.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert0,d("WAWebUISpacing").uiPadding.horiz18),{children:m.jsx(c("WAWebOrderDetailTextComposer"),{chat:b,onChange:e,onSubmit:f,value:a,placeholder:h._(/*BTDS*/"__JHASH__eS-WrAm3LJQ__JHASH__")})}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.onCreateOrderClick,e=a.onDeclineOrderClick;a.order;a=a.sellerJid;a=d("WAWebWidFactory").createUserWid(a);a=d("WAWebUserPrefsMeUser").isMeUser(a);return!a?null:m.jsxs(m.Fragment,{children:[m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:b,children:h._(/*BTDS*/"__JHASH__ZLzjXjxkYp-__JHASH__")})}),m.jsx(c("WAWebDrawerSection.react"),{children:m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,color:"dark",onClick:e,children:h._(/*BTDS*/"__JHASH__quFz4fwBsa8__JHASH__")})})]})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.cancellationMessage,e=a.chat,f=a.fetchState,g=a.flatListController,i=a.isLoading,k=a.onOrderCancel,l=a.onOrderCreate,n=a.onProductDetail,o=a.order,s=a.ownerHasReviewed,t=a.sellerJid,u=a.sendCancelMessage;a=a.setCancellationMessage;if(i||o==null)return m.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f});i="";o.products.length>0?i=h._(/*BTDS*/"__JHASH__RkoUYcwRLqG__JHASH__",[h._plural(d("WAWebOrderGetters").getTotalItemCount(o)||0,"count")]):i=h._(/*BTDS*/"__JHASH__i0hP8LnX2gq__JHASH__");i=m.jsx(d("WAWebText.react").WAWebTextTitle,{children:i});var v=null,w=o.products.reduce(function(a,b){return b.price==null?a:(a||0)+b.price*b.quantity},null),x=o.products.reduce(function(a,b){return b.currency==null?a:b.currency},null);w!=null&&x!=null?v=h._(/*BTDS*/"__JHASH__zF06U2K9U_P__JHASH__",[h._param("subtotal",d("WAWebCurrencyUtils").formatAmount1000(x,w))]):v=h._(/*BTDS*/"__JHASH__ZazVSvtj7rB__JHASH__");x=m.jsx(d("WAWebText.react").WAWebTextSmall,{as:"div",children:v});w=null;if(o.createdAt!=null){v=d("WAWebClock").Clock.timeStr(o.createdAt);w=m.jsx(d("WAWebText.react").WAWebTextSmall,{children:""+v})}return m.jsxs(m.Fragment,{children:[m.jsxs(c("WAWebDrawerSection.react"),{children:[m.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:f}),m.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:[i,x]})),m.jsx(c("WAWebOrderProductList.react"),{flatListController:g,onProductDetail:n,order:o,sellerJid:t}),m.jsx("div",babelHelpers["extends"]({},j.props(p.defaultBg,d("WAWebUISpacing").uiPadding.all18),{children:w})),s?m.jsx(q,{chat:e,value:b,onSubmit:u,onChange:a}):null]}),d("WAWebBizGatingUtils").orderDetailsFromCartEnabled()&&!s?m.jsx(r,{sellerJid:t,order:o,onCreateOrderClick:function(){return l(c("WANullthrows")(o))},onDeclineOrderClick:k}):null]})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.userIsCartOwner,f=a.orderId,g=a.token,i=a.sellerJid,j=a.onProductDetail,k=a.onOrderCreate,p=a.ownerHasReviewed,q=a.chat,r=a.orderMessage;a=a.onOrderCancel;var t=o(!0),u=t[0],v=t[1];t=o("PENDING");var w=t[0],x=t[1];t=o(null);var y=t[0],z=t[1];t=o("");var A=t[0];t=t[1];var B=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),C=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__usdBBFCwTOn__JHASH__")}))};n(function(){d("WAWebOrderCollection").OrderCollection.findOrder(f,i,g).then(function(a){v(!1),x("SUCCESS"),z(a),d("WAWebUtilsLogQplEvents").qplAnnotateOrderView((a==null?void 0:a.products.length)||0),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){C(),v(!1),x("ERROR"),d("WAWebUtilsLogQplEvents").qplDropOrderView()}))["catch"](function(a){v(!1),x("ERROR"),d("WALogger").ERROR(l()).verbose().devConsole(a).sendLogs("OrderDetails: failed to display"),d("WAWebUtilsLogQplEvents").qplEndOrderView(d("WAQplTypes").QuickLogActionType.FAIL)})},[]);var D=function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight()},E=function(){D();if(r!=null){var a=d("WAWebUserPrefsMeUser").getMeUser();a=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);a=d("WAWebBusinessProfileUtils").hasCatalog(a);new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_DECLINE_CART,actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),orderDetailEntryPoint:String(c("WAWebBizEntryPoint").FROM_CART),hasNote:Boolean(A),hasCatalog:a}).commit();a=h._(/*BTDS*/"__JHASH__1F-JtckVywX__JHASH__").toString()+"\n"+A;d("WAWebSendTextMsgChatAction").sendTextMsgToChat(q,a,{quotedMsg:new(d("WAWebMsgModel").Msg)(r)});if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(r!=null){a={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.DECLINED};void d("WAWebDBUpdateMessageTable").updateMessageTable(r.id,a);var b=d("WAWebMsgCollection").MsgCollection.get(r.id);b&&b.set(a)}}d("WAWebCmd").Cmd.openChatFromUnread(q)},F=d("WAWebBizGatingUtils").isBuyerOrderRequestVariantEnabled()?h._(/*BTDS*/"__JHASH__Y-D6JGvjzwX__JHASH__"):h._(/*BTDS*/"__JHASH__BCcZcagIY8y__JHASH__"),G=d("WAWebBizGatingUtils").isSellerOrderRevampEnabled()?h._(/*BTDS*/"__JHASH___i5qDWnNzym__JHASH__"):h._(/*BTDS*/"__JHASH__yHYldlM0F3c__JHASH__");return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"striped",onDrop:D,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:e?F:G,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:D}),m.jsx(c("WAWebDrawerBody.react"),{children:m.jsx(s,{cancellationMessage:A,chat:q,fetchState:w,flatListController:B.current,isLoading:u,onOrderCancel:a,onOrderCreate:k,onProductDetail:j,ownerHasReviewed:p,order:y,sellerJid:i,sendCancelMessage:E,setCancellationMessage:t})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderIcons",["WAWebCircledPlusCustomIcon","WAWebListMsgIconIcon.react","WAWebProductCatalogProductThumb.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={customItemSVG:{color:"xx2jlie",$$css:!0},addItemSVG:{color:"xx2jlie",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0}};function k(){return i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 x1useyqa xsdox4t x1obq294 x5a5i1n xde0f50 x15x8krk x16kknjp xuh0odg"},{children:i.jsx(d("WAWebListMsgIconIcon.react").ListMsgIconIcon,{xstyle:[j.customItemSVG,d("WAWebUISpacing").uiMargin.allAuto]})}))}k.displayName=k.name+" [from "+f.id+"]";function a(){return i.jsx("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 x1useyqa xsdox4t x1obq294 x5a5i1n xde0f50 x15x8krk x16kknjp xuh0odg"},{children:i.jsx(d("WAWebCircledPlusCustomIcon").CircledPlusCustomIcon,{wrapperStyles:[j.addItemSVG,d("WAWebUISpacing").uiMargin.allAuto],height:18})}))}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.mediaData;a=a.useCustomIcon;return a||b==null?i.jsx(k,{}):i.jsx(d("WAWebProductCatalogProductThumb.react").ProductThumb,{mediaData:b,theme:"orderSquareThumb"})}b.displayName=b.name+" [from "+f.id+"]";g.AddItemIcon=a;g.OrderItemIcon=b}),98);
__d("WAWebOrderAddItem",["WAWebCellFrame.react","WAWebOrderIcons","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.onClick;a=a.title;return i.jsx(c("WAWebCellFrame.react"),{testid:void 0,image:i.jsx(d("WAWebOrderIcons").AddItemIcon,{}),primary:a,theme:"add-order-item",onClick:b})}a.displayName=a.name+" [from "+f.id+"]";g.AddOrderItem=a}),98);
__d("WAWebOrderDetailErrorUtils",["fbt","WATypeUtils","WAWebCurrencyUtils","WAWebOrderDetailMath","WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function a(a){l(function(){for(var b in a){var c=a[b];c!=null&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{duration:1e4,id:b+c.toString(),msg:c,action:{actionText:h._(/*BTDS*/"__JHASH__nLwPTwDvvsf__JHASH__"),dismiss:!0,theme:"success"}}))}},[a])}function m(){return h._(/*BTDS*/"__JHASH__tqDDvTVPFPw__JHASH__")}m.displayName=m.name+" [from "+f.id+"]";function n(){return h._(/*BTDS*/"__JHASH__66sCzqcyhX4__JHASH__")}n.displayName=n.name+" [from "+f.id+"]";var o=function(a){return h._(/*BTDS*/"__JHASH__AaN_pZwLUWu__JHASH__",[h._param("input_label",a)])},p=function(a){return h._(/*BTDS*/"__JHASH__ZpoQZjdbWJ3__JHASH__",[h._param("input_label",a)])};function b(a){var b=a.label,c=a.currency,e=a.fieldType,f=a.maxFlatValue,g=a.enablePercentValueCheck;a=a.value;if(!d("WAWebCurrencyUtils").validatePriceString(c,a))return m();c=d("WAWebCurrencyUtils").valueFromString(c,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(c<0)return n();if(e===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL){if(Boolean(g)&&c>100)return o(b!=null?b:"")}else if(d("WATypeUtils").isNumber(f)&&c>f)return p(b!=null?b:"");return""}g.useShowToastErrors=a;g.getOrderDetailInvalidNumberErrorMessage=m;g.getOrderDetailNegativeNumberErrorMessage=n;g.errorMessageBigPercentageValue=o;g.errorMessageBigFlatValue=p;g.additionalChargeErrorHandler=b}),226);
__d("WAWebOrderDetailAmountInput",["fbt","WAWebCurrencyUtils","WAWebOrderDetailErrorUtils","WAWebOrderDetailMath","WAWebRichTextField.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function n(a,b){if(a==null||!a.length||!d("WAWebCurrencyUtils").validatePriceString(b,a))return h._(/*BTDS*/"__JHASH__ZweQ2CBBcMh__JHASH__");b=d("WAWebCurrencyUtils").valueFromString(b,a)/d("WAWebOrderDetailMath").DEFAULT_OFFSET;if(b<0)return h._(/*BTDS*/"__JHASH__u43SMPYf3Hq__JHASH__")}var o={container:{textAlign:"x1yc453h",width:"x1dmp6jm",overflowX:"x6ikm8r",overflowY:"x10wlt62",marginTop:"xs9mwh0",$$css:!0}};function a(a){var b=a.currency,e=a.onCancel,f=a.onSave;a=a.value;var g=m(null),i=g[0],k=g[1];g=m(a);var p=g[0],q=g[1];d("WAWebOrderDetailErrorUtils").useShowToastErrors({productPriceError:i});return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([o.container,d("WAWebUISpacing").uiPadding.end2]),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,constrainedWidth:!0,hideFloatingLabel:!0,focusOnMount:!0,editable:!0,lockable:!0,startActive:!0,placeholder:h._(/*BTDS*/"__JHASH__-SoDyY-vVy6__JHASH__"),value:p,theme:"default",maxLength:12,customStyleThemes:["disabledLabel","noErrorInfo"],testid:void 0,validate:function(a){a=n(a,b);k(a);return!a},onChange:function(a){a=a.text;q(a);k(n(a,b))},onSave:function(){f(p)},onCancel:e,error:i})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSharedStyles",[],(function(a,b,c,d,e,f,g){a={clickableText:{color:"x1a06ls3",cursor:"x1ypdohk",fontWeight:"xo1l8bm",lineHeight:"x15bjb6t",letterSpacing:"x12oo3zp",":hover_textDecoration":"xt0b8zv",$$css:!0}};g["default"]=a}),98);
__d("WAWebOrderCatalogProductPrice",["fbt","$InternalEnum","WAWebCurrencyUtils","WAWebFlex.react","WAWebOrderDetailAmountInput","WAWebOrderDetailSharedStyles","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum").Mirrored(["Readonly","EditableBlank","EditableFilled","Editing"]);function a(a){var b=a.currency;a.onEnter;var e=a.onPriceChange,f=a.onPriceStageChange,g=a.orderItem,i=a.price;a=a.priceStage;switch(a){case l.Editing:return k.jsx("div",{role:"textbox",onClick:function(a){return a.stopPropagation()},"data-testid":void 0,children:k.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end3),{children:d("WAWebCurrencyUtils").formatAmount1000ToParts(b,0).symbol})),k.jsx(c("WAWebOrderDetailAmountInput"),{currency:b,value:i!=null?String(i/1e3):"",onSave:function(a){f(l.EditableFilled),e(d("WAWebCurrencyUtils").valueFromString(b,a))},onCancel:function(){f(i==null?l.EditableBlank:l.EditableFilled)}})]})});case l.EditableFilled:return k.jsx("div",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,Number(i))}));case l.EditableBlank:return k.jsx("span",babelHelpers["extends"]({role:"button"},(j||(j=c("stylex"))).props(c("WAWebOrderDetailSharedStyles").clickableText),{onClick:function(a){f(l.Editing),a.stopPropagation()},"data-testid":void 0,children:h._(/*BTDS*/"__JHASH__HSD4ClGLE8C__JHASH__")}));default:return k.jsx("div",{"data-testid":void 0,children:d("WAWebCurrencyUtils").formatAmount1000(b,g.price)})}}a.displayName=a.name+" [from "+f.id+"]";g.PriceStage=l;g.CatalogProductPrice=a}),226);
__d("WAWebOrderDetailItems",["fbt","WAWebBizGatingUtils","WAWebCartDeleteIcon.react","WAWebCellFrame.react","WAWebCommonQuantityControls.react","WAWebConfirmPopup.react","WAWebFlex.react","WAWebModalManager","WAWebOrderAddItem","WAWebOrderCatalogProductPrice","WAWebOrderIcons","WAWebOrderItemGetters","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useState,o={orderItemsContainer:{marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xh3wvx0",marginInlineStart:"x1lziwak",$$css:!0}};function p(a,b){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__Lt6RXPmqBXb__JHASH__",[h._param("order_item_name",b)]),okText:h._(/*BTDS*/"__JHASH__Ui8DRBy34xc__JHASH__"),onOK:function(){a==null?void 0:a(),d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"__JHASH__J0wgiJDfDW-__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close()}}))}function a(a){var b=a.currency,e=a.details,f=a.items,g=a.onAddItem,i=a.onDeleteItem,k=a.onItemQuantityChange,q=a.onPriceChange,r=a.priceMap;a=n(null);var s=a[0],t=a[1];a=n({});var u=a[0],v=a[1],w=m(function(a){if(a.price!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.Readonly;else if((r==null?void 0:r[a.id])!=null)return d("WAWebOrderCatalogProductPrice").PriceStage.EditableFilled;return d("WAWebOrderCatalogProductPrice").PriceStage.EditableBlank},[r]),x=m(function(a,b){v(function(c){return babelHelpers["extends"]({},c,(c={},c[b.id]=a,c))})},[]),y=Boolean(e),z=function(a,e){var f;return l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4"},{children:[l.jsx(d("WAWebOrderCatalogProductPrice").CatalogProductPrice,{price:(f=r==null?void 0:r[a.id])!=null?f:null,priceStage:(f=u[a.id])!=null?f:w(a),currency:b,orderItem:a,onPriceChange:function(b){return q==null?void 0:q(b,a.id)},onPriceStageChange:function(b){x(b,a)},onEnter:function(){t(null)}}),e===s&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start5),{children:l.jsx(c("WAWebCartDeleteIcon.react"),{onClick:function(b){b.stopPropagation(),p(function(){return i==null?void 0:i(e)},a.name)}})}))]}))};return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:o.orderItemsContainer,children:[!y&&(d("WAWebBizGatingUtils").orderDetailsFromCatalogEnabled()||d("WAWebBizGatingUtils").orderDetailsCustomItemEnabled())&&l.jsx(d("WAWebOrderAddItem").AddOrderItem,{title:h._(/*BTDS*/"__JHASH__SSsOJuYz6YE__JHASH__"),onClick:function(){return g==null?void 0:g()}}),f.map(function(a,b){var e=h._(/*BTDS*/"__JHASH__OTl03tJfRde__JHASH__",[h._param("item-quantity",a.quantity)]);return l.jsx(c("WAWebCellFrame.react"),babelHelpers["extends"]({testid:void 0,className:(j||(j=c("stylex")))(b>0&&d("WAWebUISpacing").uiPadding.top10),disabled:!0,image:l.jsx(d("WAWebOrderIcons").OrderItemIcon,{mediaData:a.thumbnailUrl?d("WAWebOrderItemGetters").getMediaData(a):null,useCustomIcon:a.isCustomItem}),primary:l.jsx("span",babelHelpers["extends"]({className:"xzwifym xuxw1ft x6ikm8r x10wlt62 xlyipyv"},{title:a.name,children:a.name})),secondary:y?e:l.jsx(c("WAWebCommonQuantityControls.react"),{quantity:a.quantity,onAddOneClick:function(){return k==null?void 0:k(b,a.quantity+1)},onRemoveOneClick:function(){return k==null?void 0:k(b,a.quantity-1)}}),theme:"add-order-item",detail:z(a,b)},y?void 0:{onMouseEnter:function(){return t(b)},onMouseLeave:function(){return t(null)}}),b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailSectionContainer.react",["WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).Children,l={container:{rowGap:"xgpatz3",columnGap:"x40hh3e",$$css:!0}};function a(a){a=a.children;return j.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:l.container,align:"stretch",children:k.map(a,function(a,b){return j.jsxs(j.Fragment,{children:[b!==0?j.jsx("div",{className:"xqtp20y x178xt8z xlya59e xyj1x25"}):null,a]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailSellerProfile.react",["fbt","WAWebBizGatingUtils","WAWebContactCollection","WAWebDetailImage.react","WAWebFlex.react","WAWebName.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{rowGap:"x1b8z93w",columnGap:"x1amjocr",$$css:!0},uppercase:{textTransform:"xtvhhri",$$css:!0}};function a(a){var b=a.orderId,e=a.orderStatus,f=a.sellerWid;a=a.testid;a=d("WAWebContactCollection").ContactCollection.get(f);f=a?k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebFlex.react").FlexRow,{children:k.jsx(d("WAWebDetailImage.react").DetailImage,{id:f,size:48})}),k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebName.react").Name,{className:"x1603h9y x1u7k74 xk50ysn x1wm35g",useDisplayName:!0,contact:a}),b!=null?k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"secondary",weight:"medium",className:(j||(j=c("stylex")))(l.uppercase,d("WAWebUISpacing").uiMargin.top4),children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__5Y7gpQOhqp8__JHASH__",[h._param("order-id",b)]):h._(/*BTDS*/"__JHASH__ke1rTLyoyvQ__JHASH__",[h._param("order-id",b)])}):null]})]}):null;return k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[l.container,d("WAWebUISpacing").uiPadding.horiz16],testid:void 0,children:[f,e]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebLocalShippingIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="local-shipping";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=8;m=12;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 12 8",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.5 2H9.75C9.905 2 10.055 2.075 10.15 2.2L11.3 3.735C11.43 3.91 11.5 4.12 11.5 4.335V6C11.5 6.275 11.275 6.5 11 6.5H10.5C10.5 7.33 9.83 8 9 8C8.17 8 7.5 7.33 7.5 6.5H4.5C4.5 7.33 3.83 8 3 8C2.17 8 1.5 7.33 1.5 6.5C0.95 6.5 0.5 6.05 0.5 5.5V1C0.5 0.45 0.95 0 1.5 0H7.5C8.05 0 8.5 0.45 8.5 1V2ZM2.5 6.5C2.5 6.775 2.725 7 3 7C3.275 7 3.5 6.775 3.5 6.5C3.5 6.225 3.275 6 3 6C2.725 6 2.5 6.225 2.5 6.5ZM9.75 2.75L10.73 4H8.5V2.75H9.75ZM8.5 6.5C8.5 6.775 8.725 7 9 7C9.275 7 9.5 6.775 9.5 6.5C9.5 6.225 9.275 6 9 6C8.725 6 8.5 6.225 8.5 6.5Z",fill:"#667781"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.LocalShippingIcon=a}),98);
__d("WAWebOrderDetailStatusPill.react",["fbt","WAWebActionCheckCircleIcon.react","WAWebAlertErrorIcon.react","WAWebLocalShippingIcon.react","WAWebOrderStatus","WAWebStatusClockIcon.react","WAWebText.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={container:{backgroundColor:"xairv4b",display:"x3nfvp2",alignItems:"x6s0dn4",fontSize:"x1pg5gke",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",$$css:!0},iconCipherText:{marginTop:"xdhfreh",$$css:!0},currencyIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",backgroundColor:"xlo7ypk",fontSize:"x1xloe0n",color:"xq8ne21",$$css:!0}};function m(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:return h._(/*BTDS*/"__JHASH__UZM-KRGodOD__JHASH__");case d("WAWebOrderStatus").OrderStatus.Processing:return h._(/*BTDS*/"__JHASH__jE40eWWgJ-x__JHASH__");case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:return h._(/*BTDS*/"__JHASH__z9D-NptOFH8__JHASH__");case d("WAWebOrderStatus").OrderStatus.Shipped:return h._(/*BTDS*/"__JHASH__BqEnJ40U0-4__JHASH__");case d("WAWebOrderStatus").OrderStatus.Canceled:return h._(/*BTDS*/"__JHASH__CC2HElcw8Fl__JHASH__");case d("WAWebOrderStatus").OrderStatus.Complete:return h._(/*BTDS*/"__JHASH__XisoM1MapeK__JHASH__");case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return h._(/*BTDS*/"__JHASH__L4HR3JudIk5__JHASH__");case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return h._(/*BTDS*/"__JHASH__WKJdwDStCJN__JHASH__");case d("WAWebOrderStatus").OrderStatus.Delivered:return h._(/*BTDS*/"__JHASH__yU5lbcnSwid__JHASH__");case d("WAWebOrderStatus").OrderStatus.Confirmed:return h._(/*BTDS*/"__JHASH__sYBBdqNybJN__JHASH__");case d("WAWebOrderStatus").OrderStatus.Delayed:return h._(/*BTDS*/"__JHASH__Gkpf5Jg3B70__JHASH__");case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return h._(/*BTDS*/"__JHASH__b-4Tkxxrmq9__JHASH__");case d("WAWebOrderStatus").OrderStatus.Failed:return h._(/*BTDS*/"__JHASH__TxHt6xCpvOQ__JHASH__")}}function n(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return;case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:return"critical";case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return"success"}}function o(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:case d("WAWebOrderStatus").OrderStatus.Delayed:return k.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:12,displayInline:!0,xstyle:[d("WAWebUISpacing").uiMargin.end4,l.iconCipherText]});case d("WAWebOrderStatus").OrderStatus.PaymentRequested:return k.jsx(p,{});case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.Shipped:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return k.jsx(d("WAWebLocalShippingIcon.react").LocalShippingIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Canceled:case d("WAWebOrderStatus").OrderStatus.Failed:return k.jsx(d("WAWebAlertErrorIcon.react").AlertErrorIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4});case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:case d("WAWebOrderStatus").OrderStatus.Confirmed:return k.jsx(d("WAWebActionCheckCircleIcon.react").ActionCheckCircleIcon,{width:12,displayInline:!0,xstyle:d("WAWebUISpacing").uiMargin.end4})}}function a(a){a=a.orderStatus;a=a===void 0?d("WAWebOrderStatus").getDefaultOrderStatus():a;return k.jsxs(d("WAWebText.react").WAWebTextSmall,{color:n(a),xstyle:[l.container,d("WAWebUISpacing").uiPadding.top8,d("WAWebUISpacing").uiPadding.bottom7,d("WAWebUISpacing").uiPadding.start8,d("WAWebUISpacing").uiPadding.end8],children:[o(a),m(a)]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return k.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.all2,d("WAWebUISpacing").uiMargin.end3,l.currencyIcon),{children:"R$"}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderEphemeralExemptionPopup.react",["fbt","WAWebBizGatingUtils","WAWebCheckBox.react","WAWebConfirmPopup.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsStore","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState;function a(a){var b=a.chat,e=a.onSubmit;a=d("WAWebFrontendContactGetters").getFormattedUser(b.contact);b=m(!1);var f=b[0],g=b[1];b=function(){g(!f)};var i=function(){f&&c("WAWebUserPrefsStore").set(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED,!0),d("WAWebModalManager").ModalManager.close(),e()},k=function(){d("WAWebModalManager").ModalManager.close()};return l.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._(/*BTDS*/"__JHASH__MIsnms4txfd__JHASH__"),onOK:i,onCancel:k,children:[l.jsx(d("WAWebText.react").WAWebTextSectionTitle,{children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__RAgaSFHxAu2__JHASH__",[h._param("contact-name",a)]):h._(/*BTDS*/"__JHASH__r0ZIh2f-hHW__JHASH__",[h._param("contact-name",a)])}),l.jsx("div",{children:l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert6),{children:[l.jsx(d("WAWebCheckBox.react").CheckBox,{testid:void 0,id:"order-ephemeral-exemption-popup-skip-checkbox-id",checked:f,onChange:b}),l.jsx("label",{htmlFor:"order-ephemeral-exemption-popup-skip-checkbox-id",className:d("WAWebUISpacing").uiMargin.start8,children:h._(/*BTDS*/"__JHASH__M21Bt0gDpmG__JHASH__")})]}))})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderTotalPrice",["fbt","WAWebBizEntryPoint","WAWebButton.react","WAWebOrdersExpansionUtils","WAWebText_DONOTUSE.react","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={buttonWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0},errorLabel:{textAlign:"x2b8uid",$$css:!0}};function m(a){var b=a.disabled,e=a.onClick,f=a.testid;f=a.title;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"primary",disabled:b,onClick:e,testid:void 0,children:f})}))}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=a.entryPoint;b=b===void 0?null:b;a=a.onClick;a=a===void 0?null:a;return b===c("WAWebBizEntryPoint").FROM_CART&&a!=null&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()?k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.buttonWrapper,d("WAWebUISpacing").uiMargin.top16),{children:k.jsx(d("WAWebButton.react").Button,{type:"secondary",onClick:a,testid:void 0,children:h._(/*BTDS*/"__JHASH__C07QMq_wDuh__JHASH__")})})):null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.confirmTitle,c=a.disabled,e=a.entryPoint;e=e===void 0?null:e;var f=a.error;f=f===void 0?null:f;var g=a.onConfirm,h=a.onDeclineOrder;h=h===void 0?null:h;var i=a.testid;i=a.title;var j=a.totalPrice,o=a.visible;a=a.xstyle;return o?k.jsxs(d("WAWebText_DONOTUSE.react").TextDiv,{xstyle:a,children:[f==null?k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np x1qughib x117nqv4"},{"data-testid":void 0,children:[i,k.jsx("p",{children:j})]})):k.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{color:"danger",size:"16",xstyle:l.errorLabel,children:f}),k.jsx(m,{title:b,onClick:g,disabled:c||Boolean(f),testid:void 0}),k.jsx(n,{entryPoint:e,onClick:h})]}):null}a.displayName=a.name+" [from "+f.id+"]";g.OrderApplyChangesButton=m;g.OrderTotalPrice=a}),226);
__d("WAWebWamEnumOrderSignalType",[],(function(a,b,c,d,e,f){a=Object.freeze({CREATED:0,UPDATED:1});f.ORDER_SIGNAL_TYPE=a}),66);
__d("WAWebWamEnumOrderStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({PROCESSING:0,SHIPPED:1,COMPLETED:2,CANCELLED:3,PENDING:4,PARTIALLY_SHIPPED:5,PAID_CHANGE:6});f.ORDER_STATUS=a}),66);
__d("WAWebCtwaOrderSignalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({CtwaOrderSignal:[4264,{ctwaOrderSignalVersion:[1,a.TYPES.INTEGER],ctwaSignalMetadata:[10,a.TYPES.STRING],customerAdsSharingSettingEnabled:[11,d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED],deepLinkConversionData:[2,a.TYPES.STRING],deepLinkConversionSource:[3,a.TYPES.STRING],eventSharingSettingEnabled:[4,a.TYPES.BOOLEAN],globalSharingSettingEnabled:[5,a.TYPES.BOOLEAN],orderPaid:[8,a.TYPES.BOOLEAN],orderSignalType:[6,d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE],orderStatus:[7,d("WAWebWamEnumOrderStatus").ORDER_STATUS],threadIdHmac:[9,a.TYPES.STRING]},[1,1,1],"regular"]},{CtwaOrderSignal:[]});g.CtwaOrderSignalWamEvent=b}),98);
__d("WAWebSmbMarkAsXOrderAction",["WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebCommonCTWADataSharing","WAWebCtwaOrderSignalWamEvent","WAWebOrderStatus","WAWebWamEnumCustomerAdsSharingSettingEnabled","WAWebWamEnumOrderSignalType","WAWebWamEnumOrderStatus"],(function(a,b,c,d,e,f,g){var h=function(a){switch(a){case d("WAWebOrderStatus").OrderStatus.Processing:case d("WAWebOrderStatus").OrderStatus.PreparingToShip:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING;case d("WAWebOrderStatus").OrderStatus.Shipped:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.SHIPPED;case d("WAWebOrderStatus").OrderStatus.Complete:case d("WAWebOrderStatus").OrderStatus.Delivered:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.COMPLETED;case d("WAWebOrderStatus").OrderStatus.Canceled:return d("WAWebWamEnumOrderStatus").ORDER_STATUS.CANCELLED;case d("WAWebOrderStatus").OrderStatus.Pending:case d("WAWebOrderStatus").OrderStatus.PartiallyShipped:case d("WAWebOrderStatus").OrderStatus.PaymentRequested:case d("WAWebOrderStatus").OrderStatus.Confirmed:case d("WAWebOrderStatus").OrderStatus.Delayed:case d("WAWebOrderStatus").OrderStatus.Failed:case d("WAWebOrderStatus").OrderStatus.OutForDelivery:return null}},i=function(a){var b=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue();b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]?a={globalSharingSettingEnabled:!0,eventSharingSettingEnabled:a}:b===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["false"]?a={globalSharingSettingEnabled:!1}:a=null;return a};a=function(a,b,e,f){e=h(e);if(e==null)return;a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:f,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.UPDATED,orderStatus:e,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,{},i(b))).commit()};b=function(a,b){a=c("WAWebCommonCTWADataSharing").getCTWAEligibilityFromChat(a);if(a==null||!d("WAWebBizGatingUtils").smbDataSharingConsentEnabled())return;a={ctwaOrderSignalVersion:1,deepLinkConversionSource:a.source,orderPaid:!1,orderSignalType:d("WAWebWamEnumOrderSignalType").ORDER_SIGNAL_TYPE.CREATED,orderStatus:d("WAWebWamEnumOrderStatus").ORDER_STATUS.PROCESSING,customerAdsSharingSettingEnabled:d("WAWebWamEnumCustomerAdsSharingSettingEnabled").CUSTOMER_ADS_SHARING_SETTING_ENABLED.UNSET};new(d("WAWebCtwaOrderSignalWamEvent").CtwaOrderSignalWamEvent)(babelHelpers["extends"]({},a,{},i(b))).commit()};g.markOrderAsUpdatedStatusAction=a;g.markOrderAsCreatedAction=b}),98);
__d("WAWebOrderSummaryDrawer",["fbt","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebCTWADataSharingModel","WAWebChatEphemerality","WAWebClickableLink.react","WAWebCommonCTWADataSharing","WAWebCurrencyUtils","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailSharedStyles","WAWebOrderEphemeralExemptionPopup.react","WAWebOrderExpansionNotSupportedPopup.react","WAWebOrderStatus","WAWebOrderTotalPrice","WAWebOrdersExpansionUtils","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStore","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState,o={orderFieldsContainer:{rowGap:"x1kb72lq",columnGap:"x18hwk67",$$css:!0},orderItemsContainer:{flexShrink:"xs83m0k",overflowY:"x1odjw0f",$$css:!0}},p=function(a,b,c,e){if(!a)return h._(/*BTDS*/"__JHASH__nxIWxJIusFw__JHASH__").toString();a=d("WAWebBizGatingUtils").orderDetailsTotalOrderMinimumValue()*1e3;e=d("WAWebBizGatingUtils").orderDetailsTotalMaxValue(e)*1e3;if(b<a)return h._(/*BTDS*/"__JHASH__-z9LCa2bdyI__JHASH__",[h._param("order_min_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,a))]).toString();return b>e?h._(/*BTDS*/"__JHASH__jF_gxLc7sdO__JHASH__",[h._param("order_max_allowed_amount",d("WAWebCurrencyUtils").formatAmount1000(c,e))]).toString():null};function q(a){var b=a.additionalCharges,e=a.canChangeAdditionalCharges,f=a.canDisplayAdditionalCharges,g=a.currency,i=a.discount,k=a.onAdditionalCharges,m=a.shipping,n=a.subtotal;a=a.tax;var p=(b==null?void 0:b.discountText)&&b.discountType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"__JHASH__2_x53XD3AEf__JHASH__",[h._param("discount_percent",b.discountText)]):null;b=(b==null?void 0:b.taxText)&&b.taxType===d("WAWebOrderDetailMath").PERCENTAGE_SYMBOL?h._(/*BTDS*/"__JHASH__JXbDug8zZkS__JHASH__",[h._param("tax_percent",b.taxText)]):null;return l.jsxs(d("WAWebFlex.react").FlexColumn,{align:"stretch",xstyle:[o.orderFieldsContainer,d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiPadding.bottom20],children:[l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"__JHASH__NMvrVWkEOKi__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,n)})]}),Boolean(f)&&l.jsxs(l.Fragment,{children:[i!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"__JHASH__JMELG2VgMhA__JHASH__")," ",p]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,-i)})]}),m!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:h._(/*BTDS*/"__JHASH__qtF7i6rL0XZ__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,m)})]}),a!=null&&l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",testid:void 0,children:[l.jsxs(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:[h._(/*BTDS*/"__JHASH__GBYYSzc5gjv__JHASH__")," ",b]}),l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"secondary",size:"16",children:d("WAWebCurrencyUtils").formatAmount1000(g,a)})]}),Boolean(e)&&l.jsx(d("WAWebFlex.react").FlexRow,{justify:"all",align:"center",children:l.jsx(c("WAWebClickableLink.react"),{onClick:function(){return k==null?void 0:k()},testid:void 0,className:(j||(j=c("stylex")))(c("WAWebOrderDetailSharedStyles").clickableText,d("WAWebUISpacing").uiMargin.bottom0),children:l.jsx("span",{children:h._(/*BTDS*/"__JHASH__-kJ0FYV3_WB__JHASH__")})})})]})]})}q.displayName=q.name+" [from "+f.id+"]";var r=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-create",b))return l.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{checkboxValue:e,onCheckboxToggle:f,theme:"order-create"})},s=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]},t=function(a){var b=a.chat,e=a.smbOptOut,f=a.amount,g=a.currency,h=a.onSubmit;a=!d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&d("WAWebOrdersExpansionUtils").isSellerCountrySameAsBuyer(b)||d("WAWebOrdersExpansionUtils").isContactCountrySupported(b);if(!a){d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderExpansionNotSupportedPopup.react"),{chat:b}));return}a=function(){d("WAWebSmbMarkAsXOrderAction").markOrderAsCreatedAction(b,e),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:b,type:"order_created",paidData:{amount:String(f),currency:g,paid:!1},orderStatus:d("WAWebOrderStatus").OrderStatus.Processing},e),h()};c("WAWebUserPrefsStore").get(d("WAWebUserPrefsKeys").KEYS.DISAPPEARING_MSG_DISCLAIMER_DIMISSED)!==!0&&d("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled()&&d("WAWebChatEphemerality").isEphemeralSettingOn(b)?d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebOrderEphemeralExemptionPopup.react"),{chat:b,onSubmit:a})):a()};function a(a){var b=a.additionalCharges,e=a.chat,f=a.currency,g=a.entryPoint;g=g===void 0?null:g;var i=a.flatAmounts,j=a.onAddItem,k=a.onAdditionalCharges,u=a.onBack,v=a.onDeclineOrder;v=v===void 0?null:v;var w=a.onDeleteItem,x=a.onItemQuantityChange,y=a.onPriceChange,z=a.onSubmit,A=a.orderItems,B=a.orderSubtotal,C=a.priceMap;a=n(s);var D=a[0],E=a[1];m(function(){var a=function(){var a=d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"];E(a)};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);a=A.every(function(a){var b;return Number.isInteger((b=a.price)!=null?b:C[a.id])});var F=A.length!==0;return l.jsxs(c("WAWebDrawer.react"),{children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__Evhgg2EE5iQ__JHASH__"):h._(/*BTDS*/"__JHASH__hsTTiXw3ZsE__JHASH__"),onBack:u,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsxs(c("WAWebDrawerBody.react"),{children:[l.jsxs(c("WAWebDrawerSection.react"),{xstyle:[o.orderItemsContainer,d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiMargin.bottom0],theme:"refresh-padding-title",children:[l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{sellerWid:d("WAWebUserPrefsMeUser").getMeUser()}),l.jsx(c("WAWebOrderDetailItems"),{currency:f,priceMap:C,items:A,onDeleteItem:w,onPriceChange:y,onAddItem:j,onItemQuantityChange:x}),l.jsx(q,{tax:i.tax,discount:i.discount,shipping:i.shipping,currency:f,subtotal:B,additionalCharges:b,canDisplayAdditionalCharges:F,canChangeAdditionalCharges:F,onAdditionalCharges:k})]}),r(e,A.length,D,function(){return E(!D)})]}),l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx(d("WAWebOrderTotalPrice").OrderTotalPrice,{xstyle:d("WAWebUISpacing").uiPadding.all16,visible:F,disabled:!a,testid:void 0,totalPrice:d("WAWebCurrencyUtils").formatAmount1000(f,i.total),title:h._(/*BTDS*/"__JHASH__3MvYlG5X9Mo__JHASH__"),onConfirm:function(){return t({chat:e,smbOptOut:D,currency:f,amount:i.total/1e3,onSubmit:z})},confirmTitle:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__bF2Ty2SIX58__JHASH__"):h._(/*BTDS*/"__JHASH__UXGBDYWps3R__JHASH__"),error:p(a,i.total,f,e),entryPoint:g,onDeclineOrder:v})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.getErrorLabel=p;g.OrderValues=q;g.getDataSharing=r;g.maybeShowDialogOnSubmit=t;g.OrderSummaryDrawer=a}),226);
__d("WAWebHooksUseCatalog",["WAWebCatalogCollection","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h;e=h||d("react");var i=e.useEffect,j=e.useState;function a(a){var e=j(function(){return d("WAWebCatalogCollection").CatalogCollection.get(a)}),f=e[0],g=e[1],h=c("useWAWebUnmountSignal")();i(function(){var c=d("WAWebCatalogCollection").CatalogCollection.get(a);c!==f&&(c!=null?g(c):b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield d("WAWebCatalogCollection").CatalogCollection.find(a));if(h.aborted)return;g(b)})())},[a,f,h]);return f}g["default"]=a}),98);
__d("WAWebUseOrderDetailItems",["Promise","WAWebCatalogCollection","WAWebHooksUseCatalog","WAWebOrderDetailMath","WAWebOrderItemModel","asyncToGeneratorRuntime","react","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=e.useCallback,k=e.useEffect,l=e.useState;function a(a,e){var f=c("WAWebHooksUseCatalog")(e);e=l([]);var g=e[0],i=e[1];e=l(!0);var m=e[0],n=e[1],o=c("useWAWebUnmountSignal")(),p=j(function(){return f==null?new Map():f.productCollection.getProductModels().reduce(function(a,b){return a.set(b.id.toString(),(a=b.getPreviewImage())==null?void 0:a.mediaUrl)},new Map())},[f]),q=j(function(c){if(f==null)return(h||(h=b("Promise"))).resolve([]);var e=a.items.reduce(function(a,b){if(b.isCustomItem||c.get(b.id)!=null)return a;b=d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:f.id,productId:b.id});a.push(b);return a},[]);return(h||(h=b("Promise"))).all(e)},[f,a.items]),r=j(function(b,e){var f;return new(c("WAWebOrderItemModel"))(babelHelpers["extends"]({},b,{price:((f=b.amount)!=null?f:0)*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:a.currency,thumbnailUrl:e.get(b.id)}))},[a.currency]),s=j(function(b){return a.items.map(function(a){return r(a,b)})},[a.items,r]);k(function(){b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=p();n(!0);yield q(a);if(o.aborted)return;n(!1);a=p();i(s(a))})()},[f,o,q,p,s]);return{orderItems:g,isLoading:m}}g["default"]=a}),98);
__d("WAWebOrderDetailDrawer.react",["fbt","WAWebBizFrontendGatingUtils","WAWebBizGatingUtils","WAWebBizSendOrderAction","WAWebBrazilPaymentsGeoGating","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCurrencyUtils","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebGetBrazilnteractiveActions","WAWebNoop","WAWebOrderDetailItems","WAWebOrderDetailMath","WAWebOrderDetailSectionContainer.react","WAWebOrderDetailSellerProfile.react","WAWebOrderDetailStatusPill.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrderSummaryDrawer","WAWebOrdersExpansionCountries","WAWebSpinner.react","WAWebStatusClockIcon.react","WAWebText.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUseOrderDetailItems","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useMemo,o={buttonWrapper:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);a=d("WAWebUserPrefsMeUser").getMeUser();var f=e.chat,g=e.orderInfo,i=e.sellerWid,k=g.referenceId,r=g.discount,s=g.tax,t=g.shipping,u=g.subtotal,v=g.totalAmount,w=c("WAWebUseOrderDetailItems")(g,i),x=w.orderItems;w=w.isLoading;var y=n(function(){return d("WAWebOrderStatus").findOrderStatus(f,k)},[f,k]);m(function(){var a=d("WAWebUserPrefsMeUser").getMeUser();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.VIEW_ORDER_DETAILS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a))}).commit()},[e.entryPoint]);if(u==null)return null;var z=c("WAWebNoop"),A=function(){d("WAWebBizSendOrderAction").sendOrderPaymentMethodUpdate({chat:f,sellerJid:i.toJid(),orderInfo:g,orderStatus:y,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,orderNote:null,paymentStatus:null,paymentMethod:d("WAWebOrderPaymentStatus").OrderPaymentMethod.Confirm})["finally"](function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),z()})};return l.jsxs(c("WAWebDrawer.react"),{onDrop:e.onBack,ref:b,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__Ssr7_bmMotN__JHASH__"):h._(/*BTDS*/"__JHASH__AorvvqmREO0__JHASH__"),onBack:e.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),l.jsx(c("WAWebDrawerBody.react"),{theme:w?"center-content":void 0,children:w?l.jsx(p,{}):l.jsxs(l.Fragment,{children:[l.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.top20,d("WAWebUISpacing").uiPadding.bottom15],children:l.jsxs(c("WAWebOrderDetailSectionContainer.react"),{children:[l.jsx(c("WAWebOrderDetailSellerProfile.react"),{testid:void 0,orderId:g.referenceId,sellerWid:i,orderStatus:l.jsx(c("WAWebOrderDetailStatusPill.react"),{orderStatus:y})}),l.jsx(c("WAWebOrderDetailItems"),{details:!0,currency:g.currency,items:x}),l.jsx(d("WAWebOrderSummaryDrawer").OrderValues,{tax:s!=null?s*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,discount:r!=null?r*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,shipping:t!=null?t*d("WAWebOrderDetailMath").DEFAULT_OFFSET:null,subtotal:u*d("WAWebOrderDetailMath").DEFAULT_OFFSET,currency:g.currency,canDisplayAdditionalCharges:!0}),l.jsxs(d("WAWebFlex.react").FlexRow,{justify:"all",xstyle:d("WAWebUISpacing").uiPadding.horiz16,testid:void 0,children:[l.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:h._(/*BTDS*/"__JHASH__gRCYHPsriUH__JHASH__")}),l.jsx(d("WAWebText.react").WAWebTextTitle,{as:"span",children:d("WAWebCurrencyUtils").formatAmount(g.currency,v)})]})]})}),a.user===i.user&&((w=(b=d("WAWebOrdersExpansionCountries").getOrdersExpansionAllowedCountries())==null?void 0:b.length)!=null?w:0)>0&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsxs(d("WAWebDrawerButton.react").DrawerButtonSimple,{icon:l.jsx(d("WAWebStatusClockIcon.react").StatusClockIcon,{width:20}),testid:void 0,color:"dark",disabled:!0,onClick:c("WAWebNoop"),children:[l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{size:"16",children:h._(/*BTDS*/"__JHASH__-eY5_MXS2G8__JHASH__")}),l.jsx(d("WAWebText_DONOTUSE.react").TextDiv,{className:"xk4td0m x1pg5gke",children:h._(/*BTDS*/"__JHASH__Gzde0yr2UTx__JHASH__")})]})}),[d("WAWebOrderStatus").OrderStatus.Canceled,d("WAWebOrderStatus").OrderStatus.Complete].every(function(a){return y!==a})&&a.user===i.user&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:function(){e.onOrderStatusUpdateClick==null?void 0:e.onOrderStatusUpdateClick()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH___OAFLFy4cBY__JHASH__"):h._(/*BTDS*/"__JHASH__IGnCv51HBsf__JHASH__")})}))}),a.user!==i.user&&y===d("WAWebOrderStatus").OrderStatus.Pending&&((s=(x=d("WAWebOrdersExpansionCountries").getConsumerOrdersExpansionAllowedCountries())==null?void 0:x.length)!=null?s:0)>0&&l.jsx(c("WAWebDrawerSection.react"),{children:l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(o.buttonWrapper,d("WAWebUISpacing").uiMargin.vert16),{children:l.jsx(q,{sendConfirmOrderInfo:A,chat:f,orderInfo:g,interactiveMessage:e==null?void 0:e.interactiveMessage})}))})]})})]})}a.displayName=a.name+" [from "+f.id+"]";function p(){return l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",testid:void 0,children:l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebSpinner.react").Spinner,{})})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.chat,c=a.interactiveMessage,e=a.orderInfo;a=a.sendConfirmOrderInfo;b=r(b,c,e);c=b==null?void 0:b.Icon;return b?l.jsxs(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:b.onClick,children:[c&&l.jsx(c,{}),b.label]}):l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:a,children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__KnszcWfmbB3__JHASH__"):h._(/*BTDS*/"__JHASH__QjmdMEvo-j-__JHASH__")})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b,c){if(b==null)return null;var e=[];d("WAWebBizFrontendGatingUtils").isAPICopyPixCTAEnabled()&&d("WAWebGetBrazilnteractiveActions").hasValidDynamicPix(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyPixCodeInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isPaymentLinkEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidPaymentLink(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getOpenPaymentLinkInteractiveAction(c,b));d("WAWebBrazilPaymentsGeoGating").isBoletoEnabled(a)&&d("WAWebGetBrazilnteractiveActions").hasValidBoletoCode(c)&&e.push(d("WAWebGetBrazilnteractiveActions").getCopyBoletoCodeInteractiveAction(c,b));return e.length>=1?e[0]:null}g["default"]=a}),226);
__d("WAWebOrderDetailProductListItem",["fbt","WAWebCellFrame.react","WAWebCurrencyUtils","WAWebEmojiText.react","WAWebOrderIcons","WAWebText_DONOTUSE.react","isNonZeroNumber","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.product;var e=j.jsx(d("WAWebEmojiText.react").EmojiText,{text:a.name,ellipsify:!0,titlify:!0});b=j.jsx(d("WAWebOrderIcons").OrderItemIcon,{useCustomIcon:Boolean(a.mediaData)===!1,mediaData:(b=a.mediaData)!=null?b:null});var f=null;if(a.quantity){var g=h._(/*BTDS*/"__JHASH__jU6_AFJakKx__JHASH__",[h._param("quantity",a.quantity.toString())]);f=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g})}g=null;d("isNonZeroNumber").isNonZeroNumber(a.price)?g=d("WAWebCurrencyUtils").formatAmount1000(a.currency,a.price):g=h._(/*BTDS*/"__JHASH__JYK4SYmCAap__JHASH__");a=j.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{children:g});return j.jsx(c("WAWebCellFrame.react"),{image:b,customImage:!0,primary:e,secondary:f,detail:a,theme:"media"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailProductList",["WAWebFlatList.react","WAWebFlatListContainer.react","WAWebOrderDetailProductListItem","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=60,k=d("WAWebFlatList.react").FlatListFactory();function a(a){var b=a.productItems;b=b.map(function(a){return{itemKey:a.id.toString(),product:a}});return i.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a.flatListController],children:i.jsx(k,{testid:void 0,flatListController:a.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:b,renderItem:function(a){a=a.product;return i.jsx(c("WAWebOrderDetailProductListItem"),{product:a})},defaultItemHeight:j})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderDetailProductListDrawer.react",["fbt","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlatListController","WAWebOrderDetailProductList","WAWebUISpacing","react","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.productItems,f=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});return j.jsxs(c("WAWebDrawer.react"),{onDrop:a.onBack,ref:b,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__m-M12jx01-O__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),j.jsx(c("WAWebDrawerBody.react"),{flatListControllers:[f.current],children:j.jsx(c("WAWebDrawerSection.react"),{xstyle:[d("WAWebUISpacing").uiPadding.vert10,d("WAWebUISpacing").uiPadding.end3,d("WAWebUISpacing").uiPadding.start16],theme:"refresh-padding-title",children:j.jsx(c("WAWebOrderDetailProductList"),{flatListController:f.current,productItems:e})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebOrderDetailRadioButton.react",["WAWebCheckBoxRound.react","WAWebClickable.react","WAWebFlex.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.checked,e=a.isCanceled,f=a.label,g=a.onClick;a=a.testid;return i.jsx(d("WAWebClickable.react").Clickable,{onClick:g,dataTestId:a!=null?a:"",children:i.jsxs(d("WAWebFlex.react").FlexRow,{children:[i.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:[d("WAWebUISpacing").uiPadding.start12,d("WAWebUISpacing").uiPadding.end24],children:i.jsx(c("WAWebCheckBoxRound.react"),{checked:b,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:function(){return void g()}})}),i.jsx("div",{className:e?"x1sr8853":null,children:f})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebOrderStatusUpdateDrawer.react",["fbt","WALogger","WASmaxInBizSettingsEnums","WAWebBizGatingUtils","WAWebBizOrderStatusLabels","WAWebBizSendOrderAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCTWADataSharingModel","WAWebCmd","WAWebCommonCTWADataSharing","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebDataSharingOptOutOrUpsell","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebOrderDetailMath","WAWebOrderDetailRadioButton.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderPaymentStatus","WAWebOrderStatus","WAWebOrdersExpansionUtils","WAWebRichTextField.react","WAWebSmb3pdConversionSignalAction","WAWebSmbMarkAsXOrderAction","WAWebSwitch.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error opening chat"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error sending order status in chat"]);m=function(){return a};return a}b=k||d("react");var n=i||(i=c("react")),o=b.useEffect,p=b.useMemo,q=b.useState,r=d("WAWebBizGatingUtils").isOrderStatusM1Enabled()?[d("WAWebOrderStatus").OrderStatus.PaymentRequested,d("WAWebOrderStatus").OrderStatus.PreparingToShip,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Delivered,d("WAWebOrderStatus").OrderStatus.Canceled]:[d("WAWebOrderStatus").OrderStatus.Processing,d("WAWebOrderStatus").OrderStatus.Shipped,d("WAWebOrderStatus").OrderStatus.Complete,d("WAWebOrderStatus").OrderStatus.Canceled],s={checkboxContainer:{rowGap:"x1na6gtj",columnGap:"x1qgv0r9",$$css:!0},spacer:{height:"xqtp20y",borderTopWidth:"x178xt8z",borderTopStyle:"x13fuv20",borderTopColor:"xyj1x25",$$css:!0}};function t(a){a=a.xstyle;return n.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(s.spacer,d("WAWebUISpacing").uiMargin.top16,a)))}t.displayName=t.name+" [from "+f.id+"]";var u=function(a,b,e,f){if(c("WAWebCommonCTWADataSharing").shouldDisplayDataSharingOrderOptOutOrUpsell(a,"order-update",b))return n.jsx(d("WAWebDataSharingOptOutOrUpsell").DataSharingOptOutOrUpsell,{theme:"order-update",onCheckboxToggle:function(){return f(!e)},checkboxValue:e})},v=function(){return d("WAWebCTWADataSharingModel").CTWADataSharingModel.getValue()===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"]};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);a=q(v);var f=a[0],g=a[1];a=q("");var i=a[0],k=a[1],w=p(function(){return d("WAWebOrderStatus").findOrderStatus(e.chat,e.orderInfo.referenceId)},[e.chat,e.orderInfo.referenceId]),x=p(function(){return d("WAWebOrderPaymentStatus").findLastOrderPaymentStatusInfo(e.chat,e.orderInfo.referenceId)},[e.chat,e.orderInfo.referenceId]);a=q(w);var y=a[0],z=a[1];a=q((x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured);var A=a[0],B=a[1];o(function(){var a=function(a){return g(a===d("WASmaxInBizSettingsEnums").ENUM_FALSE_NOTSET_TRUE["true"])};d("WAWebCTWADataSharingModel").CTWADataSharingModel.subscribeForUpdates(a);return function(){d("WAWebCTWADataSharingModel").CTWADataSharingModel.unsubscribeFromUpdates(a)}},[]);var C=e.chat,D=e.sellerJid,E=e.orderInfo,F="no_method_confirmed",G=function(){var a;a=(a=(a=E.externalPaymentConfigurations)==null?void 0:(a=a.at(0))==null?void 0:a.type)!=null?a:F;new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_MARK_AS_PAID,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasNote:Boolean(i),paymentStatus:!0,paymentType:a}).commit()};function H(a,b,c,e){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),a&&(J(!b,c,e),d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated",isPaidStateChanged:!0},f)),b&&I(c,e)}function I(a,b){var g=d("WAWebUserPrefsMeUser").getMeUser();g=d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(g));new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.SEND_ORDER_STATUS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(e.entryPoint),hasCatalog:g,hasNote:Boolean(i)}).commit();d("WAWebBizSendOrderAction").sendOrderStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:i,orderStatus:a,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:b?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["catch"](function(a){d("WALogger").ERROR(m()).verbose().devConsole(a)});d("WAWebSmbMarkAsXOrderAction").markOrderAsUpdatedStatusAction(C,f,y,A);d("WAWebSmb3pdConversionSignalAction").log3pdConversionSignalForOrders({chat:C,orderStatus:y,paidData:{amount:String(E.totalAmount),currency:E.currency,paid:A},type:"order_updated"},f);d("WAWebCmd").Cmd.openChatFromUnread(C)["catch"](function(a){d("WALogger").ERROR(l()).verbose().devConsole(a)})}function J(a,b,c){d("WAWebBizSendOrderAction").sendOrderPaymentStatusMessageAsMerchant({chat:C,sellerJid:D,orderInfo:E,orderNote:a?i:null,orderStatus:b,offset:d("WAWebOrderDetailMath").DEFAULT_OFFSET,paymentStatus:c?d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured:d("WAWebOrderPaymentStatus").OrderPaymentStatus.Pending,paymentMethod:null})["finally"](function(){G()})}function K(a){return r.findIndex(function(b){return b===a})}function L(){var a=K(y),b=K(w),e=(x==null?void 0:x.paymentStatus)===d("WAWebOrderPaymentStatus").OrderPaymentStatus.Captured,f=a!==b,g=e!==A;e=!f&&!g;a=a<b;var i=y,j=A;d("WAWebBizGatingUtils").isOrderStatusM1Enabled()&&(g&&(A?y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(i=d("WAWebOrderStatus").OrderStatus.PreparingToShip):!A&&y===d("WAWebOrderStatus").OrderStatus.PreparingToShip&&(i=d("WAWebOrderStatus").OrderStatus.PaymentRequested)),f&&(A&&y===d("WAWebOrderStatus").OrderStatus.PaymentRequested&&(j=!1)));e?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__sq5vCQ5USss__JHASH__"),okText:c("WAWebFbtCommon")("OK"),onOK:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__MokQoGmWX6F__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))]):h._(/*BTDS*/"__JHASH__1vB_eHa7weV__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w))])})):a?d("WAWebModalManager").ModalManager.open(n.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__8N28pK0sbYA__JHASH__"),okText:h._(/*BTDS*/"__JHASH__IBFlvfnDAy4__JHASH__"),onOK:function(){H(g,f,i,j),d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"__JHASH__Zxn4YYs9oaP__JHASH__"),onCancel:function(){d("WAWebModalManager").ModalManager.close()},children:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__bZ2ScGcUD7R__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))]):h._(/*BTDS*/"__JHASH__UARVCowcoXl__JHASH__",[h._param("originalOrderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(w)),h._param("orderStatus",d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(y))])})):H(g,f,i,j)}a=h._(/*BTDS*/"__JHASH__W9JHo2yaW9d__JHASH__");var M=function(){B(!A)};return n.jsxs(c("WAWebDrawer.react"),{onDrop:e.onBack,ref:b,children:[n.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:d("WAWebBizGatingUtils").isOrderContentOptimizationEnabled()?h._(/*BTDS*/"__JHASH__jHYMghYQIO6__JHASH__"):h._(/*BTDS*/"__JHASH__IaAnh-WqNbE__JHASH__"),onBack:e.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),n.jsx(c("WAWebDrawerBody.react"),{children:n.jsxs(c("WAWebDrawerSection.react"),{children:[d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled()&&n.jsxs(n.Fragment,{children:[n.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.top16,d("WAWebUISpacing").uiPadding.horiz16],children:[n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.end24,children:n.jsx(d("WAWebSwitch.react").Switch,{checked:A,onChange:M,testid:void 0})}),n.jsx("div",{children:h._(/*BTDS*/"__JHASH__g87pBZZ6PR8__JHASH__")})]}),n.jsx(t,{xstyle:d("WAWebUISpacing").uiMargin.bottom16})]}),n.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert4,d("WAWebUISpacing").uiPadding.horiz16),{children:n.jsx(d("WAWebFlex.react").FlexColumn,{xstyle:s.checkboxContainer,children:r.map(function(a){return n.jsx(c("WAWebOrderDetailRadioButton.react"),{testid:void 0,label:d("WAWebBizOrderStatusLabels").getWAWebBizOrderStatusLabel(a),isCanceled:a===d("WAWebOrderStatus").OrderStatus.Canceled,checked:y===a,onClick:function(){z(a)}},a)})})})),n.jsx(t,{}),n.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebUISpacing").uiPadding.horiz28),{children:n.jsx(d("WAWebRichTextField.react").RichTextField,{maxLength:c("WAWebConstantsDeprecated").MAX_CART_MESSAGE_LENGTH,placeholder:a,value:i,testid:void 0,multiline:!0,showRemaining:!0,spellCheck:!0,emojiBtnPosition:"side",textFormatEnabled:!0,onEnter:L,onChange:function(a){return k(a.text)}})})),u(e.chat,E.items.length,f,g),n.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[d("WAWebUISpacing").uiPadding.horiz16,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiMargin.bottom24],children:n.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:L,children:h._(/*BTDS*/"__JHASH__ozB-3Zgb8C4__JHASH__")})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductDetailsWithDeepLink.react",["fbt","WAFilteredCatch","WANullthrows","WAWebBackendErrors","WAWebCatalogCollection","WAWebConfirmPopup.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFbtCommon","WAWebModalManager","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogGetLatestProduct","WAWebProductCatalogProductDetailsDrawer.react","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.productInfo,f=e.productId,g=e.businessOwnerJid,i=a.onBack;e=m(function(){return c("WAWebProductCatalogGetLatestProduct")({productId:f,businessOwnerJid:g})});var j=e[0],n=e[1];e=m(function(){return j?"NONE":"PENDING"});var o=e[0],p=e[1],q=function(){i(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__M459z--6h5t__JHASH__")}))},r=function(){var a=d("WAWebWidFactory").createWid(g);d("WAWebCatalogCollection").CatalogCollection.findProduct({catalogWid:a,productId:f}).then(function(){var b=d("WAWebCatalogCollection").CatalogCollection.get(a);n(c("WANullthrows")(b).productCollection.get(f));p("SUCCESS")})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").E404,function(){q(),p("ERROR")}))["catch"](function(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){p(a)})})};l(function(){j||r()},[]);return j?k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{ref:b,chat:a.chat,product:j,onEnd:a.onEnd,onBack:a.onBack,onProductDetail:a.onProductDetail,onProductCatalog:a.onProductCatalog,refreshCarousel:!0,onProductLinkClick:a.onProductLinkClick,onProductMoreInformation:a.onProductMoreInformation,onCartClick:a.onCartClick}):k.jsxs(c("WAWebDrawer.react"),{ref:b,onDrop:a.onBack,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:h._(/*BTDS*/"__JHASH__hg9BRt8_aW-__JHASH__"),onBack:a.onBack,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:o})})]},"product-details-drawer")}a.displayName=a.name+" [from "+f.id+"]";g.ProductDetailsWithDeepLink=a}),226);
__d("WAWebProductCatalogProductMessageListNoProductModal",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.onConfirm;return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:c("WAWebFbtCommon")("OK"),children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"__JHASH__ZHS9rX0-Jh0__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProductCatalogProductMessageList.react",["WAWebDrawerContext","WAWebDrawerManager","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebModalManager","WAWebProductCatalogCatalogConstants","WAWebProductCatalogContext","WAWebProductCatalogListItem.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageListNoProductModal","WAWebSectionHeader.react","WAWebStateUtils","WAWebUISpacing","WAWebUtilsLogQplEvents","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j;b=j||d("react");var k=h||(h=c("react")),l=b.useCallback,m=b.useEffect,n={list:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},o=d("WAWebFlatList.react").FlatListFactory();function p(a){var b=a.item,e=a.onProductDetail,f=l(function(a,b){d("WAWebProductCatalogLogEvents").logCatalogListDetailClick({product:d("WAWebStateUtils").unproxy(a),catalogContext:b});d("WAWebUtilsLogQplEvents").qplStartProductView("PLM");return e(a)},[e]);a=null;switch(b.type){case"section":var g=b.label;a=k.jsx(c("WAWebSectionHeader.react"),{header:g});break;case"product":var h=b.product;a=k.jsx(d("WAWebDrawerContext").DrawerContext.Consumer,{children:function(a){return k.jsx(c("WAWebProductCatalogListItem.react"),{product:h,onClick:function(){return f(h,d("WAWebProductCatalogContext").getProductCatalogContext(a))},canManageCatalog:!1})}});break}return a}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.flatListController,e=a.onProductDetail;a=a.productMessageList;var f=a.productCollection.getProductModels(),g=a.getSections(),h=a.getSectionsCount()>0,j=a.getTotalProductsFetchedOrFailed();a=a.getProductSize();var l=a===j&&f.length===0,q=[];g.forEach(function(a,b){var c=a.title;a=a.products;var e=[];a.forEach(function(a){var c=a.productId;a=f.find(function(a){return a.id===c});a!=null&&e.push({itemKey:"section-"+b+"-"+a.id.toString(),product:a,type:"product",height:d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT})});e.length>0&&(c!=null&&c!==""&&q.push({itemKey:"header-"+b+"-"+c,label:c,type:"section",height:72}),q.push.apply(q,e))});m(function(){l&&d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebProductCatalogProductMessageListNoProductModal"),{onConfirm:function(){d("WAWebDrawerManager").DrawerManager.closeDrawerRight(),d("WAWebModalManager").ModalManager.close()}}))},[l]);return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(n.list,d("WAWebUISpacing").uiPadding.bottom8,!h&&d("WAWebUISpacing").uiMargin.top8),{children:k.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[b],children:k.jsx(o,{flatListController:b,direction:"vertical",forceConsistentRenderCount:!1,data:q,renderItem:function(a){return k.jsx(p,{item:a,onProductDetail:e})},itemEnterAnimationsEnabled:!0})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebProductCatalogProductMessageListDrawer.react",["WAQplTypes","WATypeUtils","WAWebCartCollection","WAWebCommonCartIconMenuBarItem.react","WAWebContactGetters","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFlatListController","WAWebFlatListLoadingSpinnerItem.react","WAWebFrontendConstants","WAWebProductCatalogCatalogConstants","WAWebProductCatalogCheckCartEnabled","WAWebProductCatalogContext","WAWebProductCatalogFetchState","WAWebProductCatalogFetchStateTopBar.react","WAWebProductCatalogLogEvents","WAWebProductCatalogProductMessageList.react","WAWebProductMessageListCollection","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","useLazyRef","useWAWebContactValues","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i;e=i||d("react");var j=h||(h=c("react")),k=e.useContext,l=e.useEffect,m=e.useState;function n(a){var b=a.loadingMore,d=a.onProductDetail,e=a.productListFlatListControllerRef,f=a.productMessageList;a=a.productMessageListFetchState;return!f?j.jsx(c("WAWebProductCatalogFetchStateTopBar.react"),{fetchState:a}):j.jsxs("div",{children:[j.jsx(c("WAWebProductCatalogProductMessageList.react"),{productMessageList:f,flatListController:e.current,onProductDetail:d}),b&&j.jsx(c("WAWebFlatListLoadingSpinnerItem.react"),{})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.productListId,g=a.setScrollOffset,h=a.onCartClick,i=a.onProductDetail,o=a.catalogWid,p=c("useWAWebUnmountSignal")(),q=k(d("WAWebDrawerContext").DrawerContext),r=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()}),s=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebContactGetters").getId]),t=s[0];s=m(!1);var u=s[0],v=s[1];s=m(0);var w=s[0],x=s[1];s=m(!1);var y=s[0],z=s[1];s=m(function(){return d("WAWebProductMessageListCollection").ProductMessageListCollection.get(f)});var A=s[0],B=s[1];s=m(function(){return d("WAWebCartCollection").CartCollection.findCart(t.toString())});var C=s[0];s=m(C.itemCount);var D=s[0],E=s[1];s=m(!1);var F=s[0],G=s[1];s=m(A?"SUCCESS":"NONE");var H=s[0],I=s[1],J=function a(b){var c=b===!0;b=d("WAWebProductMessageListCollection").ProductMessageListCollection.assertGet(f);var e=b.getTotalProductsFetchedOrFailed();b=b.getProductSize();if(y||e===b){c&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:e}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));z(!0);return}v(!0);x(e);b=c?d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW:void 0;d("WAWebProductMessageListCollection").ProductMessageListCollection.update(f,{markerId:b}).then(function(b){if(p.aborted){c&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}v(!1);b=Array.isArray(b)?b[0]:b;b=b.getTotalProductsFetchedOrFailed();b===w&&z(!0);c&&(d("WAWebQplQuickPerformanceLoggerModule").QPL.markerAnnotate(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,{"int":{ProductsCount:b}}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS));e*d("WAWebProductCatalogCatalogConstants").PRODUCT_LIST_ITEM_HEIGHT<window.innerHeight&&a()})["catch"](function(){v(!1),z(!0),c&&d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)})},K=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield d("WAWebProductMessageListCollection").ProductMessageListCollection.find(f));if(p.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerDrop(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW);return}B(a);I("SUCCESS");J(!0)}catch(a){d("WAWebProductCatalogFetchState").parseErrorState(a,function(a){return I(a)}),d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_PLM_DETAILS_VIEW,d("WAQplTypes").QuickLogActionType.FAIL)}});return function(){return a.apply(this,arguments)}}();l(function(){A?J():K(),c("WAWebProductCatalogCheckCartEnabled")(t).then(function(a){if(p.aborted)return;G(a);d("WAWebProductCatalogLogEvents").logCatalogListView({catalogOwnerWid:o,catalogContext:d("WAWebProductCatalogContext").getProductCatalogContext(q),cartToggle:a})})},[]);d("useWAWebListener").useListener(C,"all",function(){E(C.itemCount)});var L=function(a){if(u)return;a.scrollTop+d("WAWebFrontendConstants").SCROLL_FUDGE>a.scrollHeight-a.clientHeight&&J()};s=function(a){L(a.currentTarget),g==null?void 0:g(a.currentTarget.scrollTop)};var M=function(){d("WAWebUtilsLogQplEvents").qplStartCartView("PLM"),h==null?void 0:h(t.toString())};F=h!=null&&F?j.jsx(d("WAWebCommonCartIconMenuBarItem.react").CartIconMenuBarItem,{cartCountText:d("WATypeUtils").isNumber(D)&&D>0?D.toString():void 0,onClick:M,catalogOwnerJid:t.toString()}):null;return j.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"products",onDrop:a.onBack,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:j.jsx("div",babelHelpers["extends"]({className:"x78zum5"},{children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:A==null?void 0:A.title,ellipsify:!0})})),titleStr:A==null?void 0:A.title,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:a.onBack,menu:F}),j.jsx(c("WAWebDrawerBody.react"),{onScroll:s,flatListControllers:[r.current],scrollOffset:a.scrollOffset,children:j.jsx(n,{productMessageList:A,loadingMore:u,productMessageListFetchState:H,onProductDetail:i,productListFlatListControllerRef:r})})]})}a.displayName=a.name+" [from "+f.id+"]";a.displayName="ProductMessageListDrawer";g.ProductMessageListDrawer=a}),98);
__d("WAWebBizProductDetailsFlow.react",["fbt","$InternalEnum","WANullthrows","WATimeUtils","WAWebBizEntryPoint","WAWebBizGatingUtils","WAWebBizLinkedCatalogErrorPopup.react","WAWebBizShowCartAction","WAWebBusinessProfileCollection","WAWebBusinessProfileUtils","WAWebCartOrderDetailDrawer.react","WAWebChatThreadLogging","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDBUpdateMessageTable","WAWebDrawerContext","WAWebFbtCommon","WAWebLidMigrationUtils","WAWebModalManager","WAWebMsgCollection","WAWebOrderCollection","WAWebOrderCreationFlowLoadable","WAWebOrderDetailDrawer.react","WAWebOrderDetailProductListDrawer.react","WAWebOrderDetailsActionCategory","WAWebOrderDetailsActionsSmbWamEvent","WAWebOrderStatusUpdateDrawer.react","WAWebOrdersExpansionUtils","WAWebProductCatalogCatalogLinkDrawer.react","WAWebProductCatalogContext","WAWebProductCatalogLogEvents","WAWebProductCatalogProductDetailsDrawer.react","WAWebProductCatalogProductDetailsWithDeepLink.react","WAWebProductCatalogProductLinkDrawer.react","WAWebProductCatalogProductListDrawer.react","WAWebProductCatalogProductMessageListDrawer.react","WAWebProductCatalogProductMoreInformationDrawer.react","WAWebProductCollectionCatalogViewDrawer.react","WAWebProductCollectionCollectionContentDrawer.react","WAWebProtobufsE2E.pb","WAWebSmbDataSharingOptInModalDialog","WAWebToast.react","WAWebToastManager","WAWebUim","WAWebUserPrefsMeUser","WAWebWamEnumOrderDetailsCreationAction","WAWebWamEnumSmbDataSharingConsentScreenEntryPoint","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;a=j||d("react");var k=i||(i=c("react")),aa=a.useContext,l=a.useEffect,m=a.useState,ba=function(a){if(!d("WAWebBizGatingUtils").isSellerOrderRevampEnabled())return;if(a!=null){var b={status:d("WAWebProtobufsE2E.pb").Message$OrderMessage$OrderStatus.ACCEPTED};void d("WAWebDBUpdateMessageTable").updateMessageTable(a.id,b);a=d("WAWebMsgCollection").MsgCollection.get(a.id);a&&a.set(b)}},n=b("$InternalEnum").Mirrored(["Cart","CartOrderDetail","CatalogCollection","CatalogLink","CatalogView","OrderCreation","OrderDetail","OrderDetailProductList","OrderStatusUpdate","ProductDetails","ProductDetailsFlow","ProductDetailsWithDeepLink","ProductLink","ProductList","ProductMessageList","ProductMoreInformation"]);function o(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.chat,g=a.orderMessage,i=a.product,j=a.productInfo,p=a.productListId,ca=a.refreshCarousel,q=a.catalogOwnerJid,r=a.orderId,s=a.orderInfo,t=a.token,u=a.sellerJid,v=a.userIsCartOwner,w=a.collection,da=a.collectionId,ea=a.isAllItems,x=a.entryPoint,y=a.onEnd;y=d("useWAWebFlow").useFlow(void 0,{onEnd:y});var fa=y[0],z=y[1];y=m();var A=y[0],B=y[1];y=m();var C=y[0],D=y[1];y=m();var E=y[0],F=y[1];y=m();var ga=y[0],ha=y[1];y=m();var ia=y[0],ja=y[1];y=m();var ka=y[0],la=y[1];y=m();var G=y[0],ma=y[1];y=m();var H=y[0],na=y[1];y=m();var I=y[0],oa=y[1];y=m();var pa=y[0],qa=y[1];y=m();var ra=y[0],sa=y[1];y=m();var ta=y[0],ua=y[1];y=m();var J=y[0],K=y[1];y=m();var L=y[0],va=y[1];y=m(0);var M=y[0];y=y[1];var N=aa(d("WAWebDrawerContext").DrawerContext),wa=function(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a);K(b);B(a);z.push(n.CatalogCollection)},xa=function(a,b){var c=d("WAWebContactCollection").ContactCollection.gadd(b);K(c);B(b);ja(a);z.push(n.ProductMessageList)},O=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.gadd(a),c=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));K(b);B(a);D(c);d("WAWebBusinessProfileUtils").hasCatalog(c)?z.push(n.CatalogView):z.push(n.ProductList)});return function(b){return a.apply(this,arguments)}}(),P=function(a,b){a=a.id.equals(d("WAWebUserPrefsMeUser").getMaybeMeUser());d("WAWebBizLinkedCatalogErrorPopup.react").showConnectedCatalogDisabledPopup(b,a,function(){z.end()})},Q=function(a,b){F(a),ma(b),z.push(n.ProductDetails)},R=function(a){ha(a),z.push(n.ProductDetailsWithDeepLink)},S=function(a,b){b===void 0&&(b=null);var e=d("WAWebUserPrefsMeUser").getMeUser();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_CREATE_ORDER_DETAILS_FROM_CART,actionCategory:String(c("WAWebOrderDetailsActionCategory").RECEIVED_CART),orderDetailEntryPoint:String(x!=null?x:c("WAWebBizEntryPoint").FROM_CART),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(e))}).commit();e=function(){oa(a),qa(function(){return b}),z.push(n.OrderCreation)};c("WAWebSmbDataSharingOptInModalDialog").maybeShowOrderDataSharingDialog(f,e,d("WAWebWamEnumSmbDataSharingConsentScreenEntryPoint").SMB_DATA_SHARING_CONSENT_SCREEN_ENTRY_POINT.CART)},ya=function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{action:{dismiss:!0,actionText:c("WAWebFbtCommon")("OK")},msg:h._(/*BTDS*/"__JHASH__ettcSfVSOyY__JHASH__"),id:d("WAWebToast.react").genId()}))},T=function(a){sa(a),z.push(n.CartOrderDetail)},za=function(){z.push(n.OrderDetail)};l(function(){d("WAWebBizGatingUtils").commerceThreadsLoggingEnabled()&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"isCommerceViewed",ts:d("WATimeUtils").unixTime(),chatId:f.id}])},[]);l(function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));D(a)});return function(b){return a.apply(this,arguments)}}();if(q!=null){if(C==null){void a(d("WAWebWidFactory").createWid(q));return}if((C==null?void 0:C.isCatalogDisabledDueToMetaLinking)===!0){P(C,!1);return}w!=null||ea===!0?wa(d("WAWebWidFactory").createWid(q)):p!=null?xa(p,d("WAWebWidFactory").createWid(q)):void O(d("WAWebWidFactory").createWid(q))}else if(i){if(C==null){void a(i.catalogWid);return}if((C==null?void 0:C.isCatalogDisabledDueToMetaLinking)===!0){P(C,!0);return}Q(i,da)}else if(j){if(C==null){void a(d("WAWebWidFactory").createWid(j.businessOwnerJid));return}if(C==null?void 0:C.isCatalogDisabledDueToMetaLinking){P(C,!0);return}R(j)}else if(r!=null){if(t!=null&&u!=null&&v!=null){a=c("WAWebWid").equals.apply(c("WAWebWid"),d("WAWebLidMigrationUtils").toCommonAddressingMode(d("WAWebWidFactory").createUserWid(u),d("WAWebUserPrefsMeUser").getMaybeMeUser()));if(a&&d("WAWebOrdersExpansionUtils").isOrderExpansionEnabled())d("WAWebOrderCollection").OrderCollection.findOrder(r,u,t).then(function(a){S(c("WANullthrows")(a),Ea)})["catch"](function(){ya()});else{a=!1;T(a)}}}else if(s!=null&&u!=null)za();else throw c("err")("ProductDetailsFlow:no-product")},[C]);var Aa=function(a){na(a),z.push(n.ProductDetailsFlow)},Ba=function(a){la(a),z.push(n.OrderDetailProductList)},Ca=function(){var a=d("WAWebUserPrefsMeUser").getMeUser();new(d("WAWebOrderDetailsActionsSmbWamEvent").OrderDetailsActionsSmbWamEvent)({orderDetailsCreationAction:d("WAWebWamEnumOrderDetailsCreationAction").ORDER_DETAILS_CREATION_ACTION.CLICK_UPDATE_ORDER_STATUS,actionCategory:String(c("WAWebOrderDetailsActionCategory").ORDER_DETAILS_MANAGEMENT),orderDetailEntryPoint:String(x),hasCatalog:d("WAWebBusinessProfileUtils").hasCatalog(d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a))}).commit();s!=null&&u!=null&&z.push(n.OrderStatusUpdate)},Da=function(){if(r!=null&&t!=null&&u!=null&&v!=null){var a=!0;T(a)}d("WAWebModalManager").ModalManager.close()},Ea=function(){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onCancel:function(){d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"__JHASH__BQuudHjVcNe__JHASH__"),onOK:Da,okText:h._(/*BTDS*/"__JHASH__puy9NeJAODx__JHASH__"),title:h._(/*BTDS*/"__JHASH__gwVNWAbk8xZ__JHASH__"),children:h._(/*BTDS*/"__JHASH__aBKg2rThb8v__JHASH__")}))},U=function(a,b){void Q(a,b)},Fa=function(a){F(a),z.push(n.ProductMoreInformation)},Ga=function(a){R(a)},Ha=function(a,b){d("WAWebProductCatalogLogEvents").logCarouselViewMoreClick({catalogOwnerWid:a,catalogContext:b}),void O(a)},Ia=function(a){F(a),z.push(n.ProductLink)},V=function(a,b){ua(a),K(b),z.push(n.CatalogLink)},W=function(a){var b=d("WAWebProductCatalogContext").getProductCatalogContext(N);b=c("WAWebBizShowCartAction")(a,f,b);b&&(va(a),z.push(n.Cart))},X=function(){z.pop()},Y=function(){z.end(d("WAWebUim").DismissReason.LIFECYCLE)};if(z.step==null)return null;var Z;switch(z.step){case n.Cart:var $=d("WAWebProductCatalogContext").getProductCatalogContext(N);L=c("WAWebBizShowCartAction")(c("WANullthrows")(L),f,$);Z=c("WANullthrows")(L);break;case n.CartOrderDetail:Z=k.jsx(c("WAWebCartOrderDetailDrawer.react"),{orderId:c("WANullthrows")(r),token:c("WANullthrows")(t),sellerJid:c("WANullthrows")(u),userIsCartOwner:c("WANullthrows")(v),onProductDetail:Ga,onOrderCreate:S,onOrderCancel:Ea,ownerHasReviewed:Boolean(ra),orderMessage:g,chat:f});break;case n.CatalogCollection:Z=k.jsx(d("WAWebProductCollectionCollectionContentDrawer.react").CollectionContentDrawer,{contact:c("WANullthrows")(J),onProductDetail:U,catalogId:c("WANullthrows")(A),onBack:X,onCatalogLinkClick:V,onCartClick:W,scrollOffset:M,setScrollOffset:y,collection:w});break;case n.CatalogLink:Z=k.jsx(c("WAWebProductCatalogCatalogLinkDrawer.react"),{catalog:c("WANullthrows")(ta),contact:c("WANullthrows")(J),onBack:X});break;case n.CatalogView:Z=k.jsx(c("WAWebProductCollectionCatalogViewDrawer.react"),{contact:c("WANullthrows")(J),onProductDetail:U,catalogId:c("WANullthrows")(A),onBack:X,businessProfile:C,scrollOffset:M,setScrollOffset:y,onCatalogLinkClick:V,onCartClick:W,onCollectionSeeAll:Aa});break;case n.OrderCreation:Z=k.jsx(c("WAWebOrderCreationFlowLoadable"),{entryPoint:x!=null?x:c("WAWebBizEntryPoint").FROM_CART,onBack:X,order:I!=null?I:void 0,chat:f,onDeclineOrder:pa,onSend:function(){return ba(g)}});break;case n.OrderDetail:Z=k.jsx(c("WAWebOrderDetailDrawer.react"),{entryPoint:x,onBack:X,orderInfo:c("WANullthrows")(s),sellerWid:d("WAWebWidFactory").createWid(c("WANullthrows")(u)),chat:f,onProductSummaryClick:Ba,onOrderStatusUpdateClick:Ca,interactiveMessage:a.interactiveMessage});break;case n.OrderDetailProductList:Z=k.jsx(c("WAWebOrderDetailProductListDrawer.react"),{onBack:X,productItems:c("WANullthrows")(ka)});break;case n.OrderStatusUpdate:Z=k.jsx(c("WAWebOrderStatusUpdateDrawer.react"),{entryPoint:x,chat:f,onBack:X,orderInfo:c("WANullthrows")(s),sellerJid:c("WANullthrows")(u)});break;case n.ProductDetails:Z=k.jsx(c("WAWebProductCatalogProductDetailsDrawer.react"),{chat:f,product:c("WANullthrows")(E),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ha,onProductLinkClick:Ia,onProductMoreInformation:Fa,refreshCarousel:ca,onCartClick:W,collectionId:G!=null?G:void 0});break;case n.ProductDetailsFlow:Z=k.jsx(o,{chat:f,catalogOwnerJid:(L=($=q!=null?q:i==null?void 0:i.catalogWid.toString())!=null?$:j==null?void 0:j.businessOwnerJid)!=null?L:u,collection:H!=null?H:void 0,isAllItems:!H,interactiveMessage:a.interactiveMessage});break;case n.ProductDetailsWithDeepLink:Z=k.jsx(d("WAWebProductCatalogProductDetailsWithDeepLink.react").ProductDetailsWithDeepLink,{chat:f,productInfo:c("WANullthrows")(ga),onEnd:Y,onBack:X,onProductDetail:U,onProductCatalog:Ha,onProductLinkClick:Ia,onProductMoreInformation:Fa,onCartClick:W});break;case n.ProductLink:Z=k.jsx(c("WAWebProductCatalogProductLinkDrawer.react"),{product:c("WANullthrows")(E),onBack:X});break;case n.ProductList:Z=k.jsx(d("WAWebProductCatalogProductListDrawer.react").ProductListDrawer,{contact:c("WANullthrows")(J),onProductDetail:U,catalogId:c("WANullthrows")(A),onBack:X,businessProfile:C,setScrollOffset:y,onCatalogLinkClick:V,onCartClick:W});break;case n.ProductMessageList:Z=k.jsx(d("WAWebProductCatalogProductMessageListDrawer.react").ProductMessageListDrawer,{contact:c("WANullthrows")(J),productListId:c("WANullthrows")(ia),onProductDetail:U,onCartClick:W,onBack:X,onEnd:Y,setScrollOffset:y,catalogWid:c("WANullthrows")(A)});break;case n.ProductMoreInformation:Z=k.jsx(c("WAWebProductCatalogProductMoreInformationDrawer.react"),{product:c("WANullthrows")(E),onBack:X});break}return k.jsx(fa,{ref:e,flow:z,displayName:"ProductDetailsFlow",children:Z})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=o}),226);
__d("WAWebBizSendProductModal.react",["fbt","Promise","WAWebBizProductMessageSendQpl","WAWebBlockContactAction","WAWebChatGetters","WAWebCmd","WAWebDrawerManager","WAWebFrontendConstants","WAWebModalManager","WAWebProductCatalogMessage","WAWebSelectModal.react","WAWebServerPropConstants","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(j||(j=d("react"))).useEffect;function a(a){m(function(){d("WAWebCmd").Cmd.closeContextMenu(),d("WAWebCmd").Cmd.closeTooltip()},[]);var c=function(c){var e=a.product;return new(i||(i=b("Promise")))(function(a,b){d("WAWebCmd").Cmd.once("ui_idle",function(){d("WAWebProductCatalogMessage").sendProductMessage(c,e).then(function(){return a()})["catch"](function(a){return b(a)})})})},e=function(e){d("WAWebBizProductMessageSendQpl").qplStartProductSendMessage("Forward",void 0,e.length);var f=e.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked&&(yield d("WAWebBlockContactAction").unblockContact(a.contact));return c(a)});return function(b){return a.apply(this,arguments)}}());d("WAWebBizProductMessageSendQpl").qplEndProductMessageSend((i||(i=b("Promise"))).all(f));d("WAWebModalManager").ModalManager.close();e.length===1&&(d("WAWebCmd").Cmd.openChatFromUnread(e[0]),window.innerWidth<=d("WAWebFrontendConstants").LAYOUT_2COLUMNS_MAX_WIDTH&&d("WAWebDrawerManager").DrawerManager.closeDrawerRight());a.onSend==null?void 0:a.onSend()},f=function(){d("WAWebModalManager").ModalManager.close()};return l.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:e,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._(/*BTDS*/"__JHASH__Pz11_y6jv6u__JHASH__"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,onCancel:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBusinessCategoryIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="business-category";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:"business-category"}),j.jsx("desc",{children:"Created with Sketch."}),j.jsx("defs",{}),j.jsxs("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:[j.jsx("path",{d:"M5.60860827,7.15515467 C4.78378352,7.15515467 4.06206187,6.43343302 4.06206187,5.60860827 C4.06206187,4.78378352 4.78378352,4.06206187 5.60860827,4.06206187 C6.43343302,4.06206187 7.15515467,4.78378352 7.15515467,5.60860827 C7.15515467,6.43343302 6.43343302,7.15515467 5.60860827,7.15515467 M22.0020001,11.897897 L12.7227217,2.61861856 C12.4134124,2.20620619 11.897897,2 11.2792784,2 L4.06206187,2 C2.92792784,2 2,2.92792784 2,4.06206187 L2,11.2792784 C2,11.897897 2.20620619,12.4134124 2.61861856,12.7227217 L11.897897,22.0020001 C12.3103093,22.4144125 12.8258248,22.6206187 13.3413403,22.6206187 C13.9599588,22.6206187 14.4754743,22.4144125 14.7847836,22.0020001 L22.0020001,14.7847836 C22.4144125,14.3723712 22.6206187,13.8568557 22.6206187,13.3413403 C22.6206187,12.7227217 22.4144125,12.2072063 22.0020001,11.897897",id:"Page-1-Copy-2",fill:"currentColor"}),j.jsx("g",{id:"slices",transform:"translate(0.000000, -234.000000)"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BusinessCategoryIcon=a}),98);
__d("WAWebBusinessHoursUtils",["WAWebBusinessProfileTypes","WAWebSmbUtilsTimeUtils","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){var h=function(a){return d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a)!==void 0};a=function(a,b){if(a===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS)for(a in b){var c=b[a],e=c.closed;c=c.hours;if(!e)for(e of c){c=e[0];var f=e[1];if(!h(c)||!h(f))return!1}}return!0};b=function(a){var b=a.mode,e=a.dayValues,f=a.note;a=a.timezone;var g={};for(var h in e){var i=e[h],j=i.closed;i=i.hours;if(!j&&d("WAWebBusinessProfileTypes").isBusinessHoursDayName(h)){j={mode:b};b===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&(j.hours=i.map(function(a){var b=a[0];a=a[1];return[d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(b)||0,d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a)||0]}));g[h]=j}}i=c("isStringNullOrEmpty")(a)?Intl.DateTimeFormat().resolvedOptions().timeZone:a;return{businessHours:{config:g,note:f,timezone:i}}};var i=540,j=1080;e=function(){return[d("WAWebSmbUtilsTimeUtils").minutesToTime(i),d("WAWebSmbUtilsTimeUtils").minutesToTime(j)]};g.isValidTime=h;g.isValidBusinessHours=a;g.convertToRawBusinessProfile=b;g.getDefaultHoursPair=e}),98);
__d("WAWebChipButton.react",["WAWebUISpacing","WAWebUnstyledButton.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j={container:{position:"x1n2onr6",color:"xq49mwq",backgroundColor:"xlelruc",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",$$css:!0},icon:{display:"x1rg5ohu",position:"x10l6tqk",right:"x4a824z",insetInlineStart:null,insetInlineEnd:null,top:"x1jzctok",$$css:!0},iconSvg:{color:"xq49mwq",$$css:!0},prefixIcon:{left:"x1rvfpmx",insetInlineStart:null,insetInlineEnd:null,$$css:!0},paddedSvg:{paddingTop:"x4p5aij",paddingInlineEnd:"x1ccui7m",paddingBottom:"x1j85h84",paddingInlineStart:"x18pi947",$$css:!0}};function a(a){var b=a.onClick,e=a.label,f=a.PrefixIcon,g=a.PostfixIcon,h=a.xstyle,k=a.iconTheme==="padded-svg",l=[j.iconSvg,k?j.paddedSvg:d("WAWebUISpacing").uiPadding.all4];k={width:k?20:16,height:k?20:16};return i.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[j.container,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz12,f!=null&&d("WAWebUISpacing").uiPadding.start36,g!=null&&d("WAWebUISpacing").uiPadding.end36,h],onClick:b,"aria-label":a["aria-label"],children:[f&&i.jsx(f,babelHelpers["extends"]({xstyle:[j.icon,j.prefixIcon,d("WAWebUISpacing").uiMargin.start5],iconXstyle:l},k)),i.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu"},{children:e})),g&&i.jsx(g,babelHelpers["extends"]({xstyle:[j.icon,d("WAWebUISpacing").uiMargin.start5],iconXstyle:l},k))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebBusinessHoursDayEdit.react",["fbt","$InternalEnum","WAWebBusinessHoursUtils","WAWebBusinessProfileTypes","WAWebCheckBox.react","WAWebChipButton.react","WAWebRichTextField.react","WAWebSmbUtilsTimeUtils","WAWebStatusClockIcon.react","WAWebSvgButton.react","WAWebUISpacing","WAWebXAltIcon.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={timeWrapper:{display:"x1rg5ohu",$$css:!0},hoursAnd:{color:"x16zc8z2",$$css:!0},dayInfo:{flexGrow:"x1iyjqo2",$$css:!0}},m=b("$InternalEnum").Mirrored(["START","END"]),n=2,o=" ",p=function(a){a=a.dayKey;return a+"_business_hours"};function q(a){var b=a.day;a=a.onChange;var e=b.closed;b=p(b);return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert20,d("WAWebUISpacing").uiPadding.horiz24),{children:k.jsx(d("WAWebCheckBox.react").CheckBox,{id:b,checked:!e,onChange:a})}))}q.displayName=q.name+" [from "+f.id+"]";function r(a){a=a.onClick;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20]),{children:k.jsx(c("WAWebSvgButton.react"),{title:h._(/*BTDS*/"__JHASH__E-fNzNFfE_1__JHASH__"),"aria-label":h._(/*BTDS*/"__JHASH__E-fNzNFfE_1__JHASH__"),Icon:d("WAWebXAltIcon.react").XAltIcon,onClick:a})}))}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.onClick;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20]),{children:k.jsx(c("WAWebChipButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__xJZ_AZ06byo__JHASH__"),label:h._(/*BTDS*/"__JHASH__OtIaJWTQK0___JHASH__"),onClick:a,PrefixIcon:d("WAWebStatusClockIcon.react").StatusClockIcon,iconTheme:"padded-svg"})}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.isFirst,e=a.onBlur,f=a.onChange;a=a.value;var g=d("WAWebBusinessHoursUtils").isValidTime(a)?null:o;return k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([l.timeWrapper,d("WAWebUISpacing").uiMargin.start20,b===!0&&d("WAWebUISpacing").uiMargin.start0]),{children:k.jsx(d("WAWebRichTextField.react").RichTextField,{managed:!0,value:a,theme:"small",maxLength:15,customStyleThemes:["desaturated","noErrorInfo"],error:g,onChange:function(a){a=a.text;f(a)},onBlur:e})}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.hours,e=a.onHoursChange,f=function(a,c,d){var e=[].concat(b);d=d===m.START?0:1;var f=[].concat(e[c]);f[d]=a;e[c]=f;return e},g=function(a,c){var e=[].concat(b),f=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a[0]);a=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(a[1]);e[c]=[f!==void 0?d("WAWebSmbUtilsTimeUtils").minutesToTime(f):e[c][0],a!==void 0?d("WAWebSmbUtilsTimeUtils").minutesToTime(a):e[c][1]];return e},i=function(a,c){var e=[].concat(b),f=[].concat(e[a]),h=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(f[0]),i=d("WAWebSmbUtilsTimeUtils").timeStringToMinutes(f[1]);if(h!==void 0&&i!==void 0&&h>i){h=c===m.START?0:1;i=c===m.START?1:0;f[i]=f[h]}e[a]=f;return g(e[a],a)},o=function(){return[].concat(b,[d("WAWebBusinessHoursUtils").getDefaultHoursPair()])},p=function(){return b.slice(0,-1)},q=[];a=b.length>=n?k.jsx(r,{onClick:function(){e(p())}}):k.jsx(s,{onClick:function(){e(o())}});b.forEach(function(a,b){var g=a[0];a=a[1];b>0&&q.push(k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.hoursAnd,d("WAWebUISpacing").uiMargin.horiz20),{children:h._(/*BTDS*/"__JHASH__Cp1dkhCVV-5__JHASH__")}),"AND-"+b));q.push(k.jsx(t,{value:g,onChange:function(a){e(f(a,b,m.START))},onBlur:function(){var a=i(b,m.START);a&&e(a)},isFirst:!0},m.START+"-"+b),k.jsx(t,{value:a,onChange:function(a){e(f(a,b,m.END))},onBlur:function(){var a=i(b,m.END);a&&e(a)}},m.END+"-"+b))});return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4"},{children:[q,a]}))}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.textContent;return k.jsx("div",babelHelpers["extends"]({className:"x16cd2qt"},{children:a}))}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.day,c=a.mode;a=a.onHoursChange;var e=b.closed;b=b.hours;if(e)return k.jsx(v,{textContent:h._(/*BTDS*/"__JHASH__UAmb-1u2vgf__JHASH__")});if(c===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY)return k.jsx(v,{textContent:h._(/*BTDS*/"__JHASH__oKZd6YDl9yc__JHASH__")});if(c===d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H)return k.jsx(v,{textContent:h._(/*BTDS*/"__JHASH__mLVS1QrzI2k__JHASH__")});return d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS&&!e?k.jsx(u,{hours:b,onHoursChange:a}):null}w.displayName=w.name+" [from "+f.id+"]";function a(a){var b=a.day,e=a.mode,f=a.updateDayValue;a=b.dayName;var g=b.dayKey,h=b.closed,i=p(b);return k.jsxs("div",babelHelpers["extends"]({className:"x78zum5"},{children:[k.jsx(q,{day:b,onChange:function(){f({closed:!h})}}),k.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.dayInfo,d("WAWebUISpacing").uiPadding.vert13),{children:[k.jsx("label",{htmlFor:i,children:a}),k.jsx(w,{day:b,mode:e,onHoursChange:function(a){f({hours:a})}})]}))]}),"day-"+g)}a.displayName=a.name+" [from "+f.id+"]";g.DayEdit=a}),226);
__d("WAWebBusinessHours",["fbt","WAWebBusinessHoursDayEdit.react","WAWebBusinessHoursUtils","WAWebBusinessProfileTypes","WAWebModal.react","WAWebSavePopup.react","WAWebTabs.react","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={editMain:{width:"xvue9z",height:"x1jxig9j",overflowY:"x1odjw0f",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x1v2jjsl",$$css:!0}};function o(a){var b=a.onSelect;a=a.selectedMode;return l.jsx(c("WAWebTabs.react"),{onSelect:b,selectedId:a,tabConfigs:[{title:h._(/*BTDS*/"__JHASH__IWR0SzeN59e__JHASH__"),id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS},{title:h._(/*BTDS*/"__JHASH__HiMlj1eJyAh__JHASH__"),id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H},{title:h._(/*BTDS*/"__JHASH__ZRmNNZDZyYF__JHASH__"),id:d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY}]})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.days,e=a.daysOrder,f=a.onDayValuesChange,g=a.onModeChange,h=a.selectedMode,i=function(a,c){var d,e=b[a];a=babelHelpers["extends"]({},b,(d={},d[a]=babelHelpers["extends"]({},e,{},c),d));f(a)};return l.jsxs("div",{children:[l.jsx(o,{selectedMode:h,onSelect:g}),l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(n.editMain,d("WAWebUISpacing").uiPadding.all6),{children:e.map(function(a){var c=b[a];return l.jsx(d("WAWebBusinessHoursDayEdit.react").DayEdit,{day:c,mode:h,updateDayValue:function(b){return i(a,b)}},a)})}))]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.businessHours,f=e.note,g=e.timezone,i=e.days;e=m(a.businessHours.mode||d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS);var j=e[0];e=e[1];var k=m(function(){var a={};for(var b of i){var c=b.dayKey,e=b.closed,f=b.hours,g=b.dayName;a[c]={closed:e,hours:f||[d("WAWebBusinessHoursUtils").getDefaultHoursPair()],dayKey:c,dayName:g}}return a}),n=k[0];k=k[1];var o=i.map(function(a){return a.dayKey});return l.jsx(c("WAWebSavePopup.react"),{title:h._(/*BTDS*/"__JHASH__WNmlp9WJrRo__JHASH__"),modalConfig:{type:d("WAWebModal.react").ModalTheme.BusinessHours},isValid:d("WAWebBusinessHoursUtils").isValidBusinessHours(j,n),doSave:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUtilsLogQplEvents").qplStartProfileSave("bizHours"),yield a.saveBusinessProfile(d("WAWebBusinessHoursUtils").convertToRawBusinessProfile({mode:j,dayValues:n,note:f,timezone:g}))}),afterSave:a.afterSave,onCancel:a.onCancel,children:l.jsx(p,{selectedMode:j,onModeChange:e,days:n,onDayValuesChange:k,daysOrder:o})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebBusinessIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="business";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"currentColor",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j.jsx("path",{d:"M12 7V3H2v18h20V7H12zM6 19H4v-2h2v2zm0-4H4v-2h2v2zm0-4H4V9h2v2zm0-4H4V5h2v2zm4 12H8v-2h2v2zm0-4H8v-2h2v2zm0-4H8V9h2v2zm0-4H8V5h2v2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8v10zm-2-8h-2v2h2v-2zm0 4h-2v2h2v-2z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.BusinessIcon=a}),98);
__d("WAWebBusinessProfileEdit",["WAWebBizLogQplEvents","WAWebBusinessProfileJob","WAWebMerchantComplianceJob"],(function(a,b,c,d,e,f,g){a=function(a){d("WAWebBizLogQplEvents").qplPointProfileSave("datasource_start");a=d("WAWebBusinessProfileJob").editBusinessProfile(a);a=a.then(function(a){d("WAWebBizLogQplEvents").qplPointProfileSave("datasource_end");return a});return a};b=function(a){return d("WAWebMerchantComplianceJob").setMerchantCompliance(a)};g.editBusinessProfile=a;g.editBusinessCompliance=b}),98);
__d("WAWebBusinessProfilePhoneSection.react",["fbt","WAWebBusinessProfileIconSection.react","WAWebCallRefreshedIcon.react","WAWebCopyPasteSelectable.react","WAWebFlex.react","WAWebPhoneIcon.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebWidFormat","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){a=a.isProfileLocked;a=a===void 0?!1:a;return j.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebCallRefreshedIcon.react").CallRefreshedIcon:d("WAWebPhoneIcon.react").PhoneIcon,type:"container",disabled:a,content:j.jsxs("div",{children:[j.jsx(d("WAWebCopyPasteSelectable.react").SelectableDiv,{selectable:!0,children:d("WAWebWidFormat").widToFormattedUser(d("WAWebUserPrefsMeUser").assertGetMe())}),a===!0?null:j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top20,className:"x1pg5gke x37zpob x1grh1yo",children:h._(/*BTDS*/"__JHASH__pxNWbC7xaAN__JHASH__")})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCameraIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="camera";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M21.317,4.381H10.971L9.078,2.45C8.832,2.199,8.342,1.993,7.989,1.993H4.905 c-0.352,0-0.837,0.211-1.078,0.468L1.201,5.272C0.96,5.529,0.763,6.028,0.763,6.38v1.878c0,0.003-0.002,0.007-0.002,0.01v11.189 c0,1.061,0.86,1.921,1.921,1.921h18.634c1.061,0,1.921-0.86,1.921-1.921V6.302C23.238,5.241,22.378,4.381,21.317,4.381z  M12.076,18.51c-3.08,0-5.577-2.497-5.577-5.577s2.497-5.577,5.577-5.577s5.577,2.497,5.577,5.577 C17.654,16.013,15.157,18.51,12.076,18.51z M12.076,9.004c-2.17,0-3.929,1.759-3.929,3.929s1.759,3.929,3.929,3.929 s3.929-1.759,3.929-3.929C16.004,10.763,14.245,9.004,12.076,9.004z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraIcon=a}),98);
__d("WAWebCameraOutlineRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="camera-outline-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M12 17.5C13.25 17.5 14.3125 17.0625 15.1875 16.1875C16.0625 15.3125 16.5 14.25 16.5 13C16.5 11.75 16.0625 10.6875 15.1875 9.8125C14.3125 8.9375 13.25 8.5 12 8.5C10.75 8.5 9.6875 8.9375 8.8125 9.8125C7.9375 10.6875 7.5 11.75 7.5 13C7.5 14.25 7.9375 15.3125 8.8125 16.1875C9.6875 17.0625 10.75 17.5 12 17.5ZM12 15.5C11.3 15.5 10.7083 15.2583 10.225 14.775C9.74167 14.2917 9.5 13.7 9.5 13C9.5 12.3 9.74167 11.7083 10.225 11.225C10.7083 10.7417 11.3 10.5 12 10.5C12.7 10.5 13.2917 10.7417 13.775 11.225C14.2583 11.7083 14.5 12.3 14.5 13C14.5 13.7 14.2583 14.2917 13.775 14.775C13.2917 15.2583 12.7 15.5 12 15.5ZM4 21C3.45 21 2.97917 20.8042 2.5875 20.4125C2.19583 20.0208 2 19.55 2 19V7C2 6.45 2.19583 5.97917 2.5875 5.5875C2.97917 5.19583 3.45 5 4 5H7.15L8.4 3.65C8.58333 3.45 8.80417 3.29167 9.0625 3.175C9.32083 3.05833 9.59167 3 9.875 3H14.125C14.4083 3 14.6792 3.05833 14.9375 3.175C15.1958 3.29167 15.4167 3.45 15.6 3.65L16.85 5H20C20.55 5 21.0208 5.19583 21.4125 5.5875C21.8042 5.97917 22 6.45 22 7V19C22 19.55 21.8042 20.0208 21.4125 20.4125C21.0208 20.8042 20.55 21 20 21H4ZM4 19H20V7H15.95L14.125 5H9.875L8.05 7H4V19Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CameraOutlineRefreshedIcon=a}),98);
__d("WAWebReturnIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="return";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M19.77,11.73c0,1.64-0.5,2.95-1.48,3.89c-1.38,1.32-3.26,1.41-3.75,1.41c-0.07,0-0.11,0-0.12,0l-5.41,0v-2.1 h5.46c0.05,0,1.47,0.04,2.38-0.84c0.55-0.53,0.82-1.32,0.82-2.37c0-1.27-0.33-2.23-0.99-2.84c-0.98-0.92-2.43-0.85-2.44-0.85 l-4.23,0v3.1L4,7.07L10.01,3v2.93h4.16c0.03,0,2.29-0.13,3.95,1.42C19.21,8.38,19.77,9.85,19.77,11.73z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ReturnIcon=a}),98);
__d("WAWebCaptureDrawer.react",["fbt","WAFilteredCatch","WALogger","WANullthrows","WAShiftTimer","WAWebAttachMediaCollection","WAWebBizBotTosUtils","WAWebCameraIcon.react","WAWebCanvasUtils","WAWebDataUrlToBlob","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebFileUtils","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMediaEditorEnumsThemes","WAWebMediaEditorLoadable.react","WAWebMediaOpaqueData","WAWebMiscErrors","WAWebModalManager","WAWebNoop","WAWebObjectFit.react","WAWebReturnIcon.react","WAWebRound.react","WAWebSpinner.react","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WAWebVideo.react","WAWebWamEnumMediaPickerOriginType","WAWebWamMediaPickerStatsLogger","asyncToGeneratorRuntime","react","useLazyRef","useWAWebStableCallback","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["captureDrawer:render Unhandled video capture state ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["CaptureDrawer:onCapture can not get 2d context"]);n=function(){return a};return a}e=j||d("react");var o=i||(i=c("react")),p=e.useEffect,q=e.useImperativeHandle,r=e.useRef,s=e.useState,t={retakeBtn:{display:"x78zum5",alignItems:"x6s0dn4",cursor:"x1ypdohk",$$css:!0},videoContainer:{zIndex:"xhtitgo",width:"xh8yej3",height:"x5yr21d",$$css:!0}},u="CAPTURE_MEDIA",v={ANIMATING:"ANIMATING",LOADING:"LOADING",RECORDING:"RECORDING",SENDING:"SENDING"},w=function(a){if(a.current==null)return;window.URL.revokeObjectURL(a.current);a.current=null};function a(a){var e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),g=f.chat,i=f.disposeStream,j=f.onCaptured,x=f.onBack,y=f.onSend;a=h._(/*BTDS*/"__JHASH__oIv2srgU-uj__JHASH__");var z=r(null),A=r(null),B=r(null),C=r(null),D=s(void 0),E=D[0],F=D[1];D=s(void 0);var G=D[0],H=D[1];D=s(v.ANIMATING);var I=D[0],J=D[1];D=s(void 0);var K=D[0],L=D[1],M=c("useWAWebStableCallback")(function(a,b){if(!a){I===v.ANIMATING&&J(v.LOADING);return}A.current==null?void 0:A.current();A.current=b;J(v.LOADING);L(a);d("WAWebMediaCapture").isSrcObjectInVideoElement()||(a?(w(B),B.current=window.URL.createObjectURL(a)):w(B))}),N=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;M(b,a)})}),O=c("useLazyRef")(function(){return new(d("WAShiftTimer").ShiftTimer)(function(a){var b=a.stream;a=a.disposeStream;b&&a&&(A.current==null?void 0:A.current());d("WAWebMediaCapture").isSrcObjectInVideoElement()||w(B)})}),P=function(){g&&g.setAttachMediaContents(null)},Q=c("useWAWebUnmountSignal")();p(function(){N.current.onOrBefore(300,{stream:f.stream,disposeStream:f.disposeStream});return function(){N.current.cancel(),w(B),i==null?void 0:i(),z.current&&z.current.logCancel(),P()}},[]);var R=function(a,b){N.current.forceRunNow({stream:a,disposeStream:b})};q(e,function(){return{loadNewStreamTimerUpdate:R,loadNewStream:M}});D=function(){var a;a=(a=C.current)==null?void 0:a.underlyingVideo();if(!a)return;var b=document.createElement("canvas");b.height=a.videoHeight;b.width=a.videoWidth;var e=b.getContext("2d");if(!e){d("WALogger").WARN(n());return}e.translate(b.width,0);e.scale(-1,1);e.drawImage(a,0,0,a.videoWidth,a.videoHeight);if(j)void d("WAWebCanvasUtils").canvasToBlob(b).then(function(a){if(Q.aborted)return;j(a)});else{O.current.onOrBefore(500,{stream:K,disposeStream:i});e=new(d("WAWebWamMediaPickerStatsLogger").MediaPickerStatsLogger)();e.logAdd(u,"image",d("WAWebWamEnumMediaPickerOriginType").MEDIA_PICKER_ORIGIN_TYPE.MENU_CAMERA_CAPTURE);e.chatRecipients=(g==null?void 0:g.groupMetadata)?g.groupMetadata.participants.length:1;z.current=e;a=b.toDataURL("image/jpeg");e=d("WAWebDataUrlToBlob").dataURLtoBlob(a);if(g){g.attachMediaContents||g.setAttachMediaContents(new(c("WAWebAttachMediaCollection"))({chatParticipantCount:g.getParticipantCount()}));b=c("WANullthrows")(g.attachMediaContents);b.processAttachments([{file:d("WAWebFileUtils").createFile([e],"",{type:"image/jpeg"})}],void 0,g)}F(a);J(v.SENDING);L(void 0)}};e=function(a){J(v.RECORDING),H({width:a.videoWidth,height:a.videoHeight})};var S=function(){J(v.LOADING);P();var a=d("WAWebMediaCapture").start("camera"),b=a.asyncStream;a=a.disposeStream;A.current=a;b.then(function(a){a&&(d("WAWebMediaCapture").isSrcObjectInVideoElement()||(B.current=window.URL.createObjectURL(a)),L(a))})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){x(),d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){x(),d("WAWebModalManager").ModalManager.open(o.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))},T=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){g&&(yield d("WAWebBizBotTosUtils").maybeShowBizBot1pTos(g));var e=(b==null?void 0:b.isViewOnce)===!0;b=(b==null?void 0:b.isWamoSub)===!0;if(!y)d("WALogger").ERROR(m()).sendLogs("capture-drawer-no-onSend");else if(a.length===0)d("WALogger").ERROR(l()).sendLogs("capture-drawer-no-img");else{a=c("WANullthrows")(a[0]);var f=a.media,h=a.mentionedJidList;a=a.groupMentions;var i=f.file;if(i instanceof Blob){y({getImg:c("WAWebMediaOpaqueData").createFromData(i,i.type),caption:(i=f.caption)!=null?i:void 0,isViewOnce:!!e,mentionedJidList:h,groupMentions:a,isWamoSub:b});(f=z.current)==null?void 0:f.logSend({isViewOnce:!!e})}P()}});return function(b,c){return a.apply(this,arguments)}}(),U,V,W,X,Y=f.theme==="capture-cover"?"cover":"contain";switch(I){case v.ANIMATING:case v.LOADING:X=o.jsx(d("WAWebSpinner.react").Spinner,{stroke:4,size:50});if(I===v.ANIMATING)break;case v.RECORDING:var Z={0:"xh8yej3 x5yr21d x1hc1fzr x19991ni x1d8287x x1j7uda5 xpk2tj9 x1bndym7",1:"xh8yej3 x5yr21d x19991ni x1d8287x x1j7uda5 xpk2tj9 x1bndym7 xg01cxk"}[!!(K&&I===v.LOADING)<<0];e=K?o.jsx(c("WAWebVideo.react"),{autoPlay:!0,ref:C,onPlay:e,src:B.current!=null?B.current:void 0,srcObject:B.current!=null?void 0:K}):null;W=K?o.jsx("div",babelHelpers["extends"]({className:"xh8yej3 x5yr21d"},{children:o.jsx(c("WAWebObjectFit.react"),{type:Y,size:G,children:o.jsx("div",{className:Z,"data-animage-capture-webcam":!0,children:e})})}),"webcam"):null;U=I===v.RECORDING?o.createElement("div",babelHelpers["extends"]({className:"x10l6tqk x2rgi xbudbmw xbx705l xg01cxk"},{key:"btn-capture"}),o.jsx(d("WAWebRound.react").Round,{large:!0,label:a,onClick:D,children:o.jsx(d("WAWebCameraIcon.react").CameraIcon,{})})):null;break;case v.SENDING:W=o.jsx(c("WAWebObjectFit.react"),{type:Y,size:G,children:o.jsx("img",babelHelpers["extends"]({alt:""},{className:"x10l6tqk xh8yej3 x5yr21d xqcmdr3 xxkxylk"},{"data-animate-capture-snapshot":!0,src:E}))});if(g){Z=c("WANullthrows")(g.attachMediaContents);W=o.jsx(d("WAWebMediaEditorLoadable.react").MediaEditorLoadable,{theme:d("WAWebMediaEditorEnumsThemes").MediaTheme.CAPTURE,chat:g,initCaption:null,mediaCollection:Z,onDropText:c("WAWebNoop"),onSendMedia:T})}V=o.jsxs(c("WAWebUnstyledButton.react"),{xstyle:t.retakeBtn,onClick:S,children:[o.jsx("div",babelHelpers["extends"]({className:"x2lah0s xbelrpt x7o08j2"},{children:o.jsx(d("WAWebReturnIcon.react").ReturnIcon,{"aria-hidden":!0})})),h._(/*BTDS*/"__JHASH__gzo29kra-Qa__JHASH__")]});break;default:d("WALogger").LOG(k(),I)}e=o.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xhtitgo x9f619 x78zum5 x6s0dn4 xl56j7k x5sx7kw xexx8yu x1xnnf8n x10b6aqq x106a9eq x1m8r95a"},{children:o.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop_delay",children:U})}));return o.jsxs(c("WAWebDrawer.react"),{theme:f.theme,tsNavigationData:{surface:"camera"},children:[o.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.OFFSET,focusBackOrCancel:!0,onCancel:f.onBack,children:V}),o.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[o.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6 x78zum5 x1iyjqo2 x6s0dn4 xl56j7k xh8yej3"},{children:[X,o.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf x6s0dn4 xh8yej3 x5yr21d"},{children:o.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",xstyle:t.videoContainer,children:W})}))]})),e]})]},"attach-capture-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCaptureMediaDrawer.react",["WAWebCaptureDrawer.react","WAWebMedia","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.chat,e=a.disposeStream,f=a.onCancel,g=a.onCaptureSent,h=a.onClose;a=a.stream;var j=function(a){var c,e=a.getImg,f=a.caption,i=a.isViewOnce,j=a.mentionedJidList;a=a.isWamoSub;var k=b,l=k.composeQuotedMsg;k.composeQuotedMsg=null;c=((c=k.getComposeContents())==null?void 0:c.ctwaContext)||void 0;d("WAWebMedia").prepRawMedia(e,{}).sendToChat(k,{caption:f,mentionedJidList:j,quotedMsg:l,ctwaContext:c,isViewOnce:i,isWamoSub:a});g();h()};return i.jsx(c("WAWebCaptureDrawer.react"),{onBack:function(){h(),f()},chat:b,caption:!0,theme:"capture-contain",onSend:j,stream:a,disposeStream:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChipSelectorFooter.react",["fbt","WAWebChipButton.react","WAWebFlex.react","WAWebL10N","WAWebRoundXInvIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={chip:{marginTop:"x1xmf6yo",marginInlineEnd:"x1xegmmw",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0}};function a(a){var b=c("WAWebL10N").isRTL();return j.jsx("div",babelHelpers["extends"]({className:"xz9dl7a x1xnnf8n x1120s5i x106a9eq x1k74hu9 x178xt8z x13fuv20 x1nfbk4f"},{children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"start",justify:"start",wrap:"wrap",children:a.categories.map(function(e){var f=function(){return a.onRemoveItem(e.id)};return j.jsx(c("WAWebChipButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__eXUBmHdqbEq__JHASH__"),onClick:f,label:e.localized_display_name,PostfixIcon:b?void 0:d("WAWebRoundXInvIcon.react").RoundXInvIcon,PrefixIcon:b?d("WAWebRoundXInvIcon.react").RoundXInvIcon:void 0,xstyle:k.chip},e.id.toString())})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCategories",["fbt","WAQplTypes","WAWebBusinessCategoriesResultModel","WAWebBusinessProfileModel","WAWebChatListSearch.react","WAWebCheckBox.react","WAWebChipSelectorFooter.react","WAWebFlatList.react","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFlex.react","WAWebSavePopup.react","WAWebSpinner.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useMemo,o=e.useState,p={editMain:{width:"xvue9z",height:"x15om8nw",$$css:!0},rowMain:{fontSize:"x1jchvi3",$$css:!0},loadingSpinner:{height:"x5yr21d",$$css:!0},rowLabel:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"x1t1x2f9",cursor:"x1ypdohk",$$css:!0},rowLabelDisabled:{color:"x54l9or",$$css:!0}},q=d("WAWebFlatList.react").FlatListFactory(),r=48;function a(a){var e=a.afterSave,f=a.initialCategories,g=a.onCancel,i=a.saveBusinessProfile,j=a.searchCategories;a=o(f);var k=a[0],n=a[1];f=o(!1);var q=f[0],r=f[1];a=o(!1);var s=a[0],t=a[1];f=o([]);var v=f[0],w=f[1];a=o("");var x=a[0],y=a[1],z=function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__Mk7kAzxM1bl__JHASH__")}))},A=function(a){for(var b=0;b<k.length;b++)if(k[b].id===a)return!0;return!1};f=function(a){return a.not_a_biz!==!0&&!A(a.id)&&k.length>=d("WAWebBusinessProfileModel").MAX_BUSINESS_CATEGORIES};var B=function(a){var b=k.find(function(a){return a.id===x}),c=k;k.length>0&&(a.not_a_biz===!0&&!b?(c=[],z()):a.not_a_biz!==!0&&b&&(c=k.filter(function(a){return a.id!==b.id}),z()));A(a.id)?n(c.filter(function(b){return b.id!==a.id})):n([].concat(c,[a]))};a=function(a){var b=k.filter(function(b){return b.id===a})[0];if(!b)return;B(b)};var C=function(a){var b=v.filter(function(b){return b.id===a})[0];if(!b)return;B(b)},D=function(a){t(!0),j(a||d("WAWebBusinessCategoriesResultModel").BUSINESS_CATEGORY_EMPTY_STR_ID).then(function(b){var c=b.categories;a!==""&&(c=c.filter(function(a){return!a.not_a_biz}));t(!1);w(c);y(b.notABizId);d("WAWebUtilsLogQplEvents").qplAnnotateProfileCatsView(c.length);d("WAWebUtilsLogQplEvents").qplEndProfileCatsView(d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__XKbEl69UE5W__JHASH__")})),t(!1),w([]),y(""),d("WAWebUtilsLogQplEvents").qplEndProfileCatsView(d("WAQplTypes").QuickLogActionType.FAIL)})};m(function(){D("")},[]);var E=function(a){!s&&!q&&(d("WAWebUtilsLogQplEvents").qplStartProfileCatsView("Search"),D(a))};return l.jsxs(c("WAWebSavePopup.react"),{title:h._(/*BTDS*/"__JHASH__SU2w7Tlm5-T__JHASH__"),isValid:k.length>0,doSave:b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUtilsLogQplEvents").qplStartProfileSave("categories"),yield i({categories:k})}),afterSave:function(){r(!0),e()},onCancel:function(){r(!0),g()},children:[l.jsx("div",babelHelpers["extends"]({className:"x1bmpntp xvue9z"},{children:l.jsx(d("WAWebChatListSearch.react").ListSearch,{onSearch:E,placeholder:h._(/*BTDS*/"__JHASH__8NzshLPytJL__JHASH__")})})),l.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[p.editMain,d("WAWebUISpacing").uiPadding.all6],children:[l.jsx("div",babelHelpers["extends"]({className:"x1iyjqo2 x1odjw0f xvue9z"},{children:l.jsx(u,{isLoading:s,results:v,isSelected:A,isDisabled:f,toggleResultById:C})})),k&&l.jsx(c("WAWebChipSelectorFooter.react"),{categories:k,onRemoveItem:a})]})]})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var b=a.category,e=a.toggleResultById;a=function(){b.disabled||e(b.id)};return l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:p.rowMain,children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz24),{children:l.jsx(d("WAWebCheckBox.react").CheckBox,{id:""+b.id,onChange:a,checked:b.selected,disabled:b.disabled})})),l.jsx("label",babelHelpers["extends"]({"data-testid":void 0},j.props(p.rowLabel,d("WAWebUISpacing").uiPadding.vert13,b.disabled&&p.rowLabelDisabled),{htmlFor:b.id,children:b.localized_display_name}))]})}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.label;return l.jsxs("div",babelHelpers["extends"]({className:"x1jchvi3"},{children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.vert18,d("WAWebUISpacing").uiPadding.horiz24))),a]}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.isDisabled,e=a.isLoading,f=a.isSelected,g=a.results,i=a.toggleResultById;a=n(function(){return new(c("WAWebFlatListController"))()},[]);if(e)return l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",xstyle:[p.loadingSpinner,d("WAWebUISpacing").uiPadding.all0],children:l.jsx(d("WAWebSpinner.react").Spinner,{color:"highlight",size:44,stroke:6})});if(!g||g.length===0)return l.jsx(t,{label:h._(/*BTDS*/"__JHASH__ohmigw5C0tL__JHASH__")});e=g.map(function(a){return babelHelpers["extends"]({},a,{id:a.id,itemKey:a.id.toString(),disabled:b(a),selected:f(a.id)})});return l.jsx(c("WAWebFlatListContainer.react"),{flatListControllers:[a],children:l.jsx(q,{data:e,flatListController:a,direction:"vertical",renderItem:function(a){return l.jsx(s,{category:a,toggleResultById:i})},defaultItemHeight:r})})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCategoryRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="category-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M7.425 9.47505L11.15 3.40005C11.25 3.23338 11.375 3.11255 11.525 3.03755C11.675 2.96255 11.8333 2.92505 12 2.92505C12.1667 2.92505 12.325 2.96255 12.475 3.03755C12.625 3.11255 12.75 3.23338 12.85 3.40005L16.575 9.47505C16.675 9.64172 16.725 9.81672 16.725 10C16.725 10.1834 16.6833 10.35 16.6 10.5C16.5167 10.65 16.4 10.7709 16.25 10.8625C16.1 10.9542 15.925 11 15.725 11H8.275C8.075 11 7.9 10.9542 7.75 10.8625C7.6 10.7709 7.48333 10.65 7.4 10.5C7.31667 10.35 7.275 10.1834 7.275 10C7.275 9.81672 7.325 9.64172 7.425 9.47505ZM17.5 22C16.25 22 15.1875 21.5625 14.3125 20.6875C13.4375 19.8125 13 18.75 13 17.5C13 16.25 13.4375 15.1875 14.3125 14.3125C15.1875 13.4375 16.25 13 17.5 13C18.75 13 19.8125 13.4375 20.6875 14.3125C21.5625 15.1875 22 16.25 22 17.5C22 18.75 21.5625 19.8125 20.6875 20.6875C19.8125 21.5625 18.75 22 17.5 22ZM3 20.5V14.5C3 14.2167 3.09583 13.9792 3.2875 13.7875C3.47917 13.5959 3.71667 13.5 4 13.5H10C10.2833 13.5 10.5208 13.5959 10.7125 13.7875C10.9042 13.9792 11 14.2167 11 14.5V20.5C11 20.7834 10.9042 21.0209 10.7125 21.2125C10.5208 21.4042 10.2833 21.5 10 21.5H4C3.71667 21.5 3.47917 21.4042 3.2875 21.2125C3.09583 21.0209 3 20.7834 3 20.5ZM17.5 20C18.2 20 18.7917 19.7584 19.275 19.275C19.7583 18.7917 20 18.2 20 17.5C20 16.8 19.7583 16.2084 19.275 15.725C18.7917 15.2417 18.2 15 17.5 15C16.8 15 16.2083 15.2417 15.725 15.725C15.2417 16.2084 15 16.8 15 17.5C15 18.2 15.2417 18.7917 15.725 19.275C16.2083 19.7584 16.8 20 17.5 20ZM5 19.5H9V15.5H5V19.5ZM10.05 9.00005H13.95L12 5.85005L10.05 9.00005Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CategoryRefreshedIcon=a}),98);
__d("WAWebChatAgentMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebDetailImage.react","WAWebEmojiText.react","WAWebMsgGetters","react","useWAWebMsgValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.agentName,e=a.msg;a=a.theme;e=d("useWAWebMsgValues").useMsgValues(e.id,[d("WAWebMsgGetters").getFrom,d("WAWebMsgGetters").getT]);var f=e[0];e=e[1];e=d("WAWebClock").Clock.relativeDateAndTimeStr(e);var g=d("WAWebDetailImage.react").getSize(d("WAWebDetailImage.react").DetailImageSize.Small);return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:i.jsx("div",{className:"x1n2onr6",style:{height:g,width:g},children:i.jsx(d("WAWebDetailImage.react").DefaultIcon,{id:f})}),primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:b,titlify:!0,ellipsify:!0}),secondary:i.jsx("span",{title:e,children:e}),className:"x1sqbtui x1bnvlk4",theme:a,idle:!0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatContactMsgInfoCell.react",["WAWebCellFrame.react","WAWebClock","WAWebEmojiText.react","WAWebFlex.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.icon,e=a.t;a=a.title;e=e!=null?d("WAWebClock").Clock.relativeDateAndTimeStr(e):"-";b=i.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",className:"x6ikm8r x10wlt62 xlyipyv xeaf4i8",testid:void 0,children:[b,i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:a,titlify:!0,ellipsify:!0})]});return i.jsx(c("WAWebCellFrame.react"),{primary:b,secondary:e,theme:"plain",idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGeneratePollVotesSnapshotFromPoll",["WAWebMsgGetters","WAWebNewsletterPollVotesModelCollection","WAWebNewsletterPollsUtils","WAWebPollsPollVoteCollection","WAWebPollsUseResults"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("WAWebMsgGetters").getIsNewsletterMsg(a);return b?h(a):i(a)}function h(a){var b=a.id;a=a.pollOptions;b=d("WAWebNewsletterPollVotesModelCollection").NewsletterPollVotesModelCollection.get(b);b=d("WAWebNewsletterPollsUtils").aggregateNewsletterVotes(b,a);return j(b)}function i(a){var b=a.id;a=a.pollOptions;b=d("WAWebPollsPollVoteCollection").PollVoteCollection.getForParentAddressingModeInsensitive([b]);b=b[0];b=b.toArray();b=d("WAWebPollsUseResults").aggregateVotes(b,a);return j(b)}function j(a){a=Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return{option:b,optionVoteCount:a.count}});return{pollVotes:a}}g.generatePollVotesSnapshotFromPoll=a}),98);
__d("WAWebChatForwardMessage",["Promise","WALogger","WAWebChatEphemerality","WAWebContactBlockedErrorAction","WAWebContactGetters","WAWebCryptoRandomMediaKey","WAWebFileUtils","WAWebFrontendMsgGetters","WAWebGeneratePollVotesSnapshotFromPoll","WAWebGetNewsletterContextForForwardedMsg","WAWebMedia","WAWebMediaConstants","WAWebMediaGetUploadOriginForChat","WAWebMediaOpaqueData","WAWebMediaUploadMmsThumbnail","WAWebMessagingGatingUtils","WAWebMmsMediaTypes","WAWebMsgDataUtils","WAWebMsgGetters","WAWebMsgModelFromData","WAWebMsgType","WAWebNewsletterSendMsgAction","WAWebSendMsgChatAction","WAWebWid","asyncToGeneratorRuntime","lodash","nullthrows"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[chat forward message] error during forwarding message"]);i=function(){return a};return a}function j(a){return Boolean(d("WAWebFrontendMsgGetters").getAsMms(a)&&!a.ctwaContext)}function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){f===void 0&&(f=!1);g===void 0&&(g=!1);if(j(e)||d("WAWebFileUtils").isDocument(e))return d("WAWebMedia").forwardMediaMsg(e,a,f,g);g=q(e,a);var i=(yield d("WAWebMsgDataUtils").genOutgoingMsgData(a,e.type));i.type;i=babelHelpers.objectWithoutPropertiesLoose(i,["type"]);g=Object.assign(g,babelHelpers["extends"]({},i,{participant:void 0,star:!1,isForwarded:d("WAWebMsgGetters").getShouldDisplayAsForwarded(e),forwardedFromWeb:!0,forwardingScore:e.getForwardingScoreWhenForwarded(),multicast:f,messageSecret:d("WAWebMessagingGatingUtils").isReportingTokenSendingEnabled()&&self.crypto.getRandomValues(new Uint8Array(32))}));if(c("WAWebWid").isNewsletter(a.id))return d("WAWebNewsletterSendMsgAction").forwardNewsletterMessage(a,d("WAWebGetNewsletterContextForForwardedMsg").maybeStripNewsletterForwardMetadata({forwardable:g,destination:a.id,source:e.id.remote,isOriginalMsgForwarded:e.isForwarded}));i=(yield m(g));d("WAWebSendMsgChatAction").addAndSendMsgToChat(a,i);return(h||(h=b("Promise"))).resolve()});return l.apply(this,arguments)}function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebFrontendMsgGetters").getAsUrl(d("WAWebMsgModelFromData").msgModelFromMsgData(a));if(b==null)return a;var e=b.thumbnailHQ,f=b.mediaKeyTimestamp;if(e==null)return a;if(f!=null)return a;try{f=(yield c("WAWebMediaUploadMmsThumbnail")({thumbnail:yield c("WAWebMediaOpaqueData").createFromBase64Jpeg(e),mediaType:d("WAWebMmsMediaTypes").MEDIA_TYPES.THUMBNAIL_LINK,mediaKeyInfo:c("WAWebCryptoRandomMediaKey")(),uploadOrigin:c("WAWebMediaGetUploadOriginForChat")(d("WAWebFrontendMsgGetters").getChat(b.unsafe())),forwardedFromWeb:!0,timeout:d("WAWebMediaConstants").MMS_THUMBNAIL_UPLOAD_TIMEOUT,isViewOnce:!1}));e=f.filehash;b=f.mediaEntry;return(b==null?void 0:b.getMediaKey())==null?o(a):babelHelpers["extends"]({},a,{thumbnailDirectPath:b==null?void 0:b.directPath,thumbnailSha256:e,thumbnailEncSha256:(f=b==null?void 0:b.getEncfilehash())!=null?f:void 0,mediaKey:b==null?void 0:b.getMediaKey(),mediaKeyTimestamp:b==null?void 0:b.getMediaKeyTimestamp()})}catch(b){return o(a)}});return n.apply(this,arguments)}function o(a){return babelHelpers["extends"]({},a,{thumbnailHQ:void 0,thumbnailDirectPath:void 0,thumbnailSha256:void 0,thumbnailEncSha256:void 0,mediaKey:void 0,mediaKeyTimestamp:void 0,thumbnailHeight:void 0,thumbnailWidth:void 0})}function a(a,b,c,d){return p.apply(this,arguments)}function p(){p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=!1);f===void 0&&(f=!1);var g=a.contact;if(d("WAWebContactGetters").getIsUser(g)&&g.isContactBlocked)throw new(c("WAWebContactBlockedErrorAction"))("Forwarded to contact is blocked",g);g=[];for(b of b){var h=f||d("WAWebMsgGetters").getHasOriginatedFromNewsletter(b);try{yield k(a,b,e,h)}catch(a){d("WALogger").WARN(i()).devConsole(a.stack),j(b)&&g.push(b)}}return g});return p.apply(this,arguments)}function q(a,b){var e=["buttons","caption","broadcast","ephemeralDuration","ephemeralSettingTimestamp","ephemeralStartTimestamp","ephemeralOutOfSync","disappearingModeInitiatedByMe","disappearingModeTrigger","dynamicReplyButtons","replyButtons","isMdHistoryMsg","bizPrivacyStatus","kicState","kicKey","kicTimestampMs","kicNotified","rcat","latestEditMsgKey","latestEditSenderTimestampMs","invokedBotWid","botMessageSecret","botEditType","botFeedbackKind","botFeedbackText","botTargetSenderJid","bizBotType","botPersonaId","botRespOrInvocationRevokeBotWid","botResponseTargetId","botPluginType","botPluginReferenceIndex","botPluginSearchProvider","botPluginSearchUrl","botEditTargetId","lastBotEditBodyLength","botPluginMaybeParent","rowId","serverId","viewCount","messageSecret","pollOptions","pollSelectableOptionsCount","pollInvalidated"],f=a.isDynamicReplyButtonsMsg===!0&&a.type===d("WAWebMsgType").MSG_TYPE.CHAT;f||(e=["footer"].concat(e));((f=a.quotedMsg)==null?void 0:f.type)!==d("WAWebMsgType").MSG_TYPE.PRODUCT&&(e=["quotedMsg","quotedParticipant","quotedRemoteJid","quotedStanzaID"].concat(e));f=c("lodash").omit(a.toJSON(),e);a.ctwaContext&&(f.body=a.ctwaContext.sourceUrl,f.type=d("WAWebMsgType").MSG_TYPE.CHAT,f.mediaObject=void 0);a.type===d("WAWebMsgType").MSG_TYPE.POLL_CREATION&&(f.type=d("WAWebMsgType").MSG_TYPE.POLL_RESULT_SNAPSHOT,f.pollVotesSnapshot=d("WAWebGeneratePollVotesSnapshotFromPoll").generatePollVotesSnapshotFromPoll(c("nullthrows")(d("WAWebFrontendMsgGetters").getAsPollCreation(a))));f.forwardedNewsletterMessageInfo=d("WAWebGetNewsletterContextForForwardedMsg").getNewsletterContextForForwardedMsg(a);d("WAWebChatEphemerality").isEphemeralSettingOn(b)&&(f.ephemeralDuration=d("WAWebChatEphemerality").getEphemeralSetting(b));e=d("WAWebChatEphemerality").getEphemeralSettingTimestamp(b);e!=null&&(f.ephemeralSettingTimestamp=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiator(b);e!=null&&(f.disappearingModeInitiator=e);e=d("WAWebChatEphemerality").getDisappearingModeTrigger(b);e!=null&&(f.disappearingModeTrigger=e);e=d("WAWebChatEphemerality").getDisappearingModeInitiatedByMe(b);e!=null&&(f.disappearingModeInitiatedByMe=e);!(((e=a.id.remote)==null?void 0:e.isBot())||((e=a.mentionedJidList)==null?void 0:e.find(function(a){return a.isBot()}))!=null)&&b.isCAGAdmin()&&Object.assign(f,{messageSecret:self.crypto.getRandomValues(new Uint8Array(32))});return f}g.forwardMessages=a;g.getForwardedMessageFields=q}),98);
__d("WAWebChatKeptByMsgInfoCell.react",["WAWebChatCell.react","WAWebClock","WAWebContactGetters","WAWebDetailImage.react","WAWebEmojiText.react","WAWebFrontendContactGetters","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact,e=a.kicTimestampMs;a=a.theme;b=d("useWAWebContactValues").useContactValues(b.id,[d("WAWebContactGetters").getId,d("WAWebContactGetters").getName,d("WAWebFrontendContactGetters").getFormattedName,d("WAWebContactGetters").getNotifyName]);var f=b[0],g=b[1],h=b[2];b=b[3];f=i.jsx(d("WAWebDetailImage.react").DetailImage,{id:f});var j;e!=null&&(j=d("WAWebClock").Clock.relativeDateAndTimeStr(e/1e3));e=i.jsx("span",{title:j,children:j});var k;!g&&b&&(k=i.jsx(d("WAWebEmojiText.react").EmojiText,{className:"xxayilr",direction:"auto",text:b}));return i.jsx(c("WAWebChatCell.react"),{contextEnabled:function(){return!1},image:f,primary:i.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:h,titlify:!0,ellipsify:!0}),secondary:e,secondaryDetail:k,style:"x1sqbtui x1bnvlk4",theme:a,idle:!0,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMexUsernameAvailabilityQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{alias:null,args:[{kind:"Variable",name:"username",variableName:"input"}],concreteType:"XWA2UsernameCheckResponse",kind:"LinkedField",name:"xwa2_username_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"result",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestions",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"WAWebMexUsernameAvailabilityQuery",selections:b,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"WAWebMexUsernameAvailabilityQuery",selections:b},params:{id:"9615795045169045",metadata:{},name:"WAWebMexUsernameAvailabilityQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("WAWebMexUsernameAvailability",["WALogger","WAWebMexClient","WAWebMexUsernameAvailabilityQuery.graphql","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[MEX][USERNAME] Successfully checked username availability via mex"]);i=function(){return a};return a}function a(a){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c,e=h!==void 0?h:h=b("WAWebMexUsernameAvailabilityQuery.graphql");a={input:a};e=(yield d("WAWebMexClient").fetchQuery(e,a));d("WALogger").DEV(i()).tags("GQL","MEX").devConsole({response:e});a=[];if(((c=e.xwa2_username_check)==null?void 0:c.suggestions)!=null){a.push.apply(a,(c=e.xwa2_username_check)==null?void 0:c.suggestions)}return{isUsernameAvailable:((c=e.xwa2_username_check)==null?void 0:c.result)==="SUCCESS",suggestedUsernames:a}});return j.apply(this,arguments)}g.mexCheckUsernameAvailabilityQueryJob=a}),98);
__d("WAWebCheckUsernameAvailabilityJob",["WAWebMexUsernameAvailability","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebMexUsernameAvailability").mexCheckUsernameAvailabilityQueryJob(a));var b=a.isUsernameAvailable;a=a.suggestedUsernames;return{isUsernameAvailable:b,suggestedUsernames:a}});return h.apply(this,arguments)}g.getUsernameAvailability=a}),98);
__d("WAWebCheckmarkLargeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="checkmark-large";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=30;m=30;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 30 30",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M9.9,21.25l-6.7-6.7L1,16.75l8.9,8.9L29,6.55l-2.2-2.2L9.9,21.25z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.CheckmarkLargeIcon=a}),98);
__d("WAWebWdsPictoCommunitiesHeartIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="wds-picto-communities-heart";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=88;m=88;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 88 88",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),id:"Layer_1",x:"0",y:"0",version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"#25d366",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",d:"M10.9 67.9c-2.4 0-4.4-1.9-4.5-4.4 0-1.4-.1-3.8.1-5 .3-2.4 1.7-4.2 3.2-5.4 2.9-2.2 7.2-3.3 11.7-3.3 5.6 0 23.4 3.3 23.4 3.3s17.8-3.3 23.4-3.3c4.5 0 8.8 1 11.7 3.3 1.5 1.2 2.9 2.9 3.2 5.4.1 1.1.1 3.6.1 5-.1 2.5-2.1 4.4-4.5 4.4z",className:"st0"}),j.jsx("path",{fill:"#25d366",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",d:"M61.8 67.9c2.4 0 4.4-1.9 4.5-4.4.3-6.2-.3-7.8-.5-8.4-2.2-6.7-15.4-8.2-20.4-8.2S27.1 48.4 25 55.1c-.2.6-.8 2.3-.5 8.4.1 2.4 2 4.4 4.5 4.4zm6.8-21c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9m-23.3-3c6.6 0 12-5.4 12-12s-5.4-12-12-12-12 5.4-12 12 5.4 12 12 12m-23.2 3c5 0 9-4 9-9s-4-9-9-9-9 4-9 9 4 9 9 9",className:"st0"}),j.jsx("path",{d:"M60.2 73.6c6.6-5.7 11.1-9.4 11.1-13.3 0-4.7-4.1-5.7-5.8-5.7-3.5 0-5.3 2.7-5.3 2.7s-1.9-2.7-5.3-2.7c-1.7 0-5.8 1-5.8 5.7 0 3.9 4.5 7.6 11.1 13.3",fill:"#e6ffda",stroke:"#111b21",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.WdsPictoCommunitiesHeartIcon=a}),98);
__d("WAWebCommunityAdminPromotionNotificationPopup.react",["fbt","WAWebButton.react","WAWebEmojiText.react","WAWebExternalLink.react","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModal.react","WAWebWdsPictoCommunitiesHeartIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onContinue,c=a.onDemote;a=a.ref;var e=function(a){a.stopPropagation(),a.preventDefault(),c()},f=function(a){a.stopPropagation(),a.preventDefault(),b()},g={enter:f,escape:f};e=j.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:e,children:h._(/*BTDS*/"__JHASH__RHAEMS1DZKO__JHASH__")},"popup-controls-demote"),j.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:f,children:h._(/*BTDS*/"__JHASH__wdREOvUg_-y__JHASH__")},"popup-controls-continue")]});f=j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:k(),children:h._(/*BTDS*/"__JHASH__GCltFTJq2-k__JHASH__")});f=h._(/*BTDS*/"__JHASH__fvvu6z-bTDA__JHASH__",[h._param("learn-more-link",f)]);return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:a,handlers:g,children:j.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Promote,actions:e,children:j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x6s0dn4 x1v8jjaa"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x1yztbdb"},{children:j.jsx(d("WAWebWdsPictoCommunitiesHeartIcon.react").WdsPictoCommunitiesHeartIcon,{width:130})})),j.jsx("div",babelHelpers["extends"]({className:"x1yztbdb x2b8uid"},{children:j.jsx(d("WAWebEmojiText.react").EmojiText,{className:"x1603h9y x1u7k74 xk50ysn",text:h._(/*BTDS*/"__JHASH__QrtI6jEPCg3__JHASH__")})})),j.jsx("div",babelHelpers["extends"]({className:"xg0cujg"},{children:j.jsx("div",babelHelpers["extends"]({className:"x1f6kntn"},{children:f}))}))]}))})})}a.displayName=a.name+" [from "+f.id+"]";function k(){return m("communities/learning")}var l="https://www.whatsapp.com";function m(a){return l+"/"+a+"?lang="+c("WAWebL10N").getNormalizedLocale()}g["default"]=a}),226);
__d("WAWebCommunityAdminPromotionNotificationFlow.react",["$InternalEnum","WALogger","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCommunityAdminPromotionNotificationPopup.react","WAWebCommunityAdminSelfDemotePopup.react","WAWebCommunityLogEvents","WAWebCommunityPromoteDemotePopups.react","WAWebModalManager","WAWebModifyParticipantsGroupAction","WAWebNux","WAWebWamEnumCadminDemoteOriginType","WAWebWamEnumCadminDemoteResultType","react","useWAWebFlow","useWAWebNux"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error sending demote community participants iq"]);i=function(){return a};return a}var j=h||c("react"),k=b("$InternalEnum").Mirrored(["PromotionNotification","Demote"]);function a(a){var b=a.communityMetadata;a=d("WAWebNux").getCommunityAdminPromotionNuxKey(b.id.toString());a=c("useWAWebNux")(a);var e=a[2];a=d("useWAWebFlow").useFlow(k.PromotionNotification);var f=a[0],g=a[1];if(g.step==null)return null;var h;switch(g.step){case k.PromotionNotification:a=function(){g.push(k.Demote)};var l=function(){e(),g.end()};h=j.jsx(c("WAWebCommunityAdminPromotionNotificationPopup.react"),{onDemote:a,onContinue:l});break;case k.Demote:var m=d("WAWebChatCommunityUtils").isCommunitySuperAdmin(d("WAWebChatCollection").ChatCollection.get(b.id)),n=function(a){d("WAWebCommunityLogEvents").logCadminDemoteEvent(d("WAWebWamEnumCadminDemoteOriginType").CADMIN_DEMOTE_ORIGIN_TYPE.PROMOTION_NOTIFICATION,a,b.participants.getAdmins().length===1||m)},o=function(a){a===void 0&&(a=!1),n(a?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_CANCEL:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.CANCEL),d("WAWebModalManager").ModalManager.close()};a=function a(c){c===void 0&&(c=!1);e();var f=b.participants.getMeParticipant(),h=d("WAWebChatCollection").ChatCollection.get(b.id);f&&h&&(f.contact.pendingAction++,d("WAWebModifyParticipantsGroupAction").demoteCommunityParticipants(h,[f]).then(function(){n(c?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_SUCCESS:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.SUCCESS)})["catch"](function(b){d("WALogger").WARN(i()).verbose().devConsole(b).sendLogs("community-admin-self-demote-failed"),n(c?d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.RETRY_FAILURE:d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebCommunityPromoteDemotePopups.react").CommunityAdminDemoteErrorPopup,{onParticipantDemote:function(){return a(!0)},onCancel:function(){return o(!0)},isMe:!0}))})["finally"](function(){f.contact.pendingAction--}));c?d("WAWebModalManager").ModalManager.close():g.end()};l=function(){n(d("WAWebWamEnumCadminDemoteResultType").CADMIN_DEMOTE_RESULT_TYPE.FAILURE),g.pop()};h=j.jsx(c("WAWebCommunityAdminSelfDemotePopup.react"),{onDemote:a,onCancel:o,onFailure:l,isCommunitySuperAdmin:m,parentGroupChat:d("WAWebChatCollection").ChatCollection.get(b.id)});break}return j.jsx(f,{flow:g,children:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCommunityExistingGroupConfirmationPopup.react",["fbt","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.communityName,e=a.groupCount,f=a.onContinue;a=b!=null?h._(/*BTDS*/"__JHASH__15SrpYV2OTc__JHASH__",[h._plural(e),h._param("community-name",j.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))]):h._(/*BTDS*/"__JHASH__kdAMm48oMlX__JHASH__",[h._plural(e)]);b=function(){d("WAWebModalManager").ModalManager.close()};e=function(){f(),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:e,onCancel:b,okText:c("WAWebFbtCommon")("Continue"),children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityExistingGroupsConfirmationDrawer.react",["fbt","WAWebButton.react","WAWebChat.react","WAWebChatCollection","WAWebCommunityAddGroupConfirmationPopup.react","WAWebCommunityExistingGroupConfirmationPopup.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebFlexItem.react","WAWebModalManager","WAWebSettingsIcon.react","WAWebText.react","WAWebToastbar.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={header:{maxWidth:"x55n99s",textAlign:"x2b8uid",lineHeight:"x1evy7pa",$$css:!0},section:{maxWidth:"x13qrzjo",$$css:!0},disclaimerText:{textAlign:"x2b8uid",lineHeight:"x16h55sf",$$css:!0},toastbar:{position:"xixxii4",justifyContent:"xl56j7k",$$css:!0},row:{width:"xh8yej3",justifyContent:"x1qughib",$$css:!0},column:{width:"xh8yej3",$$css:!0}};function l(a){a=a.onClick;return j.jsx(d("WAWebToastbar.react").WAWebToastbar,{dismissible:!1,wrapperXstyle:k.toastbar,children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,testid:void 0,children:h._(/*BTDS*/"__JHASH__mD_BUzTdnrB__JHASH__")})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.isCommunityAdmin;a=a.selectedGroups;var e=null;b?e=a.length===1?h._(/*BTDS*/"__JHASH__oi22ZeJ_QOv__JHASH__"):h._(/*BTDS*/"__JHASH__jXayA_3eUKp__JHASH__"):e=a.length===1?h._(/*BTDS*/"__JHASH__qLFaNN8h5s9__JHASH__"):h._(/*BTDS*/"__JHASH__0ngjnh0_QhU__JHASH__");return j.jsx(c("WAWebFlexItem.react"),{align:"center",xstyle:[k.section,d("WAWebUISpacing").uiMargin.top8,d("WAWebUISpacing").uiPadding.bottom30,d("WAWebUISpacing").uiPadding.top10],children:j.jsxs(d("WAWebText.react").WAWebTextSmall,{color:"secondary",xstyle:k.disclaimerText,children:[e," "]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.communityName,f=a.isCommunityAdmin,g=a.isParentGroupClosed,i=a.onBack,n=a.onGroupPermissions,o=a.onSubmit,p=a.parentGroupId,q=a.selectedGroups;a=function(){return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"start",xstyle:[d("WAWebUISpacing").uiMargin.bottom16,k.column],children:q.map(function(a){return j.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:k.row,align:"center",children:[j.jsx(c("WAWebFlexItem.react"),{grow:0,children:j.jsx(d("WAWebChat.react").ChatOrContact,{theme:"plain",chat:d("WAWebChatCollection").ChatCollection.assertGet(a.id),mode:d("WAWebChat.react").Mode.INFO,noContext:!0,doNotBoldUnread:!0})}),j.jsx(d("WAWebButton.react").WAWebButtonPlainWhite,{icon:d("WAWebSettingsIcon.react").SettingsIcon,onClick:function(){return n(a.id)},ariaLabel:h._(/*BTDS*/"__JHASH__UCQkJmM5XcH__JHASH__")})]},a.id.toString())})})};var r=function(){void o(q)},s=function(){!f?d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebCommunityAddGroupConfirmationPopup.react"),{selectedGroups:q,onOK:function(){d("WAWebModalManager").ModalManager.close(),r()},onCancel:function(){return d("WAWebModalManager").ModalManager.close()}})):g?r():d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebCommunityExistingGroupConfirmationPopup.react"),{onContinue:r,communityName:e,groupCount:q.length}))},t=h._(/*BTDS*/"__JHASH__xseqONP2v0z__JHASH__",[h._plural(q.length,"group-count"),h._param("community-name",e)]);return j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:i}),j.jsx(c("WAWebDrawerBody.react"),{ref:b,children:j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[(i=d("WAWebUISpacing")).uiMargin.horiz40,i.uiMargin.bottom40],children:[j.jsx(c("WAWebFlexItem.react"),{align:"center",xstyle:i.uiMargin.top30,children:j.jsx(d("WAWebDetailImage.react").DetailImage,{id:p,size:104,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:d("WAWebDetailImage.react").DetailImageShape.Squircle})}),j.jsx(d("WAWebText.react").WAWebTextLarge,{xstyle:[i.uiMargin.top20,i.uiMargin.horizAuto,i.uiMargin.bottom0,k.header],children:t}),j.jsx(m,{isCommunityAdmin:f,selectedGroups:q}),a()]})})}),j.jsx(l,{onClick:s})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityExistingGroupsDrawer.react",["fbt","WAAbortError","WALogger","WANullthrows","WAPromiseRaceAbort","WAWebArrowForwardIcon.react","WAWebChatCollection","WAWebChatModel","WAWebChatParticipantList.react","WAWebCommunityGatingUtils","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebFbtCommon","WAWebFlatListContainer.react","WAWebFlatListController","WAWebFocusIndicator","WAWebGroupGatingUtils","WAWebGroupMetadataCollection","WAWebGroupType","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModalManager","WAWebMultiSelectChatList.react","WAWebMultiSelection","WAWebNameGroupModal.react","WAWebNoop","WAWebRichTextField.react","WAWebRound.react","WAWebSetSubjectGroupAction","WAWebSingleSelection","WAWebSpinner.react","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","asyncToGeneratorRuntime","lodash","react","stylex","useLazyRef","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["name_group_modal:onSetSubject failed"]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),n=e.useEffect,o=e.useRef,p=e.useState,q={drawerSection:{zIndex:"xhtitgo",display:"x78zum5",justifyContent:"x1l1ennw",paddingBottom:"x1gan7if",marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0},paragraph:{paddingTop:"x1p5oq8j",paddingInlineEnd:"x64bnmy",paddingBottom:"xwxc41k",paddingInlineStart:"x13jy36j",fontSize:"x1f6kntn",lineHeight:"x37zpob",textAlign:"x2b8uid",color:"x16cd2qt",backgroundColor:"x150wa6m",borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xcsjwe9",overflowWrap:"x1mzt3pk",$$css:!0},createNewGroupText:{color:"x1eqckd8",$$css:!0}};function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.onBack,g=a.onContinue,i=a.onCreateNewGroup,k=a.addedExistingGroups,r=a.groupsSuggestedByMeToCommunity,s=a.currentSubgroupCount,t=a.isCommunityAdmin,u=a.isCommunityCreation,v=a.isParentGroupClosed,w=a.flowSelectedGroups,x=a.setFlowSelectedGroups,y=u===!0?d("WAWebCommunityGatingUtils").getParentGroupLinkLimitCommunityCreation():d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),z=y-s,A=Array.from(k!=null?k:[]);a=p("");s=a[0];var B=a[1],C=c("useLazyRef")(function(){return new(c("WAWebMultiSelection"))([],function(a){return a.id.toString()})}),D=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.id.toString()})});a=o(null);var E=p(w),F=E[0],G=E[1];E=p([]);var H=E[0],I=E[1];E=p(!0);var J=E[0],K=E[1];E=o(new(c("WAWebFlatListController"))());var L=o(null);n(function(){var a;(a=L.current)==null?void 0:a.triggerFocus()},void 0);var M=function(){K(!0);var a=d("WAWebContactCollection").ContactCollection.getGroupContacts();a=a.filter(function(a){var b=d("WAWebChatCollection").ChatCollection.get(a.id.toString());b=b==null?void 0:(b=b.groupMetadata)==null?void 0:b.participants;return b!=null&&b.iAmAdmin()&&!(k==null?void 0:k.has(a.id))});a=a.filter(function(a){a=c("WAWebGroupMetadataCollection").get(a.id.toString());return(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.DEFAULT||(a==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP});I(a);K(!1)};n(function(){M(),w.forEach(function(a){C.current.setVal(a,!0)})},[]);var N=function(){var a;c("WAWebFocusIndicator").shouldIndicateFocus();(a=L.current)==null?void 0:a.triggerFocus()},O=function(){x(F),g()},P=function(){var a;B("");(a=L.current)==null?void 0:a.clearTextInput()},Q=function(a){C.current.setVal(a,!1),G(C.current.getSelected()),P()},R=function(a,b){Q(b)},S=function(a){a==null?void 0:a.preventDefault(),D.current.setFirst(!0)},T=function(a){D.current.unset();(a=L.current)==null?void 0:a.triggerFocus()},U=c("useWAWebUnmountSignal")(),V=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=a;yield c("WAPromiseRaceAbort")(d("WAWebSetSubjectGroupAction").setGroupSubject(b,a),U)["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))["catch"](function(a){d("WALogger").WARN(l()).devConsole(a)});d("WAWebModalManager").ModalManager.close();G(C.current.getSelected());P()});return function(b,c){return a.apply(this,arguments)}}(),W=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__TRqQJIz5tfr__JHASH__")}))},X=function(a,b){if(F.length>=z&&b)d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:y,isCommunityCreation:u}));else{b=c("WAWebGroupMetadataCollection").get(a.id);var e=(b==null?void 0:b.isUnnamed)===!0;if(e){e=c("WANullthrows")(d("WAWebChatCollection").ChatCollection.get(a.id.toString()));var f=c("WANullthrows")(C.current.list.find(function(b){return b.id.toString()===a.id.toString()})),g=h._(/*BTDS*/"__JHASH__RYurgcrM-Ga__JHASH__");d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebNameGroupModal.react"),{chat:e,subtext:g,onCancel:function(){Q(f),d("WAWebModalManager").ModalManager.close()},onOK:V,editable:b==null?void 0:b.canSetSubject(),editRestrictionInfo:(b==null?void 0:b.restrict)?W:void 0}))}else G(C.current.getSelected()),P()}},Y=function(){var a=c("lodash").differenceWith(H,A,function(a,b){return a.id.equals(b)});return a},Z;F.length>0&&(Z=m.jsx(d("WAWebRound.react").Round,{className:"x1r0gsg0 x11t971q xat24cr xvc5jky",testid:void 0,label:h._(/*BTDS*/"__JHASH__FbbRPselTxy__JHASH__"),onClick:O,children:m.jsx(d("WAWebArrowForwardIcon.react").ArrowForwardIcon,{directional:!0})}));O=function(a){var b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;var e=Boolean(r==null?void 0:r.some(function(b){return b.equals(a.id)}));return b||e};var $=function(a,b){if(!b||!(a instanceof d("WAWebChatModel").Chat))return;b=c("WAWebGroupMetadataCollection").get(a.id.toString());b=(b==null?void 0:b.groupType)===d("WAWebGroupType").GroupType.LINKED_SUBGROUP;if(b){b=(b=a.groupMetadata)==null?void 0:(b=b.getParentGroupChat())==null?void 0:b.formattedTitle;return h._(/*BTDS*/"__JHASH__TkAYfl948fX__JHASH__",[h._param("community-name",m.jsx(d("WAWebEmojiText.react").EmojiText,{text:b}))])}else if(Boolean(r==null?void 0:r.some(function(b){return b.equals(a.id)})))return h._(/*BTDS*/"__JHASH__JzMN274gz_1__JHASH__")},aa=Y();Y=m.jsx(c("WAWebMultiSelectChatList.react"),{ref:a,active:D.current,selections:C.current,flatListController:E.current,onLeaveList:N,searchText:s,maxChats:z,onSelectionChanged:X,chatFilter:function(a){return aa.some(function(b){return b.id.equals(a.id)})},excludeBroadcast:!0,excludeContacts:!0,isCommunityExistingGroupsDrawer:!0,isDisabled:O,customItemSecondaryText:$});H.length>0?!t?a=h._(/*BTDS*/"__JHASH__ehGsQNtOkd9__JHASH__"):v?a=h._(/*BTDS*/"__JHASH__8ztYXgjINzG__JHASH__"):a=h._(/*BTDS*/"__JHASH__1Q_cmGMvFRr__JHASH__"):a=m.jsxs(m.Fragment,{children:[h._(/*BTDS*/"__JHASH__3noVCKm6Oz3__JHASH__")," ",m.jsx(c("WAWebUnstyledButton.react"),{xstyle:q.createNewGroupText,onClick:i,children:h._(/*BTDS*/"__JHASH__rNMa5amjd6Y__JHASH__")})]});X=h._(/*BTDS*/"__JHASH__5dieFWhOI_t__JHASH__");t=(O=h._param("groupcount",F.length,[0]),$=h._param("subgroups-left-to-max",z,[0]),h._(/*BTDS*/"__JHASH__VFxFPqJGZVO__JHASH__",[O,$,h._implicitParam("=m1",m.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._(/*BTDS*/"__JHASH__RIgZ08rd6Yl__JHASH__",[O,$,h._implicitParam("=m2",m.jsx("span",{dir:c("WAWebL10N").LR("ltr","rtl"),children:h._(/*BTDS*/"__JHASH__3Jegr8Q478A__JHASH__",[O,$])}))])}))]));return m.jsxs(c("WAWebDrawer.react"),{ref:e,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:t,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),m.jsxs(c("WAWebDrawerBody.react"),{children:[m.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:q.paragraph,children:a}),J?m.jsx("div",babelHelpers["extends"]({className:"x150wa6m x78zum5 xl56j7k x4i7bpe xyri2b x1sgudl8 x1c1uobl"},{children:m.jsx(d("WAWebSpinner.react").Spinner,{})})):m.jsxs(m.Fragment,{children:[m.jsxs("div",babelHelpers["extends"]({className:"xhig867 xsag5q8 xizuyw3 x10wh9bi xpm28yp x8viiok x1o7cslx x150wa6m"},{children:[F.length>0&&m.jsx("div",babelHelpers["extends"]({"data-list-scroll-container":!0},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.top25),{children:m.jsx(c("WAWebChatParticipantList.react"),{theme:"list-names",contacts:F,onDelete:R,onFocusSearch:N})})),m.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:{down:S},onFocus:T,children:m.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,title:X,ref:L,value:s,showRemaining:!0,onChange:function(a){a=a.text;return B(a)},placeholder:X,maxLength:d("WAWebGroupGatingUtils").getGroupMaxSubject(),focusOnMount:!0})})]})),m.jsx(c("WAWebFlatListContainer.react"),{className:"x1n2onr6 x1iyjqo2 xs83m0k x18xmwgd x6ikm8r x1odjw0f x150wa6m",flatListControllers:[E.current],children:Y})]}),m.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",xstyle:q.drawerSection,children:Z})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCommunityGeneralChatFailedParticipantsModal.react",["fbt","WAWebConfirmPopup.react","WAWebContactCollection","WAWebFbtCommon","WAWebModalManager","WAWebWidFactory","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function k(a){var b;a=a.reduce(function(a,b){var c=d("WAWebContactCollection").ContactCollection.get(b);c!=null&&c.shortName?a.push(c.shortName):c!=null&&c.name?a.push(c.name):a.push(d("WAWebWidFactory").createWid(b).user);return a},[]);a.length===1?b=h._(/*BTDS*/"__JHASH__RHrqbslj_d___JHASH__",[h._param("participant_name_0",a[0])]):a.length===2?b=h._(/*BTDS*/"__JHASH__2yWSpjItYBr__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1])]):a.length===3?b=h._(/*BTDS*/"__JHASH__mTWdq-rcWPJ__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2])]):b=h._(/*BTDS*/"__JHASH__aXi3Y5yhx68__JHASH__",[h._param("participant_name_0",a[0]),h._param("participant_name_1",a[1]),h._param("participant_name_2",a[2]),h._param("leftover_participant_count",a.length-3)]);return b}function a(a){a=a.failedParticipantJids;a=k(a);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a})}a.displayName=a.name+" [from "+f.id+"]";g.GeneralChatFailedParticipantsModal=a}),226);
__d("WAWebCommunitySubgroupComparator",[],(function(a,b,c,d,e,f){function a(a,b){if(a.announcementGroup===!0)return-1;return b.announcementGroup===!0?1:a.name.toLowerCase().localeCompare(b.name.toLowerCase())}f.SubgroupComparator=a}),66);
__d("WAWebCommunityHomeGroupsManager.react",["fbt","WANullthrows","WAWebAnnouncementSpeakerIcon.react","WAWebCellFrame.react","WAWebChatCollection","WAWebCommunityCells.react","WAWebCommunityGatingUtils","WAWebCommunityGetParticipantInfoText","WAWebCommunityRemoveSubgroup","WAWebCommunitySubgroupComparator","WAWebCommunitySubgroupsLimitReachedPopup.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEmojiText.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebGroupMetadataCollection","WAWebGroupType","WAWebL10N","WAWebModalManager","WAWebNavigableFlatList.react","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebRoundShape.react","WAWebSingleSelection","WAWebSpinner.react","WAWebSquircleIcon.react","WAWebText.react","WAWebUISpacing","WAWebUnjoinedSubgroupMetadataCollection","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","react","useLazyRef","useWAWebFocusOnMount","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useMemo,m=b.useState,n=d("WAWebCommunityCells.react").RemoveButtonFactory(),o={icon:{height:"x112a4uq",width:"x15jighw",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},announcementIcon:{backgroundColor:"x13vkxft",$$css:!0},announcementSpeaker:{color:"xzqyxu6",$$css:!0},communitySettingsButton:{color:"x1n68mz9",$$css:!0},communitySettingsSection:{backgroundColor:"x15g3fpr",$$css:!0}},p=k.jsx(c("WAWebSquircleIcon.react"),{xstyle:[o.icon,o.announcementIcon],transparent:!0,children:k.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,{directional:!0,height:40,width:40,iconXstyle:o.announcementSpeaker})}),q=function(a){var b,e=d("WAWebChatCollection").ChatCollection.get(a.toString());e?(b=c("WANullthrows")(e.groupMetadata),e=e.title()):(b=c("WAWebUnjoinedSubgroupMetadataCollection").assertGet(a.toString()),e=b.subject);return[b,e]};function r(a){var b=a.data,e=b.itemKey,f=b.parentId,g=b.name,i=b.icon,j=b.secondary,l=b.showRemove,o=b.subgroupWid;b=m(!1);var p=b[0],q=b[1];b=d("WAWebChatCollection").ChatCollection.get(e);e=d("useWAWebModelValues").useOptionalModelValues(b,["formattedTitle"]);var r=(e=e==null?void 0:e.formattedTitle)!=null?e:g;(b==null?void 0:(e=b.groupMetadata)==null?void 0:e.groupType)===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP&&(r=h._(/*BTDS*/"__JHASH__x2ZQLkFbyM5__JHASH__").toString());g=function(){d("WAWebCommunityRemoveSubgroup").handleRemoveSubgroup({parentId:f,removedSubgroupWid:o,removedSubgroupTitle:r,setLoading:q})};return k.jsx(c("WAWebCellFrame.react"),{primary:k.jsx(d("WAWebEmojiText.react").EmojiText,{text:r,ellipsify:!0}),image:i,secondary:j,detail:l&&(p?k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:k.jsx(d("WAWebSpinner.react").Spinner,{size:18,stroke:6,color:"highlight"})}):k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:k.jsx(n,{onClick:g,active:a.active,subgroup:o,groupName:r})}))})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e,f,e,f,g=a.joinedSubgroups,i=a.unjoinedSubgroups,j=a.currentSubgroupCount,m=a.onNewGroupFlow,n=a.onExistingGroupFlow,s=a.onCommunitySettingsClick,t=a.onBack,u=a.parentId,v=d("WAWebCommunityGatingUtils").getParentGroupLinkLimit(),w=c("useLazyRef")(function(){return new(c("WAWebSingleSelection"))([],function(a){return a.itemKey})});a=c("useWAWebFocusOnMount")();var x=d("useWAWebModelValues").useOptionalModelValues(c("WAWebGroupMetadataCollection").get(u),["allowNonAdminSubGroupCreation","participants"]),y=function(){d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebCommunitySubgroupsLimitReachedPopup.react"),{maxSubgroups:v}))},z=function(){j>=v?y():n()},A=function(){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}j>=v?y():m()},B=l(function(){return[].concat(g,i).map(function(a){var b=q(a),e=b[0];b=b[1];if(e.defaultSubgroup===!0)return{itemKey:a.toString(),subgroupWid:a,parentId:u,name:b,icon:p,secondary:null,announcementGroup:!0,showRemove:!1};var f=k.jsx(d("WAWebDetailImage.react").DetailImage,{size:40,shape:d("WAWebDetailImage.react").DetailImageShape.Circle,id:a,hiddenSubgroupIcon:"chat-list"}),g;!e.participants.iAmMember()?g=h._(/*BTDS*/"__JHASH__4CntH5CxPUe__JHASH__"):e.participants!=null?g=d("WAWebCommunityGetParticipantInfoText").getParticipantInfoText(e.participants):g=h._(/*BTDS*/"__JHASH__mOyFeOrHiA___JHASH__",[h._param("subject",b)]);return{name:b,subgroupWid:a,parentId:u,itemKey:a.toString(),icon:k.jsx(c("WAWebRoundShape.react"),{xstyle:o.icon,transparent:!0,children:f}),secondary:g,announcementGroup:!1,showRemove:(e=x==null?void 0:x.participants.iAmAdmin())!=null?e:!1}}).sort(d("WAWebCommunitySubgroupComparator").SubgroupComparator)},[g,i,u,x==null?void 0:x.participants]),C=l(function(){return B.map(function(a){var b=a.showRemove;a=a.subgroupWid;if(b)return{itemKey:"remove-button-"+a.toString()}}).filter(Boolean)},[B]);w.current.init(C);C=(C=x==null?void 0:x.participants.iAmAdmin())!=null?C:!1;var D=c("WAWebL10N").getNormalizedLocale();D=D==="ar"||D==="fa"?"rtl":"ltr";D=C?(e=h._param("groupcount",j,[0]),f=h._param("maxsubgroups",v,[0]),h._(/*BTDS*/"__JHASH__q7K06w8FEdW__JHASH__",[e,f,h._implicitParam("=m1",k.jsx("span",{dir:D,children:h._(/*BTDS*/"__JHASH__BYch2DVTzTr__JHASH__",[e,f,h._implicitParam("=m2",k.jsx("span",{dir:D,children:h._(/*BTDS*/"__JHASH__F5CIHz4Q_c3__JHASH__",[e,f])}))])}))])):(e=h._param("groupcount",j,[0]),f=h._param("maxsubgroups",v,[0]),h._(/*BTDS*/"__JHASH__Dhv9ZKXCDXc__JHASH__",[e,f,h._implicitParam("=m1",k.jsx("span",{dir:D,children:h._(/*BTDS*/"__JHASH__MLeJ1cTZ7Uc__JHASH__",[e,f,h._implicitParam("=m2",k.jsx("span",{dir:D,children:h._(/*BTDS*/"__JHASH__X21PnJqHSi-__JHASH__",[e,f])}))])}))]));e=(x==null?void 0:x.allowNonAdminSubGroupCreation)===!0;f=k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getMemberAddedGroupsUrl(),children:c("WAWebFbtCommon")("Learn more")});C?C=e?h._(/*BTDS*/"__JHASH__feDtcqhLjlf__JHASH__",[h._implicitParam("=m2",k.jsx(c("WAWebUnstyledButton.react"),{onClick:s,xstyle:o.communitySettingsButton,children:h._(/*BTDS*/"__JHASH__p2cEmMjgdxE__JHASH__")}))]):h._(/*BTDS*/"__JHASH__hE_dwaBZNdL__JHASH__",[h._implicitParam("=m2",k.jsx(c("WAWebUnstyledButton.react"),{onClick:s,xstyle:o.communitySettingsButton,children:h._(/*BTDS*/"__JHASH__cDv6z425hcJ__JHASH__")}))]):C=e?h._(/*BTDS*/"__JHASH__kcfz_unpYTO__JHASH__",[h._param("learn-more",f)]):h._(/*BTDS*/"__JHASH__D84G_FsDXAw__JHASH__",[h._param("learn-more",f)]);s=d("WAWebCommunityGatingUtils").memberAddedGroupsM1Enabled()?k.jsx(c("WAWebDrawerSection.react"),{xstyle:[o.communitySettingsSection,d("WAWebUISpacing").uiMargin.all30,d("WAWebUISpacing").uiMargin.top0],shadow:!1,children:k.jsx(d("WAWebText.react").WAWebTextMuted,{children:C})}):null;return k.jsx("div",{role:"complementary",ref:a,tabIndex:-1,"aria-label":h._(/*BTDS*/"__JHASH__RWcgaXSdSge__JHASH__"),children:k.jsxs(c("WAWebDrawer.react"),{ref:b,testid:void 0,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:D,titleStr:D,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:t}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{children:[k.jsx(d("WAWebCommunityCells.react").CreateNewGroupCell,{onClick:A}),k.jsx(d("WAWebCommunityCells.react").AddExistingGroupsCell,{onClick:z})]}),s,k.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__60ca9S2FyDW__JHASH__"),testid:void 0,children:k.jsx(d("WAWebNavigableFlatList.react").NavigableFlatList,{selection:w.current,ariaLabel:h._(/*BTDS*/"__JHASH__o-RcHp0pI8f__JHASH__"),listData:B,onRenderItem:function(a){return k.jsx(r,{data:a,active:w.current})},rotateList:!0})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g.CommunityHomeGroupsManager=a}),226);
__d("WAWebMultiDeviceIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="multi-device";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=16;m=22;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 22 16",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M3.66667 2.49984H20.1667V0.666504H3.66667C2.65833 0.666504 1.83333 1.4915 1.83333 2.49984V12.5832H0V15.3332H12.8333V12.5832H3.66667V2.49984ZM21.0833 4.33317H15.5833C15.0792 4.33317 14.6667 4.74567 14.6667 5.24984V14.4165C14.6667 14.9207 15.0792 15.3332 15.5833 15.3332H21.0833C21.5875 15.3332 22 14.9207 22 14.4165V5.24984C22 4.74567 21.5875 4.33317 21.0833 4.33317ZM20.1667 12.5832H16.5V6.1665H20.1667V12.5832Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MultiDeviceIcon=a}),98);
__d("WAWebContactMsgInfoDrawer.react",["fbt","WAQplTypes","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatContactMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebEphemeralFbtKic","WAWebFrontendMsgGetters","WAWebKeepInChatIcon.react","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMicIcon.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebSpinner.react","WAWebStatusDblcheckIcon.react","WAWebStatusPttIcon.react","WAWebStatusVideoIcon.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebViewOnceViewedIcon.react","WAWebWamEnumUiActionType","WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","WAWebWrapper.react","react","useLazyRef","useWAWebForceUpdate","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0}};function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.msg;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getStar,b.getType,b.getIsGif,b.getIsViewOnce,b.getLabels,b.getNumTimesForwarded,b.getIsFrequentlyForwarded,b.getAgendId,b.getT,b.getIsMdHistoryMsg,b.getKicSender,b.getKicTimestampMs,b.getIsKept,b.getLatestEditMsgKey]);var g=b[0];b[1];var i=b[2];b[3];var j=b[4],p=b[5];b[6];b[7];var q=b[8],r=b[9],s=b[10],t=b[11],u=b[12],v=b[13];b=b[14];var w=d("WAWebFrontendMsgGetters").getChat(f),x=c("useWAWebUIM")(),y=c("useWAWebUnmountSignal")(),z=m(null),A=m(null),B=d("WAWebWamMsgUtils").msgIsLid(f,w.id),C=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:B})}),D=n(void 0),E=D[0],F=D[1];D=n(!1);var G=D[0],H=D[1];D=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(E==null?void 0:E.played,["add","remove"],D);d("useWAWebListener").useListener(E==null?void 0:E.read,["add","remove"],D);d("useWAWebListener").useListener(E==null?void 0:E.delivery,["add","remove"],D);d("useWAWebListener").useListener(f,"revoked",function(){x==null?void 0:x.requestDismiss()});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(g)&&(x==null?void 0:x.requestDismiss())});d("useWAWebListener").useListener(f,"change:latestEditMsgKey",function(){return x==null?void 0:x.requestDismiss()});var I=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");l(function(){var a;d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,{annotations:{bool:{is_premium_subscriber:I}}});d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_start");d("WAWebMsgInfoCollection").MsgInfoCollection.find(g).then(function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,"datasource_end");if(y.aborted){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.CANCEL);return}F(a);d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.SUCCESS)})["catch"](function(){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerEnd(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_MESSAGE_INFO_VIEW,d("WAQplTypes").QuickLogActionType.FAIL),H(!0),d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__7Oc8AbKOOJ2__JHASH__"),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=z.current)==null?void 0:a.getContainer();i===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[b]);l(function(){var a=C.current;a&&(Object.assign(a,d("WAWebWamGroupMetadataMetricUtils_WORKER_INCOMPATIBLE").getGroupCountMetricsFromChatWid(w==null?void 0:w.id)),a.markUiActionT(),a.commit(),C.current=void 0);d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(q)},[]);D=function(a,b){b===void 0&&(b=!1);return a===g&&(b?!0:(a=A.current)==null?void 0:a.getMsgComponentRef())};b=function(){x==null?void 0:x.requestDismiss()};var J,K;if(E){var L=[];if(v&&t!=null&&u!=null){v=u/1e3;u=d("WAWebEphemeralFbtKic").getKeptByString(t);t=k.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1xegmmw xq22nx5 x2b8uid xmziwt1"},{children:k.jsx(d("WAWebKeepInChatIcon.react").KeepInChatIcon,{iconXstyle:o.svg})}));L.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:u,t:v,icon:t},"keep-in-chat"))}if(!s){u=d("WAWebMsgGetters").getIsAckPlayable(f);if(u||j){K=u?h._(/*BTDS*/"__JHASH__Qa0i-ERxDlE__JHASH__"):h._(/*BTDS*/"__JHASH__SN5hR4eRqbJ__JHASH__");v=E.played.head();t=v==null?void 0:v.t;s=k.jsx(d("WAWebViewOnceViewedIcon.react").ViewOnceViewedIcon,{xstyle:o.statusBlue,iconXstyle:o.svg});u&&!j&&(f.type===d("WAWebMsgType").MSG_TYPE.PTT?s=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?k.jsx(d("WAWebMicIcon.react").MicIcon,{xstyle:o.statusBlue,iconXstyle:o.svg}):k.jsx(d("WAWebStatusPttIcon.react").StatusPttIcon,{xstyle:o.statusBlue,iconXstyle:o.svg}):f.type===d("WAWebMsgType").MSG_TYPE.PTV&&(s=k.jsx(d("WAWebStatusVideoIcon.react").StatusVideoIcon,{xstyle:o.statusBlue,iconXstyle:o.svg})));v=k.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1xegmmw xq22nx5 x2b8uid xmziwt1"},{children:s}));L.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:u&&!j?h._(/*BTDS*/"__JHASH__itnUQY2nXDN__JHASH__"):h._(/*BTDS*/"__JHASH__BfYDsML-wCA__JHASH__"),t:t,icon:v},"played"))}s=E.read.head();u=s==null?void 0:s.t;j=k.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1xegmmw xq22nx5 x2b8uid xmziwt1"},{children:k.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:o.ack,iconXstyle:o.svg})}));K=(t=K)!=null?t:h._(/*BTDS*/"__JHASH__y_zHyTRLHKF__JHASH__");L.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:K,t:u,icon:j},"read"));v=E.delivery.head();s=v==null?void 0:v.t;t=k.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1xegmmw xq22nx5 x2b8uid xmziwt1"},{children:k.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{iconXstyle:o.svg})}));L.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:h._(/*BTDS*/"__JHASH__9NgBBEkLENG__JHASH__"),t:s,icon:t},"delivery"))}if(I&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&q!=null){v=(j=(u=d("WAWebAgentCollection").AgentCollection.get(q))==null?void 0:u.name)!=null?j:"";s=r;L.push(k.jsx(c("WAWebChatContactMsgInfoCell.react"),{title:v,t:s,icon:k.jsx("span",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1xegmmw xq22nx5 x2b8uid xmziwt1"},{children:k.jsx(d("WAWebMultiDeviceIcon.react").MultiDeviceIcon,{iconXstyle:o.svg})}))},"agent"))}J=k.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:L})}var M;!E&&!G&&(M=k.createElement("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5"},{key:"spinner"}),k.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})));t=null;p&&p.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(t=k.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:k.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:p})}));return k.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"striped",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__6ZxqC6H3okB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,focusBackOrCancel:!0,onCancel:b}),k.jsx(c("WAWebMsgPreview.react"),{ref:z,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:k.jsx(d("WAWebWrapper.react").Wrapper,{msg:f,ref:A,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:D,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick})}),k.jsxs(c("WAWebDrawerBody.react"),{children:[t,k.jsxs("div",babelHelpers["extends"]({className:"x2lah0s x889kno x1w3bhph"},{children:[M,J]}))]})]},"message-info-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebContactMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebContactMsgInfoDrawer.react","WAWebFrontendMsgGetters","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["MessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.MessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.MessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebContactMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebContextualBanner.react",["WAWebActionLinkButterbar.react","WAWebBotLightBulbIcon.react","WAWebExperimentIcon.react","WAWebFbtCommon","WAWebFlex.react","WAWebSvgButton.react","WAWebUISpacing","WAWebXIcon.react","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k=30,l={action:{cursor:"x1ypdohk",$$css:!0},icon:{minWidth:"x17s4nb9",$$css:!0},bannerWrapper:{flex:"x1okw0bk",overflowX:"x6ikm8r",overflowY:"x10wlt62",transformOrigin:"x1dp6rp6",backgroundColor:"x13x2ugz",$$css:!0},banner:{minHeight:"x1wjjzik",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"xk1nh2v",borderInlineEndColor:"xjm5g7b",borderBottomColor:"xsbzixq",borderInlineStartColor:"x134z7cn",backgroundColor:"xjp690a",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",$$css:!0},dismiss:{color:"x197um1m",minWidth:"xnei2rj",$$css:!0},text:{fontSize:"x1f6kntn",lineHeight:"x17fgdl5",color:"xzwifym",$$css:!0}};function m(a){a=a.name;switch(a){case"experiment":return j.jsx(d("WAWebExperimentIcon.react").ExperimentIcon,{width:k});default:return j.jsx(d("WAWebBotLightBulbIcon.react").BotLightBulbIcon,{width:k})}}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.onClick,f=a.onDismiss,g=a.canShow;a=a.config;var h=a.actionText,k=a.dismissable,n=a.iconName,o=a.showIcon;a=a.title;var p=function(){e()},q=function(){f()};q=j.jsx(c("WAWebSvgButton.react"),{"aria-label":c("WAWebFbtCommon")("Close"),Icon:d("WAWebXIcon.react").XIcon,onClick:q});n=o?j.jsx(m,{name:n}):null;a=a!=null?j.jsx("div",babelHelpers["extends"]({className:"x6prxxf xdod15v xzwifym"},{children:a})):null;h=h!=null?j.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(l.text,d("WAWebUISpacing").uiMargin.top5),{children:j.jsx(c("WAWebActionLinkButterbar.react"),{children:h})})):null;return!g?null:j.jsx("div",babelHelpers["extends"]({ref:b},(i||(i=c("stylex"))).props(l.bannerWrapper,d("WAWebUISpacing").uiPadding.horiz25,d("WAWebUISpacing").uiPadding.vert10),{children:j.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[l.banner,d("WAWebUISpacing").uiPadding.all12],children:[j.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:[l.action,o&&l.icon,d("WAWebUISpacing").uiPadding.end10],children:n&&j.jsx("div",{onClick:p,"aria-hidden":!0,children:n})}),j.jsx(d("WAWebFlex.react").FlexItem,{grow:1,xstyle:[l.action,d("WAWebUISpacing").uiMargin.end10],children:j.jsxs("div",{onClick:p,tabIndex:0,role:"button",children:[a,e&&h]})}),k&&j.jsx(d("WAWebFlex.react").FlexItem,{grow:0,xstyle:l.dismiss,children:q})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebUserPrefsContextualBanner",["$InternalEnum","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(a,b,c,d,e,f,g){var h=b("$InternalEnum")({VIEWED:0,DISMISSED:1,CLICKED:2,SYNCED:9});function a(a){var b=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES);if(b==null||typeof b!=="object")return null;b=b[String(a)];a=typeof b==="object"?b==null?void 0:b.state:null;return typeof a==="number"?h.cast(a):null}function i(a,b){var e=c("WAWebUserPrefsStore").getUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES);if(e==null||typeof e!=="object"){var f;c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES,(f={},f[String(a)]={state:b},f))}c("WAWebUserPrefsStore").setUser(d("WAWebUserPrefsKeys").KEYS.BANNER_STATES,babelHelpers["extends"]({},e,(f={},f[String(a)]={state:b},f)))}function e(a){i(a,null)}g.BannerState=h;g.getBannerState=a;g.setBannerState=i;g.clearBannerState=e}),98);
__d("useWAWebContextualBanner",["WALogger","WATimeUtils","WAWebBannerEventWamEvent","WAWebContextualBannerConfig","WAWebNuxSync","WAWebUserPrefsContextualBanner","WAWebUserPrefsNuxPreferences","WAWebWamEnumBannerOperations","react"],(function(a,b,c,d,e,f,g){var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[banner] invalid end time for "," in config: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[banner] invalid start time for "," in config: ",""]);j=function(){return a};return a}b=h||d("react");var k=b.useCallback,l=b.useMemo;function m(a){var b=a.id,c=a.startT;a=a.endT;var e=d("WATimeUtils").convertISO8601DateFormatToUnixTime(c),f=d("WATimeUtils").convertISO8601DateFormatToUnixTime(a);if(e!=null&&!d("WATimeUtils").isInFuture(e)&&f!=null&&d("WATimeUtils").isInFuture(f))return!0;e==null&&d("WALogger").ERROR(j(),b,c);f==null&&d("WALogger").ERROR(i(),b,a);return!1}function n(a){var b=d("WAWebUserPrefsContextualBanner").getBannerState(a);if(b===d("WAWebUserPrefsContextualBanner").BannerState.SYNCED||b===d("WAWebUserPrefsContextualBanner").BannerState.CLICKED||b===d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED)return!0;b=d("WAWebUserPrefsNuxPreferences").getNuxSyncList();b=b.includes(String(a));if(b){d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.SYNCED);return!0}return!1}var o=function(a){var b=!0;(a==null?void 0:a.condition)!=null&&(b=a.condition());return a!=null&&m(a)&&!n(a.id)&&b};function p(a){switch(a){case d("WAWebUserPrefsContextualBanner").BannerState.CLICKED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.CLICK;case d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.DISMISS;case d("WAWebUserPrefsContextualBanner").BannerState.VIEWED:return d("WAWebWamEnumBannerOperations").BANNER_OPERATIONS.SHOWN;case d("WAWebUserPrefsContextualBanner").BannerState.SYNCED:return null}}function q(a,b){if(!a)return;b=p(b);if(a.metricField&&b){a={bannerType:a.metricField,bannerOperation:b};new(d("WAWebBannerEventWamEvent").BannerEventWamEvent)(a).commit()}}function a(a){var b=l(function(){return new Map(a.map(function(a){return[String(a),d("WAWebContextualBannerConfig").getContextualBannerConfig(a)]}))},[a]),e=k(function(a){return o(b.get(String(a)))},[b]),f=k(function(a){var c=b.get(String(a));c&&(d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.VIEWED),q(c,d("WAWebUserPrefsContextualBanner").BannerState.VIEWED))},[b]),g=k(function(a){var e=b.get(String(a));(e==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").acknowledgeNux(a);d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.CLICKED);q(e,d("WAWebUserPrefsContextualBanner").BannerState.CLICKED)},[b]),h=k(function(a){var e=b.get(String(a));(e==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").acknowledgeNux(a);d("WAWebUserPrefsContextualBanner").setBannerState(a,d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED);q(e,d("WAWebUserPrefsContextualBanner").BannerState.DISMISSED)},[b]),i=k(function(a){var e;((e=b.get(String(a)))==null?void 0:e.syncEnabled)===!0&&void c("WAWebNuxSync").unAcknowledgeNux(a);d("WAWebUserPrefsContextualBanner").clearBannerState(a)},[b]);return[e,f,g,h,i]}g["default"]=a}),98);
__d("WAWebContextualBannerWrapper.react",["WAWebContextualBanner.react","WAWebContextualBannerConfig","WAWebVelocityTransitionGroup","react","useVisibility","useWAWebCallbackOnce","useWAWebContextualBanner"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useCallback,l=b.useState;function a(a){var b=a.bannerListOrderedByPriority;a=c("useWAWebContextualBanner")(b.map(function(a){return a.id}));var e=a[0],f=a[1],g=a[2],h=a[3],i=a[4],m=k(function(){return b.find(function(a){a=a.id;return e(a)})},[b,e]);a=l(m);var n=a[0],o=a[1],p=c("useWAWebCallbackOnce")(f,[n]);a=c("useVisibility")({onVisible:function(){n&&p(n.id)}});f=a[0];var q=k(function(){o(m())},[m]);if(n==null)return;a=j.jsx(c("WAWebContextualBanner.react"),{ref:f,canShow:e(n.id),config:d("WAWebContextualBannerConfig").getContextualBannerConfig(n.id),onClick:function(){g(n.id),n.onClick==null?void 0:n.onClick(),q()},onDismiss:function(){h(n.id),q()},onReset:function(){i(n.id)}});return j.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"butterbar",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebCreatePinDrawer.react",["fbt","WAWebSetPinDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onBack,d=a.ref;a=a.username;var e=h._(/*BTDS*/"__JHASH__DNSzBYhf1eP__JHASH__");return j.jsx(c("WAWebSetPinDrawer.react"),{ref:d,headerText:e,onBack:b,username:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditUsernameDrawer.react",["fbt","WAWebDrawerManager","WAWebSetUsernameDrawer.react","WAWebUsernameManagementDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.contactUsername;a=a.ref;var e=h._(/*BTDS*/"__JHASH__hSbPgWcbmTj__JHASH__"),f=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:b}))};return j.jsx(c("WAWebSetUsernameDrawer.react"),{contactUsername:b,ref:a,onBack:f,headerText:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditUsernamePinDrawer.react",["fbt","WAWebDrawerManager","WAWebSetPinDrawer.react","WAWebUsernamePinManagementDrawer","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.pin,e=a.ref,f=a.username;a=h._(/*BTDS*/"__JHASH__944LCPQr9YH__JHASH__");var g=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebUsernamePinManagementDrawer"),{username:f}))};return j.jsx(c("WAWebSetPinDrawer.react"),{username:f,pin:b!=null?b:void 0,ref:e,headerText:a,onBack:g})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSetUsernamePinAction",["WAWebSetUsernamePinQueryJob","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("WAWebSetUsernamePinQueryJob").setUsernamePinQueryJob(a));return a});return h.apply(this,arguments)}g.setMyUsernamePin=a}),98);
__d("WAWebUsernameStringUtils",["fbt"],(function(a,b,c,d,e,f,g,h){d=/^[A-Za-z0-9_]+$/;e=/[0-9]+$/;function a(){return h._(/*BTDS*/"__JHASH__JYPHBBaKDou__JHASH__")}function b(){return h._(/*BTDS*/"__JHASH__GS3yAktbX0R__JHASH__")}function c(){return h._(/*BTDS*/"__JHASH__b5hUN_XHdBG__JHASH__")}g.USERNAME_AVAILABILITY_REGEX=d;g.USERNAME_PIN_REGEX=e;g.getUsernameInvalidCharAvailabilityMessage=a;g.getUsernameAvailableMessage=b;g.getUsernameUnavailableMessage=c}),226);
__d("WAWebSetPinDrawer.react",["fbt","WAWebButton.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebRichTextField.react","WAWebSetUsernamePinAction","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernamePinManagementDrawer","WAWebUsernameStringUtils","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState;function a(a){var e=a.headerText,f=a.onBack,g=a.pin,i=a.ref,j=a.username;a=l(g);var m=a[0],n=a[1];a=l(!1);var o=a[0],p=a[1],q=function(a){n(a),void r(a)},r=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a.length<3||a.length>6||!d("WAWebUsernameStringUtils").USERNAME_PIN_REGEX.test(a)?p(!1):p(!0)});return function(b){return a.apply(this,arguments)}}();a=function a(){d("WAWebSetUsernamePinAction").setMyUsernamePin(m).then(function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernamePinManagementDrawer"),{username:j}))})["catch"](function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__qxCemVd2Ddo__JHASH__"),action:{actionText:c("WAWebFbtCommon")("Try again"),onAction:function(){a()}}}))})};var s=h._(/*BTDS*/"__JHASH__pn6Ip7rdbPN__JHASH__"),t=k.jsxs(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start12,grow:1,shrink:1,children:[k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"teal",children:h._(/*BTDS*/"__JHASH__b_KzDKUT3jw__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,onChange:function(a){a=a.text;q(a)},theme:"text-input",focusOnMount:!0,value:m,spellCheck:!1,maxLength:6,showValidateIcon:!0,showErrorIcon:o===!1&&m!=null&&(m==null?void 0:m.length)>0})]});return k.jsxs(c("WAWebDrawer.react"),{ref:i,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:e,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebText.react").WAWebTextSmall,{xstyle:d("WAWebUISpacing").uiPadding.all30,textAlign:"center",children:s}),k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiPadding.horiz24,children:t})]}),k.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:a,stretch:!0,disabled:m==null||(m==null?void 0:m.length)===0||o!==!0||m===g,children:h._(/*BTDS*/"__JHASH__mdpOXMni1Wf__JHASH__")})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSetContactUsernameAction",["WAWebContactCollection","WAWebSetUsernameJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(a){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("WAWebContactCollection").ContactCollection.getMeContact();if(b==null)throw c("err")("Failed to retrieve self contact");b=(yield d("WAWebSetUsernameJob").setUsernameQueryJob(a));return b});return h.apply(this,arguments)}g.setMyUsername=a}),98);
__d("WAWebUsernameCreationSuccessModal.react",["fbt","WAWebButton.react","WAWebContactCollection","WAWebContactGetters","WAWebDetailImage.react","WAWebFbtCommon","WAWebFlex.react","WAWebFlexBox.react","WAWebModal.react","WAWebModalManager","WAWebUISpacing","nullthrows","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={container:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",$$css:!0}};function l(a){a=a.text;return j.jsxs(d("WAWebFlexBox.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.bottom24,children:[j.jsx(d("WAWebFlex.react").FlexColumn,{children:j.jsx("li",{})}),j.jsx(d("WAWebFlex.react").FlexColumn,{children:a})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b;a=a.username;var e=c("nullthrows")(d("WAWebContactCollection").ContactCollection.getMeContact());e=d("useWAWebContactValues").useContactValues(e.id,[d("WAWebContactGetters").getId]);e=e[0];var f=h._(/*BTDS*/"__JHASH__j6l69mfbIUc__JHASH__"),g=h._(/*BTDS*/"__JHASH__F3KqM7HZTrZ__JHASH__");a=h._(/*BTDS*/"__JHASH__KBbOeFkLfky__JHASH__",[h._param("username",a)]);return j.jsxs(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Promote,children:[j.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[k.container,(b=d("WAWebUISpacing")).uiMargin.start13,b.uiMargin.end13],children:[j.jsx(d("WAWebFlexBox.react").FlexRow,{xstyle:[b.uiPadding.top20,b.uiMargin.bottom28],children:j.jsx(d("WAWebDetailImage.react").DetailImage,{id:e,size:65})}),j.jsx(d("WAWebFlexBox.react").FlexRow,{xstyle:[b.uiMargin.bottom24,k.container],children:j.jsx("div",babelHelpers["extends"]({className:"x1603h9y x1u7k74 xo1l8bm"},{children:a}))}),j.jsx(l,{text:f}),j.jsx(l,{text:g})]}),j.jsx(d("WAWebFlexBox.react").FlexRow,{xstyle:b.uiPadding.top48,justify:"center",children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{stretch:!0,onClick:function(){return d("WAWebModalManager").ModalManager.close()},children:c("WAWebFbtCommon")("Continue")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSetUsernameDrawer.react",["fbt","WAWebButton.react","WAWebCheckUsernameAvailabilityJob","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFbtCommon","WAWebFlex.react","WAWebMentionsRefreshedIcon.react","WAWebModalManager","WAWebRichTextField.react","WAWebSetContactUsernameAction","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameCreationSuccessModal.react","WAWebUsernameManagementDrawer.react","WAWebUsernameStringUtils","asyncToGeneratorRuntime","react","useLazyRef"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={iconSection:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"x1nhvcw1",alignItems:"x6s0dn4",color:"x16cd2qt",$$css:!0}};function a(a){var e=a.contactUsername,f=a.headerText,g=a.onBack,i=a.ref;a=l(e);var j=a[0],n=a[1];a=l(null);var o=a[0],p=a[1];a=l(!1);var q=a[0],r=a[1];a=l(!1);var s=a[0],t=a[1],u=c("useLazyRef")(function(){return new AbortController()}),v=function(a){var b=a.isAvailable;a=a.isPending;b!=null&&r(b);a!=null&&t(a)},w=function(a){n(a);if(a===e){p(null);v({isAvailable:!1,isPending:!1});return}u.current.abort();u.current=new AbortController();t(!0);p(null);var b=u.current.signal;window.setTimeout(function(){return void x(a,b)},750)},x=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(a.length===0){v({isAvailable:!1,isPending:!1});return}if(!d("WAWebUsernameStringUtils").USERNAME_AVAILABILITY_REGEX.test(a)){v({isAvailable:!1,isPending:!1});p(d("WAWebUsernameStringUtils").getUsernameInvalidCharAvailabilityMessage());return}if(b.aborted)return;try{b=(yield d("WAWebCheckUsernameAvailabilityJob").getUsernameAvailability(a));a=b.isUsernameAvailable;v({isAvailable:a});a||p(d("WAWebUsernameStringUtils").getUsernameUnavailableMessage())}catch(a){v({isAvailable:!1}),p(d("WAWebUsernameStringUtils").getUsernameUnavailableMessage())}v({isPending:!1})});return function(b,c){return a.apply(this,arguments)}}(),y=function(){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__kTvJt-LZhpG__JHASH__"),action:{actionText:c("WAWebFbtCommon")("Try again"),onAction:function(){void z()}}}))},z=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetContactUsernameAction").setMyUsername(j).then(function(a){a&&(t(!1),j!=null&&(d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:j,ref:i})),e==null&&d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebUsernameCreationSuccessModal.react"),{username:j}))))})["catch"](function(){y()})});return function(){return a.apply(this,arguments)}}();a=h._(/*BTDS*/"__JHASH__FQdJVo3MDSe__JHASH__");o=k.jsxs(d("WAWebFlex.react").FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start12,grow:1,shrink:1,children:[k.jsx(d("WAWebText.react").WAWebTextSmall,{color:o==null?"teal":"critical",children:h._(/*BTDS*/"__JHASH__7uc0dME1Utu__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{pending:s,testid:void 0,onChange:function(a){a=a.text;w(a)},theme:"text-input",focusOnMount:!0,value:j,maxLength:30,showRemaining:!0,charLimit:4,spellCheck:!1,error:o!=null&&s===!1?o:null,showValidateIcon:j!==e,showSuccessIcon:j!=null&&(j==null?void 0:j.length)>0,contextMsg:q===!0&&s===!1&&j!==e?d("WAWebUsernameStringUtils").getUsernameAvailableMessage():null})]});return k.jsxs(c("WAWebDrawer.react"),{ref:i,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:g}),k.jsxs(c("WAWebDrawerBody.react"),{children:[k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebText.react").WAWebTextSmall,{xstyle:d("WAWebUISpacing").uiPadding.all30,textAlign:"center",children:a}),k.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiPadding.horiz24,children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:m.iconSection,children:k.jsx(d("WAWebMentionsRefreshedIcon.react").MentionsRefreshedIcon,{width:26,height:26,xstyle:d("WAWebUISpacing").uiMargin.top28})}),o]})]}),k.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:k.jsx(d("WAWebButton.react").WAWebButtonPrimary,{stretch:!0,onClick:z,disabled:j==null||(j==null?void 0:j.length)===0||q!==!0||j===e,children:h._(/*BTDS*/"__JHASH__lexTPyPviYZ__JHASH__")})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebShareUsernameDrawer.react",["fbt","WAWebCheckBox.react","WAWebCopyToClipboard","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerItem.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUsernameManagementDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={drawerItem:{width:"xh8yej3",$$css:!0},usernameLinkContainer:{backgroundColor:"x9zjzsg",borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"xt1ryeb",$$css:!0}};function a(a){var b=a.ref,e=a.username,f=a.usernamePin;a=l(f!=null);var g=a[0],i=a[1];a=f!=null&&g?"#"+f:null;a="wa.me/"+e+(a!=null?a:"");a=l(a);var j=a[0],n=a[1];a=h._(/*BTDS*/"__JHASH__OSdesSJi4CS__JHASH__");var o=h._(/*BTDS*/"__JHASH__ILQoCw41jeB__JHASH__"),p=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:e}))},q=function(){var a=!g;i(a);a=a&&f!=null?"#"+f:null;n("wa.me/"+e+(a!=null?a:""))},r=function(){var a=d("WAWebCopyToClipboard").copyTextToClipboard(j);a&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__9uFYiJRLH_9__JHASH__")}))};return k.jsxs(c("WAWebDrawer.react"),{ref:b,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:p}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.end30,d("WAWebUISpacing").uiMargin.top20],children:k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:m.drawerItem,children:f!=null?k.jsx(c("WAWebDrawerItem.react"),{icon:k.jsx(d("WAWebCheckBox.react").CheckBox,{checked:g,onChange:q}),theme:"privacy",isLastItem:!0,children:k.jsx("div",babelHelpers["extends"]({className:"x1jchvi3 x1wryslj x1iikomf"},{children:o}))}):null})}),k.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:[d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.end30,d("WAWebUISpacing").uiMargin.top5,m.usernameLinkContainer],children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top20,children:k.jsx(d("WAWebText.react").WAWebTextTitle,{children:j})}),k.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top15,children:k.jsx(d("WAWebText.react").WAWebClickableText,{color:"green",onClick:r,"aria-label":h._(/*BTDS*/"__JHASH__kz3SBTmL_ku__JHASH__"),children:h._(/*BTDS*/"__JHASH__ttIEKhkGAhz__JHASH__")})})]})})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ShareUsernameDrawer=a}),226);
__d("WAWebUsernameConversationControlDrawer",["fbt","WAWebCheckBoxRound.react","WAWebContactCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebText.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUsernameManagementDrawer.react","nullthrows","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m={conversationOption:{display:"x1lliihq",paddingTop:"x109j2v6",paddingInlineEnd:"xyri2b",paddingBottom:"x1hhzuzn",paddingInlineStart:"x1c1uobl",$$css:!0}};function n(a){var b,e=a.mainText,f=a.onClick,g=a.selected,h=a.subText;a=a.tabIndex;return k.jsx((b=d("WAWebFlex.react")).FlexRow,{children:k.jsx(c("WAWebUnstyledButton.react"),{onClick:f,tabIndex:a,xstyle:m.conversationOption,children:k.jsxs(b.FlexRow,{children:[k.jsx(b.FlexItem,{align:"center",children:k.jsx(c("WAWebCheckBoxRound.react"),{checked:g,radio:!0,hover:!1,systemUncheckedColor:!0,onChange:f,ariaLabel:e})}),k.jsxs(b.FlexColumn,{xstyle:d("WAWebUISpacing").uiPadding.start20,children:[k.jsx(b.FlexItem,{children:k.jsx("span",babelHelpers["extends"]({className:"x1jchvi3 xdod15v x1rg5ohu xzwifym"},{children:e}))}),k.jsx(b.FlexItem,{children:k.jsx("span",babelHelpers["extends"]({className:"x1f6kntn xdod15v x40yjcy"},{children:h}))})]})]})})})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.conversationControlSetting,e=a.onClick,f=a.username;a=c("nullthrows")(d("WAWebContactCollection").ContactCollection.getMeContact());a=d("useWAWebContactValues").useContactValues(a==null?void 0:a.id,[d("WAWebFrontendContactGetters").getFormattedUsernameOrPhone]);a=a[0];b=l(b);var g=b[0],i=b[1];b=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:f}))};var j=function(a){e(a)},m=h._(/*BTDS*/"__JHASH__TI0RHq3dE7x__JHASH__"),o=h._(/*BTDS*/"__JHASH__KAoMLv5n6jb__JHASH__"),p=h._(/*BTDS*/"__JHASH__43Qzvyye3G3__JHASH__"),q=h._(/*BTDS*/"__JHASH__Ea_yyNUbN2O__JHASH__");return k.jsxs(c("WAWebDrawer.react"),{children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:m,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:b}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebText.react").WAWebTextTitle,{color:"teal",xstyle:[d("WAWebUISpacing").uiPadding.start30,d("WAWebUISpacing").uiPadding.top30],children:o}),k.jsxs(d("WAWebFlex.react").FlexColumn,{xstyle:[d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.top20],children:[k.jsx(n,{tabIndex:-1,mainText:p,selected:g===d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.USERNAME,subText:"@"+f,onClick:function(){i(d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.USERNAME),j(d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.USERNAME)}}),k.jsx(n,{tabIndex:0,mainText:q,subText:a,selected:g===d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.PN,onClick:function(){i(d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.PN),j(d("WAWebUsernameManagementDrawer.react").ConversationControlSettingType.PN)}})]})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameDeleteModal.react",["fbt","WAWebConfirmPopup.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebModalManager","WAWebSetContactUsernameAction","WAWebUISpacing","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var e=a.onDeleteUsername;a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetContactUsernameAction").setMyUsername().then(function(a){a&&(e&&e(),d("WAWebModalManager").ModalManager.close())})["catch"](function(){d("WAWebModalManager").ModalManager.close()})});return function(){return a.apply(this,arguments)}}();var f=function(){d("WAWebModalManager").ModalManager.close()},g=j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFaqUrl(),children:c("WAWebFbtCommon")("Learn more")}),i=h._(/*BTDS*/"__JHASH__g9n_6cAGK4Q__JHASH__");g=h._(/*BTDS*/"__JHASH__2XfS_xBLpXA__JHASH__",[h._param("link to learn more",g)]);return j.jsxs(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._(/*BTDS*/"__JHASH__jEWIW-FlnQs__JHASH__"),okButtonType:"solid-warning",onOK:a,okText:h._(/*BTDS*/"__JHASH__CQP2jy0RmR___JHASH__"),onCancel:f,children:[j.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.bottom20,children:i}),g]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameEditDropdown.react",["fbt","$InternalEnum","WAWebDrawerManager","WAWebDropdownItem.react","WAWebEditUsernameDrawer.react","WAWebFlex.react","WAWebModalManager","WAWebText.react","WAWebUISpacing","WAWebUsernameDeleteModal.react","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=b("$InternalEnum")({CHANGE:"change",DELETE:"delete"}),m={option:{boxSizing:"x9f619",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",color:"xzwifym",cursor:"x1ypdohk",whiteSpace:"xuxw1ft",$$css:!0}};function n(a){var b=a.dropdownItem,e=a.label,f=a.onBack,g=a.optionId,h=a.username;return k.jsx(d("WAWebDropdownItem.react").DropdownItem,{testid:void 0,action:function(){b===l.CHANGE?d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebEditUsernameDrawer.react"),{contactUsername:h})):d("WAWebModalManager").ModalManager.open(k.jsx(c("WAWebUsernameDeleteModal.react"),{onDeleteUsername:f}))},children:k.jsx(d("WAWebFlex.react").FlexRow,{className:(j||(j=c("stylex")))([d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.end32,d("WAWebUISpacing").uiPadding.start24,m.option]),children:k.jsx(d("WAWebText.react").WAWebTextSmall,{color:b===l.DELETE?"critical":"primary",xstyle:d("WAWebUISpacing").uiMargin.start8,children:e})})},g)}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onBack;a=a.username;return k.jsxs(k.Fragment,{children:[k.jsx(n,{onBack:b,username:a,optionId:"option_change_username",dropdownItem:l.CHANGE,label:h._(/*BTDS*/"__JHASH__QlfhF93bhJV__JHASH__")}),k.jsx(n,{onBack:b,username:a,dropdownItem:l.DELETE,optionId:"option_delete_username",label:h._(/*BTDS*/"__JHASH__7m4qkyk5mdr__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameManagementDrawer.react",["fbt","$InternalEnum","WAWebChevronIcon.react","WAWebConnModel","WAWebContactCollection","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerItem.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebDropdown.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebLinkIcon.react","WAWebMenuBar.react","WAWebProfileDrawerLoadable","WAWebProfilePicThumbCollection","WAWebShareUsernameDrawer.react","WAWebStatusMentionsSenderNuxIcon.react","WAWebSvgComponentBase","WAWebText.react","WAWebTextStatusCollection","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUseIsKeyboardUser","WAWebUserPrefsMeUser","WAWebUsernameConversationControlDrawer","WAWebUsernameEditDropdown.react","WAWebUsernamePinInfoDrawer.react","WAWebUsernamePinManagementDrawer","WAWebVelocityTransitionGroup","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useRef,m=e.useState,n=b("$InternalEnum")({USERNAME:"username",PN:"pn"}),o={badge:{marginTop:"xotjm27",$$css:!0},editText:{fontSize:"x1f6kntn",$$css:!0}};function p(a){var b=a.isLastItem,e=a.onClick,f=a.subtitleText;a=a.titleText;return k.jsx(c("WAWebDrawerItem.react"),{title:a,theme:"privacy",isLastItem:b,onClick:e,icon:k.jsx(d("WAWebChevronIcon.react").ChevronIcon,{directional:!0,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,height:21}),children:k.jsx(d("WAWebText.react").WAWebTextSmall,{color:"secondary",children:f})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.username,e=a.usernamePin;a=m(n.USERNAME);var f=a[0],g=a[1];a=h._(/*BTDS*/"__JHASH__14cLdxST4BN__JHASH__");var i=h._(/*BTDS*/"__JHASH__f-ph7dhEQq8__JHASH__"),j=e!=null?h._(/*BTDS*/"__JHASH__3UBOZaPmXSP__JHASH__",[h._param("pin",e)]):h._(/*BTDS*/"__JHASH___KTjxQAaSwF__JHASH__"),l=function(a){g(a)};return k.jsxs(c("WAWebDrawerSection.react"),{theme:"padding-no-vertical",shadow:!1,animation:!1,xstyle:d("WAWebUISpacing").uiMargin.top20,children:[k.jsx(p,{onClick:function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernameConversationControlDrawer"),{username:b,conversationControlSetting:f,onClick:l}))},isLastItem:!1,subtitleText:h._(/*BTDS*/"__JHASH__ngk-qgAz3G6__JHASH__"),titleText:a}),k.jsx(p,{isLastItem:!0,onClick:function(){e!=null?d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernamePinManagementDrawer"),{username:b})):d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(c("WAWebUsernamePinInfoDrawer.react"),{username:b}))},subtitleText:j,titleText:i})]})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=a.onBack,e=a.ref,f=a.username;a=m(null);var g=a[0],i=a[1];a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser());a=d("useWAWebContactValues").useContactValues(a.id,[d("WAWebFrontendContactGetters").getUsernamePin]);var j=a[0];a=c("WAWebUseIsKeyboardUser")();var n=a.isKeyboardUser,p=l(null);a=h._(/*BTDS*/"__JHASH__kp3JHlVlFXp__JHASH__");var r=function(){var a=d("WAWebUserPrefsMeUser").getMeUser(),b=d("WAWebTextStatusCollection").TextStatusCollection.assertGet(a),c=d("WAWebProfilePicThumbCollection").ProfilePicThumbCollection.assertGet(a);a=d("WAWebContactCollection").ContactCollection.assertGet(a);d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebProfileDrawerLoadable").ProfileDrawerFlowLoadable,{status:b,profilePicThumb:c,contact:a,conn:d("WAWebConnModel").Conn,isInitialStep:!0}))},s=function(){i({DirX:d("WAWebDropdown.react").DirX.CENTER,DirY:d("WAWebDropdown.react").DirY.BOTTOM,menu:k.jsx(c("WAWebUsernameEditDropdown.react"),{onBack:r,username:f}),anchor:p.current,autoFocus:n})},t=function(){i(null)};s=k.jsxs(k.Fragment,{children:[k.jsx(d("WAWebText.react").WAWebClickableText,{ref:p,onClick:s,color:"green",xstyle:[o.editText,d("WAWebUISpacing").uiMargin.top10],children:h._(/*BTDS*/"__JHASH__7GOsDD_YDRR__JHASH__")}),k.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"pop-fast",children:g==null?null:k.jsx(d("WAWebUimUie.react").UIE,{displayName:"ContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:t,children:k.jsx(c("WAWebUimUieMenu.react"),{contextMenu:g})})})]});return k.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:b!=null?b:r,children:k.jsx(d("WAWebMenuBar.react").MenuBarItem,{onClick:function(){return d("WAWebDrawerManager").DrawerManager.openDrawerLeft(k.jsx(d("WAWebShareUsernameDrawer.react").ShareUsernameDrawer,{username:f,usernamePin:j}))},testid:void 0,icon:k.jsx(d("WAWebLinkIcon.react").LinkIcon,{}),title:h._(/*BTDS*/"__JHASH__KxHm2XMZrPG__JHASH__")})}),k.jsx(c("WAWebDrawerBody.react"),{children:k.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[k.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(d("WAWebFlex.react").FlexItem,{xstyle:o.badge,children:k.jsx(d("WAWebStatusMentionsSenderNuxIcon.react").StatusMentionsSenderNuxIcon,{width:87.36,height:87.01})}),k.jsx(d("WAWebText.react").WAWebTextLarge,{textAlign:"center",xstyle:d("WAWebUISpacing").uiMargin.top20,children:f}),k.jsx(d("WAWebFlex.react").FlexItem,{children:s})]})}),k.jsx(q,{username:f,usernamePin:j})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ConversationControlSettingType=n;g.UsernameManagementDrawer=a}),226);
__d("WAWebUsernamePinDeleteModal.react",["fbt","WAWebConfirmPopup.react","WAWebDrawerManager","WAWebFbtCommon","WAWebModalManager","WAWebSetUsernamePinAction","WAWebToast.react","WAWebToastManager","WAWebUsernameManagementDrawer.react","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var e=a.username,f=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield d("WAWebSetUsernamePinAction").setMyUsernamePin(null).then(function(a){a&&(d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:e})),d("WAWebModalManager").ModalManager.close())})["catch"](function(){d("WAWebModalManager").ModalManager.close(),d("WAWebToastManager").ToastManager.open(j.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__-d8lKkPbTut__JHASH__"),action:{actionText:c("WAWebFbtCommon")("Try again"),onAction:function(){void f()}}}))})});return function(){return a.apply(this,arguments)}}();a=function(){d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{testid:void 0,title:h._(/*BTDS*/"__JHASH__-xrx0QRWU9S__JHASH__"),okButtonType:"solid-warning",onOK:f,okText:h._(/*BTDS*/"__JHASH__nfdgvME1qgo__JHASH__"),onCancel:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPinHeroIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="pin-hero";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=37;m=66;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 66 37",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M6.75002 35.4167C5.92363 35.4167 5.23092 35.1371 4.6719 34.5781C4.11287 34.0191 3.83335 33.3264 3.83335 32.5C3.83335 31.6736 4.11287 30.9809 4.6719 30.4219C5.23092 29.8628 5.92363 29.5833 6.75002 29.5833H59.25C60.0764 29.5833 60.7691 29.8628 61.3281 30.4219C61.8872 30.9809 62.1667 31.6736 62.1667 32.5C62.1667 33.3264 61.8872 34.0191 61.3281 34.5781C60.7691 35.1371 60.0764 35.4167 59.25 35.4167H6.75002ZM5.29169 16.6771C4.75696 16.3854 4.41669 15.9479 4.27085 15.3646C4.12502 14.7812 4.19794 14.2222 4.4896 13.6875L5.87502 11.2083H3.10419C2.47224 11.2083 1.94967 11.0017 1.53648 10.5885C1.12328 10.1753 0.916687 9.65278 0.916687 9.02083C0.916687 8.38889 1.12328 7.86632 1.53648 7.45312C1.94967 7.03993 2.47224 6.83333 3.10419 6.83333H5.87502L4.4896 4.5C4.19794 3.96528 4.12502 3.40625 4.27085 2.82292C4.41669 2.23958 4.75696 1.80208 5.29169 1.51042C5.82641 1.21875 6.38544 1.14583 6.96877 1.29167C7.5521 1.4375 7.9896 1.77778 8.28127 2.3125L9.66669 4.64583L11.0521 2.3125C11.3438 1.77778 11.7813 1.4375 12.3646 1.29167C12.9479 1.14583 13.507 1.21875 14.0417 1.51042C14.5764 1.80208 14.9167 2.23958 15.0625 2.82292C15.2084 3.40625 15.1354 3.96528 14.8438 4.5L13.4584 6.83333H16.2292C16.8611 6.83333 17.3837 7.03993 17.7969 7.45312C18.2101 7.86632 18.4167 8.38889 18.4167 9.02083C18.4167 9.65278 18.2101 10.1753 17.7969 10.5885C17.3837 11.0017 16.8611 11.2083 16.2292 11.2083H13.4584L14.8438 13.6875C15.1354 14.2222 15.2084 14.7812 15.0625 15.3646C14.9167 15.9479 14.5764 16.3854 14.0417 16.6771C13.507 16.9687 12.9479 17.0417 12.3646 16.8958C11.7813 16.75 11.3438 16.4097 11.0521 15.875L9.66669 13.3958L8.28127 15.875C7.9896 16.4097 7.5521 16.75 6.96877 16.8958C6.38544 17.0417 5.82641 16.9687 5.29169 16.6771ZM28.625 16.6771C28.0903 16.3854 27.75 15.9479 27.6042 15.3646C27.4584 14.7812 27.5313 14.2222 27.8229 13.6875L29.2084 11.2083H26.4375C25.8056 11.2083 25.283 11.0017 24.8698 10.5885C24.4566 10.1753 24.25 9.65278 24.25 9.02083C24.25 8.38889 24.4566 7.86632 24.8698 7.45312C25.283 7.03993 25.8056 6.83333 26.4375 6.83333H29.2084L27.8229 4.5C27.5313 3.96528 27.4584 3.40625 27.6042 2.82292C27.75 2.23958 28.0903 1.80208 28.625 1.51042C29.1597 1.21875 29.7188 1.14583 30.3021 1.29167C30.8854 1.4375 31.3229 1.77778 31.6146 2.3125L33 4.64583L34.3854 2.3125C34.6771 1.77778 35.1146 1.4375 35.6979 1.29167C36.2813 1.14583 36.8403 1.21875 37.375 1.51042C37.9097 1.80208 38.25 2.23958 38.3959 2.82292C38.5417 3.40625 38.4688 3.96528 38.1771 4.5L36.7917 6.83333H39.5625C40.1945 6.83333 40.717 7.03993 41.1302 7.45312C41.5434 7.86632 41.75 8.38889 41.75 9.02083C41.75 9.65278 41.5434 10.1753 41.1302 10.5885C40.717 11.0017 40.1945 11.2083 39.5625 11.2083H36.7917L38.1771 13.6875C38.4688 14.2222 38.5417 14.7812 38.3959 15.3646C38.25 15.9479 37.9097 16.3854 37.375 16.6771C36.8403 16.9687 36.2813 17.0417 35.6979 16.8958C35.1146 16.75 34.6771 16.4097 34.3854 15.875L33 13.3958L31.6146 15.875C31.3229 16.4097 30.8854 16.75 30.3021 16.8958C29.7188 17.0417 29.1597 16.9687 28.625 16.6771ZM51.9584 16.6771C51.4236 16.3854 51.0833 15.9479 50.9375 15.3646C50.7917 14.7812 50.8646 14.2222 51.1563 13.6875L52.5417 11.2083H49.7709C49.1389 11.2083 48.6163 11.0017 48.2031 10.5885C47.7899 10.1753 47.5834 9.65278 47.5834 9.02083C47.5834 8.38889 47.7899 7.86632 48.2031 7.45312C48.6163 7.03993 49.1389 6.83333 49.7709 6.83333H52.5417L51.1563 4.5C50.8646 3.96528 50.7917 3.40625 50.9375 2.82292C51.0833 2.23958 51.4236 1.80208 51.9584 1.51042C52.4931 1.21875 53.0521 1.14583 53.6354 1.29167C54.2188 1.4375 54.6563 1.77778 54.9479 2.3125L56.3334 4.64583L57.7188 2.3125C58.0104 1.77778 58.4479 1.4375 59.0313 1.29167C59.6146 1.14583 60.1736 1.21875 60.7084 1.51042C61.2431 1.80208 61.5834 2.23958 61.7292 2.82292C61.875 3.40625 61.8021 3.96528 61.5104 4.5L60.125 6.83333H62.8959C63.5278 6.83333 64.0504 7.03993 64.4636 7.45312C64.8768 7.86632 65.0834 8.38889 65.0834 9.02083C65.0834 9.65278 64.8768 10.1753 64.4636 10.5885C64.0504 11.0017 63.5278 11.2083 62.8959 11.2083H60.125L61.5104 13.6875C61.8021 14.2222 61.875 14.7812 61.7292 15.3646C61.5834 15.9479 61.2431 16.3854 60.7084 16.6771C60.1736 16.9687 59.6146 17.0417 59.0313 16.8958C58.4479 16.75 58.0104 16.4097 57.7188 15.875L56.3334 13.3958L54.9479 15.875C54.6563 16.4097 54.2188 16.75 53.6354 16.8958C53.0521 17.0417 52.4931 16.9687 51.9584 16.6771Z",fill:"#25D366",stroke:"black",strokeWidth:1.22093})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.PinHeroIcon=a}),98);
__d("WAWebUsernamePinInfoDrawer.react",["fbt","WAWebButton.react","WAWebCreatePinDrawer.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebPinHeroIcon.react","WAWebSvgComponentBase","WAWebText.react","WAWebUISpacing","WAWebUsernameManagementDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={section:{maxWidth:"x13qrzjo",$$css:!0},badge:{marginTop:"x1r0gsg0",$$css:!0},disclaimerText:{textAlign:"x2b8uid",lineHeight:"x16h55sf",$$css:!0},color:{color:"x2an75k",$$css:!0}};function l(){var a=j.jsx(d("WAWebExternalLink.react").ExternalLink,{xstyle:k.color,href:d("WAWebFaqUrl").getFaqUrl(),children:c("WAWebFbtCommon")("Learn more")});return j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[k.section,d("WAWebUISpacing").uiMargin.top18],children:[j.jsx(d("WAWebText.react").WAWebTextSmall,{xstyle:k.disclaimerText,children:h._(/*BTDS*/"__JHASH__xSlAMrq4qDK__JHASH__")}),j.jsx("br",{}),j.jsxs(d("WAWebText.react").WAWebTextSmall,{xstyle:k.disclaimerText,children:[h._(/*BTDS*/"__JHASH__WP8sgZb6gIt__JHASH__")," ",a]})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.username;a=h._(/*BTDS*/"__JHASH__MxUvshJ8QSa__JHASH__");var e=h._(/*BTDS*/"__JHASH__zY3L2e67oy-__JHASH__"),f=h._(/*BTDS*/"__JHASH__rlDrZiG7PbL__JHASH__"),g=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:b}))},i=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(m,{username:b}))};return j.jsxs(c("WAWebDrawer.react"),{children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:g}),j.jsxs(c("WAWebDrawerBody.react"),{children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.badge,children:j.jsx(d("WAWebPinHeroIcon.react").PinHeroIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SUCCESS,width:64.17,height:34.2})}),j.jsx(d("WAWebText.react").WAWebTextLarge,{textAlign:"center",xstyle:[d("WAWebUISpacing").uiMargin.top40,k.section],children:e}),j.jsx(l,{})]})}),j.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{onClick:function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebCreatePinDrawer.react"),{onBack:i,username:b}))},stretch:!0,children:f})})})]})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=m}),226);
__d("WAWebUsernamePinManagementDrawer",["fbt","WAWebContactCollection","WAWebDeleteIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerItem.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebEditUsernamePinDrawer.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebFrontendContactGetters","WAWebModalManager","WAWebPencilIcon.react","WAWebPinHeroIcon.react","WAWebSvgComponentBase","WAWebText.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUsernameManagementDrawer.react","WAWebUsernamePinDeleteModal.react","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={section:{maxWidth:"x13qrzjo",$$css:!0},pinIcon:{marginTop:"x1r0gsg0",$$css:!0},disclaimerText:{textAlign:"x2b8uid",lineHeight:"x16h55sf",$$css:!0},learnMoreLinkColor:{color:"x1prwzq3",$$css:!0},drawerItem:{borderBottomWidth:"xso031l",borderBottomStyle:"x1q0q8m5",borderBottomColor:"xcsjwe9",width:"xh8yej3",$$css:!0}};function l(){var a=j.jsx(d("WAWebExternalLink.react").ExternalLink,{xstyle:k.learnMoreLinkColor,href:d("WAWebFaqUrl").getFaqUrl(),children:c("WAWebFbtCommon")("Learn more")});return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[k.section,d("WAWebUISpacing").uiMargin.top20],children:j.jsxs(d("WAWebText.react").WAWebTextSmall,{xstyle:k.disclaimerText,children:[h._(/*BTDS*/"__JHASH__Fv21GykTIN___JHASH__")," ",a]})})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b,e=a.username,f=a.usernamePin;a=h._(/*BTDS*/"__JHASH__4SyOmtHxmCe__JHASH__");var g=h._(/*BTDS*/"__JHASH__vUN-kI2oRTa__JHASH__");return j.jsx(c("WAWebDrawerSection.react"),{theme:"padding-no-vertical",shadow:!1,animation:!1,xstyle:d("WAWebUISpacing").uiMargin.top40,children:j.jsxs((b=d("WAWebFlex.react")).FlexColumn,{children:[j.jsxs(b.FlexRow,{align:"center",xstyle:k.drawerItem,children:[j.jsx(d("WAWebPencilIcon.react").PencilIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY}),j.jsx(b.FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start12,children:j.jsx(c("WAWebDrawerItem.react"),{onClick:function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(c("WAWebEditUsernamePinDrawer.react"),{pin:f,username:e}))},title:a,theme:"privacy",isLastItem:!0})})]}),j.jsxs(b.FlexRow,{align:"center",children:[j.jsx(d("WAWebDeleteIcon.react").DeleteIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.CRITICAL}),j.jsx(b.FlexItem,{xstyle:d("WAWebUISpacing").uiMargin.start12,children:j.jsx(c("WAWebDrawerItem.react"),{onClick:function(){d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebUsernamePinDeleteModal.react"),{username:e}))},title:j.jsx("div",babelHelpers["extends"]({className:"x1sr8853"},{children:g})),theme:"privacy",isLastItem:!0})})]})]})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.username;a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser());a=a.id;a=d("useWAWebContactValues").useContactValues(a,[d("WAWebFrontendContactGetters").getUsernamePin]);a=a[0];var e=h._(/*BTDS*/"__JHASH__MxUvshJ8QSa__JHASH__"),f=function(){d("WAWebDrawerManager").DrawerManager.openDrawerLeft(j.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:b}))};return j.jsxs(c("WAWebDrawer.react"),{testid:void 0,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:e,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:f}),j.jsx(c("WAWebDrawerBody.react"),{children:j.jsxs(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:[j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{grow:1,xstyle:k.pinIcon,children:j.jsx(d("WAWebPinHeroIcon.react").PinHeroIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SUCCESS,width:64.17,height:34.2})}),j.jsx(d("WAWebText.react").WAWebTextLarge,{textAlign:"center",xstyle:[d("WAWebUISpacing").uiMargin.top40,k.section],children:a}),j.jsx(l,{})]})}),j.jsx(m,{usernamePin:a,username:b})]})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebCreateUsernameDrawer.react",["fbt","WAWebSetUsernameDrawer.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onBack;a=a.ref;var d=h._(/*BTDS*/"__JHASH__9qmBc1oIa0Z__JHASH__");return j.jsx(c("WAWebSetUsernameDrawer.react"),{ref:a,onBack:b,headerText:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditedMedia",["WAWebFileUtils","WAWebURLUtils","lodash"],(function(a,b,c,d,e,f,g){a=function a(b,e,f,g){var h=this;this.updateEditData=function(a){h.saveEdits(),h.editData=c("lodash").merge({},h.editData,a)};this.updateEditItems=function(a,b){h.saveEdits();var c=[];h.editData.items&&h.editData.items.forEach(function(a){a!==b&&c.push(a)});c.push(a);h.editData.items=c};this.saveEdits=function(){var b=new a(h.media,h.originalImage,h.editData,h.previous);h.previous=b};this.revertEdit=function(){h.previous&&(h.editData=h.previous.editData,h.previous=h.previous.previous)};this.saveEditsFromCanvas=function(a){a=a.toDataURL();h.editedImage||(h.editedImage=new Image());h.editedImage.src=a};this.exportEditedMedia=function(){if(h.hasEdits()&&h.editedImage){var a=h.editedImage.src;return c("WAWebURLUtils").dataURLtoFile(a)}else if(h.media instanceof File)return h.media;return d("WAWebFileUtils").createFile([h.media],"",{type:h.media.type})};this.hasEdits=function(){return!!h.previous&&h.editedImage};this.cleanUp=function(){window.URL.revokeObjectURL(h.originalImage.src)};this.media=b;e?this.originalImage=e:(this.originalImage=new Image(),this.originalImage.src=window.URL.createObjectURL(b));this.previous=g;this.editData={height:0,width:0,offsetX:0,offsetY:0,rotation:0,scale:1,items:[],baseItem:null};c("lodash").merge(this.editData,f)};g["default"]=a}),98);
__d("WAWebStaticCanvas.react",["react"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react");e=(h||(h=d("react"))).memo;function a(a){var b=a.className;a=a.ref;return j.jsx("canvas",{className:b,ref:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.className===b.className}c=e(a,b);g["default"]=c}),98);
__d("WAWebMediaEditCanvas.react",["WAWeb-easeljs","WAWebObjectFit.react","WAWebStaticCanvas.react","isNonZeroNumber","react","useWAWebForceUpdate","useWAWebOnUnmount"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useEffect,l=b.useImperativeHandle,m=b.useRef,n=b.useState;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.mediaEditController,f=a.editedMedia,g=a.mediaPickerStatsLogger,h=a.activeMediaId,i=m(null),o=m(null),p=m(null),q=m(null),r=n({height:1,width:1}),s=r[0],t=r[1];r=n(null);var u=r[0],v=r[1],w=d("useWAWebForceUpdate").useForceUpdateDONOTUSE(),x=function(a){var b;u?b=u:(b=new(d("WAWeb-easeljs").Easel.Stage)(a),b.enableMouseOver());e.stage=b;return b},y=function(a,b){if(!i.current)return;var c=i.current;b&&g&&h!=null&&g.logChange(h,b);b=f.editData;var e=x(c);a&&(c.width=b.width,c.height=b.height);e.removeAllChildren();b.baseItem!=null&&e.addChild(b.baseItem);b.items&&e.addChild.apply(e,b.items);a=f.originalImage.naturalWidth;var j=f.originalImage.naturalHeight;e.regX=a/2;e.regY=j/2;e.rotation=b.rotation;d("isNonZeroNumber").isNonZeroNumber(b.width)&&d("isNonZeroNumber").isNonZeroNumber(b.height)&&(e.x=b.width/2+b.scale*b.offsetX,e.y=b.height/2+b.scale*b.offsetY);e.scaleX=b.scale;e.scaleY=b.scale;e.update();t({width:c.width,height:c.height});v(e)},z=function(){var a=f.editData;f.editedImage=null;var b=f.originalImage;!a.width&&!a.height&&(a.width=b.naturalWidth,a.height=b.naturalHeight);if(!a.baseItem){b=new(d("WAWeb-easeljs").Easel.Bitmap)(b);a.baseItem=b}y(!0)},A=function(){var a=f.originalImage;!a.complete?a.onload=z:z()},B=function(){y(!0);var a=i.current;a&&f.saveEditsFromCanvas(a)},C=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.enableMouseOver(0);a.clear()};k(function(){A(),w,q.current=new(d("WAWeb-easeljs").Easel.Stage)(p.current),q.current.autoClear=!1,q.current.enableMouseOver(),o.current&&(e.mediaContainer=o.current),e.cropOverlay=q.current},[]);c("useWAWebOnUnmount")(function(){var a=f.originalImage;a.complete||(a.onload=void 0);B();C(u);C(q.current)});var D=function(a,b){t({width:a,height:b})};l(b,function(){return{saveCanvas:B,drawCanvas:y,updateCanvasSize:D}});r=j.jsx("canvas",babelHelpers["extends"]({ref:p},{className:"x10l6tqk xzkaem6 x1s85apg x1qrby5j x3igimt"}));b=j.jsx("div",{className:a.className,ref:o,children:j.jsxs(c("WAWebObjectFit.react"),{type:a.fitType||"scaleDown",size:s,children:[r,j.jsx(c("WAWebStaticCanvas.react"),{ref:i,className:"xhtitgo xh8yej3 x5yr21d"})]})});return b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMediaEditControllerGetters",["WAWebGetters","WAWebGettersCaches"],(function(a,b,c,d,e,f,g){a=d("WAWebGetters").createGetterFactories({createCache:d("WAWebGettersCaches").createMediaEditControllerCache});b=a.field;c=a.computed;e=b("stage");f=b("cropOverlay");d=b("mediaContainer");a=c(function(a){var b=a[0],c=a[1];a=a[2];return!!b&&!!c&&!!a},[e,f,d]);g.getIsInitialized=a}),98);
__d("WAWebMediaEditControllerModel",["WAWebBaseModel"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.id=d("WAWebBaseModel").prop(),c.stage=d("WAWebBaseModel").prop(),c.cropOverlay=d("WAWebBaseModel").prop(),c.mediaContainer=d("WAWebBaseModel").prop(),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.clearStage=function(a){if(!a)return;a.children.forEach(function(a){a.removeAllEventListeners()});a.removeAllEventListeners();a.removeAllChildren();a.clear()};return b}(d("WAWebBaseModel").BaseModel);b=d("WAWebBaseModel").defineModel(a);g["default"]=b}),98);
__d("WAWebMinusIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="minus";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=28;m=28;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 28 28",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 28 28",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M8.381,14.803v-1.605h11.237v1.605C19.618,14.803,8.381,14.803,8.381,14.803z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MinusIcon=a}),98);
__d("WAWebProfileCropConstants",[],(function(a,b,c,d,e,f){a=192;b=640;c=96;f.PROF_PIC_MIN_SIDE=a;f.PROF_PIC_MAX_SIDE=b;f.PROF_PIC_THUMB_SIDE=c}),66);
__d("WAWebProfileCropTool.react",["fbt","$InternalEnum","WAWeb-easeljs","WAWebAccessibility.react","WAWebImageUtils","WAWebKeyboardHotKeys.react","WAWebMinusIcon.react","WAWebPlusIcon.react","WAWebProfileCropConstants","WAWebUnstyledButton.react","WDSFocusStateStyles","asyncToGeneratorRuntime","err","intlNumUtils","isStringNullOrEmpty","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useImperativeHandle,n=e.useRef,o=e.useState,p={scalerButton:{color:"xt16idv",cursor:"x1ypdohk",width:"xgd8bvy",height:"x1fgtraw",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0}},q="rgba(0, 0, 0, 0.5)",r=1.1,s=1.02,t=361,u=500,v=9/16,w=2+v,x="M90 0C0 0 0 0 0 90s0 90 90 90 90 0 90-90 0-90-90-90Z",y=b("$InternalEnum").Mirrored(["CIRCLE","RECT","SQUIRCLE"]),z=b("$InternalEnum").Mirrored(["ENLARGE","REDUCE"]),A=b("$InternalEnum").Mirrored(["DOWN","LEFT","RIGHT","UP"]);function a(a){var e=a.ref,f=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),g=f.editedMedia,i=f.cropOverlay,j=f.drawCanvas,B=n(0);a=o("");var C=a[0],D=a[1];a=o(null);var E=a[0],F=a[1],G=function(a,b){var c=g.editData,d=B.current*w,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;var h=d/2;d=d/2*v;return{overlapLeft:Math.min(0,-h-e)/c.scale,overlapRight:Math.min(0,a-h)/c.scale,overlapTop:Math.min(0,-d-b)/c.scale,overlapBottom:Math.min(0,f-d)/c.scale,x:e<-h&&a>h,y:b<-d&&f>d}},H=function(a,b){var c=g.editData,d=B.current,e=(a-c.width/2)*c.scale;a=(a+c.width/2)*c.scale;var f=(b+c.height/2)*c.scale;b=(b-c.height/2)*c.scale;return{x:e<-d&&a>d,y:b<-d&&f>d}},I=function(a,b){var c=g.editData,d=c.offsetX+a/c.scale,e=c.offsetY+b/c.scale,h=f.cropShape===y.RECT?G(d,e):H(d,e);h.x&&(c.offsetX=d);h.y&&(c.offsetY=e);j();U(a,b,h)},J=function(a,b){var c=a.stageX-b.x,d=a.stageY-b.y;I(c,d);b.x=a.stageX;b.y=a.stageY;return},K=function(a){var b=B.current,c=g.editData;b=b*w;b=Math.max(a,b/c.width);a=Math.max(a,b);c.scale=a;b=G(c.offsetX,c.offsetY);return{scale:c.scale,offsetX:c.offsetX+b.overlapLeft-b.overlapRight,offsetY:c.offsetY+b.overlapTop-b.overlapBottom}},L=function(a){var b=B.current,c=g.editData,d=Math.max(2*b/c.width,2*b/c.height);d=Math.max(a,d);if(c.width*a<b||c.height*a<b)return!1;a=-b/d+c.width/2;var e=b/d-c.width/2,f=-b/d+c.height/2;b=b/d-c.height/2;return{scale:d,offsetX:Math.min(Math.max(c.offsetX,e),a),offsetY:Math.min(Math.max(c.offsetY,b),f)}},M=function(a){return f.cropShape===y.RECT?K(a):L(a)},N=function(a){a===void 0&&(a=r);var b=g.editData,c=a!==0?a:r;c=M(b.scale*c);c&&(b.scale=c.scale,b.offsetX=c.offsetX,b.offsetY=c.offsetY,j());T(a,z.ENLARGE)},O=function(a){a===void 0&&(a=r);var b=g.editData,c=a!==0?a:r;c=M(b.scale/c);c&&(b.scale=c.scale,b.offsetX=c.offsetX,b.offsetY=c.offsetY,j());T(a,z.REDUCE)};d("useWAWebListener").useListener(i.canvas,"mousewheel",function(a){a.deltaY>0?N(s):O(s)});l(function(){g.saveEdits();var a=g.editData,b=i.canvas;a.baseItem?a=a.baseItem.getBounds():a={width:0,height:0};b.style.display="block";b.width=a.width;b.height=a.height;var c=new(d("WAWeb-easeljs").Easel.Shape)();c.graphics.beginFill("rgba(0, 0, 0, 0.1)");c.graphics.drawRect(0,0,a.width,a.height);c.regX=a.width/2;c.regY=a.height/2;c.x=a.width/2;c.y=a.height/2;c.on("mousedown",function(a){a={x:a.stageX,y:a.stageY};var b=c.on("pressmove",J,null,!1,a);c.on("pressup",function(){c.off("pressmove",b)},null,!0)});c.cursor="move";a=b.getContext("2d");var e=b.width;b=b.height;var h=e/b>u/t?b/t:e/u;B.current=Math.min(t,u)/2*.9*h;var j=B.current,k;a.fillStyle=q;a.fillRect(0,0,e,b);a.globalCompositeOperation="destination-out";a.beginPath();if(f.cropShape===y.CIRCLE)a.arc(e/2,b/2,j,0,2*Math.PI,!0);else if(f.cropShape===y.RECT){var l=j*w,m=j*w*v;a.fillRect(e/2-l/2,b/2-m/2,l,m)}else if(f.cropShape===y.SQUIRCLE){k=new Path2D(x);a.translate(e/2-j,b/2-j);l=h*2*.9;a.scale(l,l)}a.fillStyle="#ffffff";k?a.fill(k):a.fill();i.addChild(c);i.update()},[]);var P=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=B.current;if(c("isStringNullOrEmpty")(a))throw c("err")("empty image");var f=e*2,h=f;f>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?h=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:f<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(h=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);f=e*w;e=e*w*v;a=(yield d("WAWebImageUtils").crop(a,b.width/2-f/2,b.height/2-e/2,f,e,h,h*v,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=a;f=a.images.dataUrl;return{thumb:b.images.dataUrl,full:f}});return function(){return a.apply(this,arguments)}}(),Q=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=g.editData;a=(a=g.editedImage)==null?void 0:a.src;var e=B.current;if(c("isStringNullOrEmpty")(a))throw c("err")("empty image");e=e*2;var f=e;e>d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE?f=d("WAWebProfileCropConstants").PROF_PIC_MAX_SIDE:e<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE&&(f=d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE);a=(yield d("WAWebImageUtils").crop(a,(b.width-e)/2,(b.height-e)/2,e,e,f,f,d("WAWebImageUtils").DATA_URL|d("WAWebImageUtils").CANVAS));b=(yield d("WAWebImageUtils").crop(a.images.canvas,0,0,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE,d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE));e=a.images.dataUrl;return{thumb:b.images.dataUrl,full:e}});return function(){return a.apply(this,arguments)}}(),R=function(){return f.cropShape===y.RECT?P():Q()};m(e,function(){return{crop:R}});var S=n(null);function T(a,b){a=1-a;var c=E!=null?E:1;b===z.ENLARGE?c+=a:c-=a;F(c);W(c,b)}function U(a,b,c){a<0?V(A.RIGHT,c):a>0?V(A.LEFT,c):b<0?V(A.DOWN,c):b>0&&V(A.UP,c)}function V(a,b){switch(a){case A.DOWN:if(!b.y){D(h._(/*BTDS*/"__JHASH__YBsSPxcGXlv__JHASH__"));return}D(h._(/*BTDS*/"__JHASH__svvdS4pEizH__JHASH__"));break;case A.LEFT:if(!b.x){D(h._(/*BTDS*/"__JHASH__X4fS2I-Jrim__JHASH__"));return}D(h._(/*BTDS*/"__JHASH__8FFhfHHV_Lo__JHASH__"));break;case A.RIGHT:if(!b.x){D(h._(/*BTDS*/"__JHASH__2QbK9dQAkvJ__JHASH__"));return}D(h._(/*BTDS*/"__JHASH__2SXV4W-qSRk__JHASH__"));break;case A.UP:if(!b.y){D(h._(/*BTDS*/"__JHASH__GueYUOKLfc9__JHASH__"));return}D(h._(/*BTDS*/"__JHASH__Dk_Wzk5b50W__JHASH__"));break}}function W(a,b){a=Math.round(Math.abs(a)*100);b===z.ENLARGE?D(h._(/*BTDS*/"__JHASH__cNHYEATQGFb__JHASH__",[h._param("zoom_percentage",d("intlNumUtils").formatNumber(a))])):D(h._(/*BTDS*/"__JHASH__N-NsZ8CTm3w__JHASH__",[h._param("zoom_percentage",d("intlNumUtils").formatNumber(a))]))}a=function(a){if(!S.current)return;a=a?a.target:document.activeElement;if(a!==S.current)return};e={pageup:function(){return N()},pagedown:function(){return O()},down:function(){return I(0,-10)},up:function(){return I(0,10)},left:function(){return I(10,0)},right:function(){return I(-10,0)}};return k.jsxs("div",babelHelpers["extends"]({className:"x10l6tqk x1inkcgm xoegz02 xgd8bvy x14ju556 x150wa6m xadg8h5 xjlgbav x22tq4u x1taic9k x1ctnl55"},{children:[k.jsx(d("WAWebAccessibility.react").InvisibleAnnouncement,{assertive:!0,text:C,startWithText:!0}),k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:e,onFocus:a,ref:S,"aria-label":h._(/*BTDS*/"__JHASH__Nbqos_9YjzD__JHASH__"),tabIndex:0}),k.jsx(c("WAWebUnstyledButton.react"),{xstyle:[p.scalerButton,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:function(){return N()},"aria-label":h._(/*BTDS*/"__JHASH__SQc8zEZS_oj__JHASH__"),testid:void 0,children:k.jsx(d("WAWebPlusIcon.react").PlusIcon,{})}),k.jsx(c("WAWebUnstyledButton.react"),{xstyle:[p.scalerButton,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:function(){return O()},"aria-label":h._(/*BTDS*/"__JHASH__LrMHYfVC0Hm__JHASH__"),testid:void 0,children:k.jsx(d("WAWebMinusIcon.react").MinusIcon,{})})]}))}a.displayName=a.name+" [from "+f.id+"]";e=a;g.CropShapeType=y;g.WrappedProfileCropTool=e}),226);
__d("useWAWebMediaEditControllerValues",["useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useModelGetterValues(a,b)}g.useMediaEditControllerValues=a}),98);
__d("WAWebEditImageDrawer.react",["fbt","WARandomHex","WAWebCheckmarkLargeIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditedMedia","WAWebExternalLink.react","WAWebMediaEditCanvas.react","WAWebMediaEditControllerGetters","WAWebMediaEditControllerModel","WAWebObjectFit.react","WAWebProfileCropTool.react","WAWebReturnIcon.react","WAWebRound.react","WAWebTosUrl","WAWebUISpacing","WAWebURLUtils","WAWebUnstyledButton.react","WAWebVelocityTransitionGroup","WDSFocusStateStyles","react","stylex","useLazyRef","useWAWebMediaEditControllerValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useRef,n=b.useState,o=361,p=500,q={NONE:"none",RETAKE:"retake",RESTART:"restart"},r={retake:{display:"x78zum5",alignItems:"x6s0dn4",color:"x1heor9g",cursor:"x1ypdohk",$$css:!0},retakeIcon:{flex:"x1okw0bk",color:"x7o08j2",$$css:!0},attribution:{display:"x78zum5",flexDirection:"xdt5ytf",alignItems:"x6s0dn4",maxHeight:"x1wb0a4p",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1nxh6w3",lineHeight:"x17fgdl5",textAlign:"x2b8uid",$$css:!0},footer:{position:"x1n2onr6",zIndex:"xzkaem6",boxSizing:"x9f619",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",minHeight:"x5sx7kw",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);a=e.attributionUrl;var f=e.onRetake,g=e.retryText,i=e.onFinished,k=e.cropShape,s=m(),t=m(null),u=c("useLazyRef")(function(){return new(c("WAWebMediaEditControllerModel"))({id:d("WARandomHex").randomHex(8)})}),v=d("useWAWebMediaEditControllerValues").useMediaEditControllerValues(u.current,[d("WAWebMediaEditControllerGetters").getIsInitialized]);v=v[0];var w=n(!1),x=w[0],y=w[1];w=n({width:p,height:o});var z=w[0],A=w[1];w=n(function(){return new(c("WAWebEditedMedia"))(e.img)});var B=w[0],C=function(){var a;(a=s.current)==null?void 0:a.saveCanvas()};w=function(){var a;C();(a=t.current)==null?void 0:a.crop().then(function(a){var b=a.thumb;a=a.full;i(b,a);B.cleanUp()})};var D=function(a){if(a==null||!(a instanceof HTMLElement))return;z&&(z.width!==a.clientWidth||z.height!==a.clientHeight)&&A({width:a.clientWidth,height:a.clientHeight});x||y(!0)},E=function(a,b){var c;(c=s.current)==null?void 0:c.drawCanvas(a,b)};w=x?l.createElement("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy x1g9hn12 xhi6v0a xhtitgo xzbmw64"},{key:"btn-send"}),l.jsx(d("WAWebRound.react").Round,{large:!0,onClick:w,label:h._(/*BTDS*/"__JHASH__dLplmpLrlRz__JHASH__"),children:l.jsx(d("WAWebCheckmarkLargeIcon.react").CheckmarkLargeIcon,{})})):null;var F;v&&(F=l.jsx(d("WAWebProfileCropTool.react").WrappedProfileCropTool,{editedMedia:B,stage:u.current.stage,cropOverlay:u.current.cropOverlay,mediaContainer:u.current.mediaContainer,drawCanvas:E,ref:t,cropShape:k||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE}));v=l.jsx(c("WAWebMediaEditCanvas.react"),{className:"x78zum5 x6s0dn4 xl56j7k xiy17q3 xztyhrg x1tbiz1a x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod",editedMedia:B,mediaEditController:u.current,fitType:"cover",ref:s});var G;if(f){var H;switch(g){case q.NONE:H=null;break;case q.RETAKE:H=h._(/*BTDS*/"__JHASH__gzo29kra-Qa__JHASH__");break;case q.RESTART:default:H=h._(/*BTDS*/"__JHASH__eHzEa7bXd6B__JHASH__")}G=l.jsxs(c("WAWebUnstyledButton.react"),{xstyle:[r.retake,d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus],onClick:f,title:H!=null?H.toString():"",children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(r.retakeIcon,d("WAWebUISpacing").uiMargin.end4),{children:l.jsx(d("WAWebReturnIcon.react").ReturnIcon,{})})),H]})}E=a?l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(r.attribution,d("WAWebUISpacing").uiMargin.top6),{children:[l.jsx(d("WAWebExternalLink.react").ExternalLink,{className:"x1okw0bk x1jkqq1h x6ikm8r x10wlt62 xlyipyv xuxw1ft",href:a,children:c("WAWebURLUtils").hostname(a)}),l.jsxs("span",{children:[h._(/*BTDS*/"__JHASH__ovJpHh9wQJM__JHASH__"),l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebTosUrl").getTosUrl(),children:h._(/*BTDS*/"__JHASH__4s3CMFOZwtI__JHASH__")})]})]})):null;u=k===d("WAWebProfileCropTool.react").CropShapeType.RECT?l.jsx("div",babelHelpers["extends"]({className:"x98rzlu x1yc453h"},{children:h._(/*BTDS*/"__JHASH__tXW5QPfMfBd__JHASH__")})):void 0;g=l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(r.footer,d("WAWebUISpacing").uiPadding.top0,d("WAWebUISpacing").uiPadding.bottom6,d("WAWebUISpacing").uiPadding.horiz20),{children:[l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"btn",children:w}),E,u]}));a=(f=e.imageSize)!=null?f:{width:p,height:o};return l.jsxs(c("WAWebDrawer.react"),{ref:b,theme:"edit",children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__wQS216Fkk_h__JHASH__"),type:"offset",onCancel:e.onCancel,focusBackOrCancel:!0,children:G}),l.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[l.jsxs("div",babelHelpers["extends"]({className:"x1n2onr6 x78zum5 x98rzlu x6s0dn4 xl56j7k xh8yej3"},{children:[F,l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf xuk3077 xl56j7k xh8yej3 x5yr21d x1m8r95a"},{children:l.jsx(c("WAWebVelocityTransitionGroup"),{transitionName:"capture",children:l.jsx(c("WAWebObjectFit.react"),{type:"cover",size:a,onObjectLoad:D,children:v})})}))]})),g]})]},"attach-edit-modal")}a.displayName=a.name+" [from "+f.id+"]";g.RETRY_OPTIONS=q;g.EditImageDrawer=a}),226);
__d("WAWebEditCaptureFlow.react",["fbt","$InternalEnum","WAFilteredCatch","WANullthrows","WAWebCaptureDrawer.react","WAWebEditImageDrawer.react","WAWebGuidePopup.react","WAWebMediaCapture","WAWebMiscErrors","WAWebModal.react","WAWebModalManager","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["Capture","Guide","EditImage"]);function a(a){var b=n(null),e=b[0],f=b[1],g=m(null),i=m();b=d("useWAWebFlow").useFlow(o.Capture);var j=b[0],p=b[1],q=function(){i.current==null?void 0:i.current();var a=d("WAWebMediaCapture").start("camera",function(){return p.push(o.Guide,"modal")},5e3),b=a.asyncStream,c=a.disposeStream;i.current=c;b.then(function(a){g.current||p.pop("modal"),a&&g.current&&g.current.loadNewStream(a,c)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.NotAllowedError,function(){p.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_FAIL,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_UNBLOCK}))}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").GetUserMedia.GetUserMediaError,function(){p.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA_MISSING,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_NONE}))}))};l(function(){q();return function(){i.current==null?void 0:i.current()}},[]);if(p.step==null)return null;var r;switch(p.step){case o.Capture:b=function(a){f(a),p.push(o.EditImage,"flow-transition-box-size-drawer-push")};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,ariaLabel:h._(/*BTDS*/"__JHASH__oIv2srgU-uj__JHASH__"),testid:void 0,children:k.jsx(c("WAWebCaptureDrawer.react"),{ref:g,stream:void 0,disposeStream:void 0,caption:!1,theme:"capture-cover",onBack:function(){return p.end()},onSend:null,onCaptured:b,chat:void 0})});break;case o.Guide:r=k.jsx(d("WAWebGuidePopup.react").GuidePopup,{messaging:d("WAWebGuidePopup.react").Messaging.CAMERA,type:d("WAWebGuidePopup.react").GuidePopupType.GUIDE_ALLOW,onConfirm:function(){return p.pop("modal")}});break;case o.EditImage:b=function(){p.pop("flow-transition-box-size-drawer-pop"),q()};var s=function(b,c){a.onFinished(b,c),p.end()};r=k.jsx(d("WAWebModal.react").Modal,{type:a.modalTheme||d("WAWebModal.react").ModalTheme.Box,children:k.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onRetake:b,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RETAKE,onFinished:s,onCancel:function(){return p.end()},img:c("WANullthrows")(e),cropShape:a.editCropShape})})}return k.jsx(j,{flow:p,children:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditFormBusinessProfileFormField.react",["WAWebEditFormLogEvents","WAWebEditFormTypes","WAWebRichTextField.react","WAWebUtilsLogQplEvents","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.activeField,c=a.disabled,e=a.emojiBtnPosition,f=a.error,g=a.fieldKey,h=a.fieldMetric,j=a.formatForSave,k=a.lowProfile,l=a.maxLength,m=a.onActive,n=a.onCancel,o=a.onChange,p=a.onError,q=a.onSaveBusinessProfile,r=a.originalValue,s=a.placeholder,t=a.rawBusinessProfile,u=a.sessionId,v=a.startActive,w=a.validate;a=a.value;var x=(b==null?void 0:b.fieldKey)===g,y=a==null||a===""?s:void 0;return i.jsx(d("WAWebRichTextField.react").RichTextField,{value:a,editable:(!b||x)&&c!==!0,pending:x&&(b==null?void 0:b.editType)===d("WAWebEditFormTypes").EditType.PENDING,showRemaining:!0,onBeginEdit:function(){u!=null&&d("WAWebEditFormLogEvents").logProfileFieldOpen(h,t,u),m({fieldKey:g,editType:d("WAWebEditFormTypes").EditType.EDITING})},onChange:function(a){a=a.text;return o(a)},onSave:function(){d("WAWebUtilsLogQplEvents").qplStartProfileSave(g),u!=null&&d("WAWebEditFormLogEvents").logProfileFieldSave(h,t,u),m({fieldKey:g,editType:d("WAWebEditFormTypes").EditType.PENDING}),q(j()).then(function(){m()},function(){m()})},onCancel:function(){u!=null&&d("WAWebEditFormLogEvents").logProfileFieldDiscard(h,t,u),o(r),m(),n==null?void 0:n()},lockable:!0,lowProfile:k,multiline:!0,inputPlaceholder:y,theme:"text-input",validate:w,onError:p,error:f,testid:void 0,fieldName:s,startActive:v,maxLength:l,emojiBtnPosition:e})}a.displayName=a.name+" [from "+f.id+"]";g.BusinessProfileFormField=a}),98);
__d("WAWebEditFormBusinessAddressField.react",["fbt","WAWebBusinessProfileTypes","WAWebEditFormBusinessProfileFormField.react","WAWebMap.react","WAWebUISpacing","WAWebWamEnumBusinessProfileField","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l=96,m=312,n={businessMap:{position:"x1n2onr6",display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},overlayHint:{fontSize:"x1f6kntn",color:"x6k43r8",textTransform:"xtvhhri",backgroundColor:"x1109wk8",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1nfbk4f",borderInlineEndColor:"x8r6oga",borderBottomColor:"xa93pmm",borderInlineStartColor:"xicjxj5",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0}};function a(a){var b=a.activeField,c=a.businessProfile,e=a.disabled,f=a.error,g=a.lowProfile;g=g===void 0?!0:g;var i=a.onActive,j=a.onCancel,l=a.onChange,m=a.onError,n=a.onSaveBusinessProfile,p=a.rawBusinessProfile,q=a.sessionId,r=a.validate,s=a.value;a=k.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:b,fieldKey:"address",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.ADDRESS,formatForSave:function(){return{address:s}},lowProfile:g,originalValue:c.address,placeholder:h._(/*BTDS*/"__JHASH__Wg5DiM6m-aJ__JHASH__"),rawBusinessProfile:p,sessionId:q,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.ADDRESS,value:s,validate:r,error:f,onActive:i,onChange:l,onSaveBusinessProfile:n,onError:m,onCancel:j,disabled:e});g=c.latitude;p=c.longitude;q=g!=null&&p!=null?k.jsx(o,{activeField:b,value:s,latitude:g,longitude:p}):null;return k.jsxs(k.Fragment,{children:[a,q]})}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.activeField,e=a.latitude,f=a.longitude;a=a.value;b=(b==null?void 0:b.fieldKey)==="address"?k.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy xtijo5x x1ey2m1c x1o0tod x78zum5 x6s0dn4 xl56j7k"},{children:k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(n.overlayHint,d("WAWebUISpacing").uiPadding.vert8,d("WAWebUISpacing").uiPadding.horiz30),{children:h._(/*BTDS*/"__JHASH__pNYF6afb8SP__JHASH__")}))})):null;return k.jsxs("div",{style:{height:l},className:(j||(j=c("stylex")))(n.businessMap,d("WAWebUISpacing").uiPadding.vert2,d("WAWebUISpacing").uiMargin.top10),children:[b,k.jsx(c("WAWebMap.react"),{lat:e,lng:f,name:a,width:m,height:l})]})}o.displayName=o.name+" [from "+f.id+"]";g.BusinessAddressField=a}),226);
__d("WAWebEditFormParsers",["WAWebSmbUtils"],(function(a,b,c,d,e,f,g){a=function(a){var b=a.description,c=a.email,e=a.address,f=a.website,g=a.categories,h=a.businessHours,i=a.latitude,j=a.longitude,k=a.profileOptions;a=a.memberSinceText;f=f||[];var l=f[0];f=f[1];return{description:b,email:c,address:e,primaryWebsite:l==null?void 0:l.url,secondaryWebsite:f==null?void 0:f.url,hours:d("WAWebSmbUtils").getBusinessHoursForEdit(h),categories:g||[],latitude:i,longitude:j,profileOptions:k,memberSinceText:a}};g.convertRawBusinessProfile=a}),98);
__d("WAWebMailRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="mail-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H20C20.55 4 21.0208 4.19583 21.4125 4.5875C21.8042 4.97917 22 5.45 22 6V18C22 18.55 21.8042 19.0208 21.4125 19.4125C21.0208 19.8042 20.55 20 20 20H4ZM20 8L12.525 12.675C12.4417 12.725 12.3542 12.7625 12.2625 12.7875C12.1708 12.8125 12.0833 12.825 12 12.825C11.9167 12.825 11.8292 12.8125 11.7375 12.7875C11.6458 12.7625 11.5583 12.725 11.475 12.675L4 8V18H20V8ZM12 11L20 6H4L12 11ZM4 8.25V6.775V6.8V6.7875V8.25Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.MailRefreshedIcon=a}),98);
__d("WAWebValidationUtils",["WAWebURLUtils"],(function(a,b,c,d,e,f,g){var h=new RegExp(/^[a-z0-9!#$%&\'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&\'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/);a=function(a){return a==null||a===""||h.test(a)};b=function(a){return a==null||a===""||c("WAWebURLUtils").URL_REGEX.test(a)};g.validateEmail=a;g.validateURL=b}),98);
__d("WAWebEditFormEditFieldsForm.react",["fbt","WAWebAccountBoxIcon.react","WAWebBizBusinessComplianceAddressRequiredModal","WAWebBizComplianceUtil","WAWebBizGatingUtils","WAWebBusinessAddressIcon.react","WAWebBusinessCategoriesResultCollection","WAWebBusinessCategoryIcon.react","WAWebBusinessDescriptionIcon.react","WAWebBusinessEmailIcon.react","WAWebBusinessHours","WAWebBusinessHoursIcon.react","WAWebBusinessProfileIconSection.react","WAWebBusinessProfileModel","WAWebBusinessProfilePhoneSection.react","WAWebBusinessProfileTypes","WAWebBusinessWebsiteIcon.react","WAWebCategories","WAWebCategoryRefreshedIcon.react","WAWebCheckmarkInfoModal.react","WAWebCheckmarkInfoModalLogEvents","WAWebClockRefreshedIcon.react","WAWebConfirmPopup.react","WAWebConnModel","WAWebContactCollection","WAWebContactGetters","WAWebDescriptionRefreshedIcon.react","WAWebDrawerSection.react","WAWebEditFormBusinessAddressField.react","WAWebEditFormBusinessProfileFormField.react","WAWebEditFormLogEvents","WAWebEditFormParsers","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFbtIntlList","WAWebFlex.react","WAWebGlobeRefreshedIcon.react","WAWebLocationRefreshedOutlineIcon.react","WAWebMailRefreshedIcon.react","WAWebMiscGatingUtils","WAWebModalManager","WAWebName.react","WAWebStorefrontIcon.react","WAWebUISpacing","WAWebURLUtils","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","WAWebValidationUtils","WAWebWamEnumBusinessProfileField","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k;b=k||d("react");var l=i||(i=c("react")),m=b.useCallback,n=b.useEffect,o=b.useState,p={businessHoursSection:{display:"x78zum5",$$css:!0},infoText:{color:"x1grh1yo",fontSize:"x1pg5gke",lineHeight:"x37zpob",$$css:!0},verifiedNameIcon:{marginTop:"x1kgmq87",$$css:!0}};function q(a){a=a.hours;var b=a.mode;a=a.days;return b==null?null:l.jsx("div",{children:a.map(function(a,e){var f=a.dayName,g=a.dayKey,h=a.closed;a=a.hours;return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.businessHoursSection,e!==0&&d("WAWebUISpacing").uiMargin.top28),{"data-testid":void 0,children:[l.jsx("div",babelHelpers["extends"]({className:"x1ikap7u xs83m0k x1r8uery xn80e1m"},{children:f})),l.jsx("div",babelHelpers["extends"]({className:"x1bhwmg6 xs83m0k x1r8uery"},{children:l.jsx(r,{mode:b,closed:h,hours:a})}))]}),g)})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.closed,e=a.hours;a=a.mode;if(b)return h._(/*BTDS*/"__JHASH__UAmb-1u2vgf__JHASH__");switch(a){case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return l.jsx(l.Fragment,{children:e&&e.map(function(a,b){var e=a[0];a=a[1];return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(b!==0&&d("WAWebUISpacing").uiMargin.top16),{"data-testid":void 0,children:[e," - ",a]}),b)})});case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return h._(/*BTDS*/"__JHASH__oKZd6YDl9yc__JHASH__");case d("WAWebBusinessProfileTypes").BUSINESS_HOUR_MODES.OPEN_24H:return h._(/*BTDS*/"__JHASH__mLVS1QrzI2k__JHASH__");default:return null}}r.displayName=r.name+" [from "+f.id+"]";function s(a){a=a.categories;return a.length===0?null:l.jsx("div",{"data-testid":void 0,children:c("WAWebFbtIntlList")(a.map(function(a){return a.localized_display_name}),c("WAWebFbtIntlList").CONJUNCTIONS.NONE,c("WAWebFbtIntlList").DELIMITERS.COMMA)})}s.displayName=s.name+" [from "+f.id+"]";function t(a){a=a.config;return l.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,babelHelpers["extends"]({},a))}t.displayName=t.name+" [from "+f.id+"]";function u(a){a=a.isRefreshed;var b=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);b=b.pushname;return b==null?null:l.jsx(t,{config:{theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin,Icon:a?d("WAWebStorefrontIcon.react").StorefrontIcon:d("WAWebAccountBoxIcon.react").AccountBoxIcon,xstyle:p.verifiedNameIcon,content:l.jsxs("div",{children:[l.jsx("div",{children:b}),d("WAWebMiscGatingUtils").isBlueLockingEnabled()===!1&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(p.infoText,d("WAWebUISpacing").uiMargin.top24),{children:h._(/*BTDS*/"__JHASH__WvkT7C40cy2__JHASH__")}))]})}})}u.displayName=u.name+" [from "+f.id+"]";function v(a){a=a.categories;var b=d("useWAWebModelValues").useModelValues(d("WAWebConnModel").Conn,["pushname"]);b=b.pushname;var e=d("WAWebContactCollection").ContactCollection.getMeContact(),f=function(){if(!d("WAWebMiscGatingUtils").isBlueEducationEnabled())return;e&&d("WAWebCheckmarkInfoModalLogEvents").logClickProfileBadge(e);d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCheckmarkInfoModal.react"),{}))};if(e!=null){var g=d("WAWebContactGetters").getShowBusinessCheckmarkInChatlist(e);g=l.jsx(d("WAWebName.react").Name,{contact:e,useVerifiedName:!0,showBusinessCheckmark:g,makeCheckmarkClickable:!0,checkmarkLarge:!0,onClick:g&&d("WAWebMiscGatingUtils").isBlueEducationEnabled()?f:null})}else g=b;return l.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"center",align:"center",children:[l.jsx(d("WAWebFlex.react").FlexItem,{paddingBottom:8,xstyle:d("WAWebUISpacing").uiMargin.bottom2,className:"xngnso2 x1o2sk6j",children:g}),l.jsx(d("WAWebFlex.react").FlexItem,{className:"x1jchvi3 x1o2sk6j xhgddhk",children:l.jsx(s,{categories:a})})]})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.isProfileLocked,e=a.isRefreshed;a=a.url;return a==null?null:l.jsx(t,{config:{Icon:e?d("WAWebGlobeRefreshedIcon.react").GlobeRefreshedIcon:d("WAWebBusinessWebsiteIcon.react").BusinessWebsiteIcon,xstyle:p.verifiedNameIcon,testid:"biz-profile-custom-url-input",onEdit:b===!1?function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"__JHASH__yb9e2U6Yle9__JHASH__")}))}:void 0,content:l.jsx("div",babelHelpers["extends"]({className:"x1yn0g08"},{children:a})),fieldName:h._(/*BTDS*/"__JHASH__rY_I4WRE_2R__JHASH__")}})}w.displayName=w.name+" [from "+f.id+"]";function x(a){return a!=null&&a!==""}function a(a){var b=a.businessProfile,e=a.isRefreshed,f=a.saveBusinessProfile,g=a.sessionId;a=o();var i=a[0],j=a[1];a=o();var k=a[0],p=a[1];a=o();var r=a[0],y=a[1];a=o();var z=a[0],A=a[1];a=o();var B=a[0],C=a[1];a=o();var D=a[0],E=a[1];a=o();var F=a[0],G=a[1];a=o();var H=a[0],I=a[1];a=o();var J=a[0],K=a[1];a=o(!1);var L=a[0],M=a[1];a=o(!1);var N=a[0],O=a[1],P=d("WAWebUserPrefsMeUser").getMeUser(),Q=d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaHardEnforcementBusinessJourney(P);a=o();var R=a[0];a=a[1];n(function(){var a=d("WAWebEditFormParsers").convertRawBusinessProfile(b);j(a.description);y(a.email);p(a.address);A(a.primaryWebsite);C(a.secondaryWebsite);E(x(a.primaryWebsite)&&!a.secondaryWebsite);O(d("WAWebMiscGatingUtils").isBlueLockingEnabled()&&((a=a.profileOptions)==null?void 0:a.isProfileEditDisabled)===!0)},[b]);n(function(){d("WAWebValidationUtils").validateEmail(r)&&G(null)},[r]);n(function(){d("WAWebValidationUtils").validateURL(z)&&I(null)},[z]);n(function(){d("WAWebValidationUtils").validateURL(B)&&K(null)},[B]);var S=function(){var a=[];x(z)&&a.push(z);x(B)&&a.push(B);return{website:a.map(function(a,b){if(!c("WAWebURLUtils").isHttps(a)&&!c("WAWebURLUtils").isHttp(a)){var d="https://"+a;b===0?A(d):C(d);return{url:d}}return{url:a}})}},T=m(function(){return Q?c("WAWebBizBusinessComplianceAddressRequiredModal")():void 0},[Q]),U=d("WAWebEditFormParsers").convertRawBusinessProfile(b),V;b.customUrlPath!=null&&(V=l.jsx(w,{url:""+d("WAWebBusinessProfileModel").BUSINESS_URL_DOMAIN+b.customUrlPath,isProfileLocked:N===!0,isRefreshed:e}));D=x(B)||!D;var W=N?l.jsx(v,{categories:U.categories}):l.jsx(u,{isRefreshed:e}),X=l.jsx(c("WAWebBusinessProfilePhoneSection.react"),{isProfileLocked:N}),Y=l.jsx(t,{config:{Icon:e?d("WAWebDescriptionRefreshedIcon.react").DescriptionRefreshedIcon:d("WAWebBusinessDescriptionIcon.react").BusinessDescriptionIcon,content:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,fieldKey:"description",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.DESCRIPTION,formatForSave:function(){return{description:i}},lowProfile:!0,originalValue:U.description,placeholder:h._(/*BTDS*/"__JHASH__SN0vuvLE9hh__JHASH__"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.DESCRIPTION,emojiBtnPosition:"side",value:i,onActive:a,onChange:j,onSaveBusinessProfile:f})}}),Z=l.jsx(t,{config:{Icon:e?d("WAWebCategoryRefreshedIcon.react").CategoryRefreshedIcon:d("WAWebBusinessCategoryIcon.react").BusinessCategoryIcon,type:"container",emptyText:h._(/*BTDS*/"__JHASH__knKDhhUHQN3__JHASH__"),content:U.categories.length===0?null:l.jsx(s,{categories:U.categories}),fieldName:h._(/*BTDS*/"__JHASH__knKDhhUHQN3__JHASH__"),testid:"biz-profile-category-input",onEdit:function(){d("WAWebUtilsLogQplEvents").qplStartProfileCatsView("Profile"),d("WAWebEditFormLogEvents").logProfileFieldOpen(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g),d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebCategories"),{initialCategories:U.categories,saveBusinessProfile:f,searchCategories:function(a){return d("WAWebBusinessCategoriesResultCollection").BusinessCategoriesResultCollection.find(a)},afterSave:function(){return d("WAWebEditFormLogEvents").logProfileFieldSave(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g)},onCancel:function(){d("WAWebEditFormLogEvents").logProfileFieldDiscard(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.CATEGORY,b,g)}}))}}});k=l.jsx(t,{config:{Icon:e?d("WAWebLocationRefreshedOutlineIcon.react").LocationRefreshedOutlineIcon:d("WAWebBusinessAddressIcon.react").BusinessAddressIcon,disabled:N,content:l.jsx(d("WAWebEditFormBusinessAddressField.react").BusinessAddressField,{businessProfile:U,activeField:R,rawBusinessProfile:b,sessionId:g,value:k,onActive:a,onChange:p,onSaveBusinessProfile:f,validate:function(a){return d("WAWebBizComplianceUtil").existsField(a,P)},onError:T,disabled:N})}});T=l.jsx(t,{config:{Icon:e?d("WAWebClockRefreshedIcon.react").ClockRefreshedIcon:d("WAWebBusinessHoursIcon.react").BusinessHoursIcon,type:"container",emptyText:h._(/*BTDS*/"__JHASH__HaNdTZ1u-J1__JHASH__"),content:U.hours.mode==null?null:l.jsx(q,{hours:U.hours}),fieldName:h._(/*BTDS*/"__JHASH__HaNdTZ1u-J1__JHASH__"),testid:"biz-profile-hours-input",onEdit:function(){d("WAWebEditFormLogEvents").logProfileFieldOpen(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g),d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebBusinessHours"),{businessHours:U.hours,saveBusinessProfile:f,onCancel:function(){d("WAWebEditFormLogEvents").logProfileFieldDiscard(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g)},afterSave:function(){return d("WAWebEditFormLogEvents").logProfileFieldSave(d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.HOURS,b,g)}}))}}});F=l.jsx(t,{config:{Icon:e?d("WAWebMailRefreshedIcon.react").MailRefreshedIcon:d("WAWebBusinessEmailIcon.react").BusinessEmailIcon,disabled:N,content:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:F,fieldKey:"email",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.EMAIL,formatForSave:function(){return{email:r}},lowProfile:!1,originalValue:U.email,placeholder:h._(/*BTDS*/"__JHASH__AImewJwGLX5__JHASH__"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.EMAIL,validate:function(a){return d("WAWebValidationUtils").validateEmail(a)},value:r,onActive:a,onChange:y,onError:function(){G(h._(/*BTDS*/"__JHASH__4aXQWpDl_OS__JHASH__"))},onSaveBusinessProfile:f,disabled:N})}});e=e?d("WAWebGlobeRefreshedIcon.react").GlobeRefreshedIcon:d("WAWebBusinessWebsiteIcon.react").BusinessWebsiteIcon;H=l.jsx(t,{config:{Icon:e,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.SmallMargin,disabled:N,content:l.jsx("div",{children:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:H,fieldKey:"primaryWebsite",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:S,lowProfile:!1,originalValue:U.primaryWebsite,placeholder:h._(/*BTDS*/"__JHASH__L11QvOb8y8W__JHASH__"),rawBusinessProfile:b,sessionId:g,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:d("WAWebValidationUtils").validateURL,value:z,onActive:a,onChange:A,onError:function(){I(h._(/*BTDS*/"__JHASH__CFGhHtJn9UC__JHASH__"))},onSaveBusinessProfile:f,disabled:N})})}});var $;U.primaryWebsite!==void 0&&(D?$=l.jsx(t,{config:{Icon:e,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin,disabled:N,content:l.jsx("div",{children:l.jsx(d("WAWebEditFormBusinessProfileFormField.react").BusinessProfileFormField,{activeField:R,error:J,fieldKey:"secondaryWebsite",fieldMetric:d("WAWebWamEnumBusinessProfileField").BUSINESS_PROFILE_FIELD.WEBSITE,formatForSave:S,lowProfile:!1,originalValue:U.secondaryWebsite,placeholder:h._(/*BTDS*/"__JHASH__L11QvOb8y8W__JHASH__"),rawBusinessProfile:b,sessionId:g,startActive:L,maxLength:d("WAWebBusinessProfileTypes").BUSINESS_PROFILE_FIELDS_LENGTH.WEBSITE,validate:d("WAWebValidationUtils").validateURL,value:B,onActive:a,onChange:C,onError:function(){K(h._(/*BTDS*/"__JHASH__CFGhHtJn9UC__JHASH__"))},onSaveBusinessProfile:f,disabled:N})})}}):(!d("WAWebMiscGatingUtils").isBlueLockingEnabled()||!N)&&($=l.jsx(t,{config:{Icon:e,theme:d("WAWebBusinessProfileIconSection.react").IconSectionTheme.NoMargin,content:l.jsx("div",{children:l.jsx("button",babelHelpers["extends"]({className:"x1uw8iul x1f6kntn xtvhhri"},{onClick:function(){E(!1),M(!0)},children:h._(/*BTDS*/"__JHASH__PcP_y4bFE8p__JHASH__")}))})}})));if(d("WAWebMiscGatingUtils").isBlueLockingEnabled()){if(N){d("WAWebBizGatingUtils").isMetaVerifiedLockedProfileEditingV1Enabled()?D=h._(/*BTDS*/"__JHASH__TERKGcHO0Ry__JHASH__",[h._implicitParam("=m2",l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getBlueFaqUrl(),children:h._(/*BTDS*/"__JHASH__8C1hOkrAK-p__JHASH__")}))]):D=h._(/*BTDS*/"__JHASH__LFenjS_leAu__JHASH__",[h._implicitParam("=m2",l.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getBlueFaqUrl(),children:h._(/*BTDS*/"__JHASH__chUE3ebYOMW__JHASH__")}))]);R=l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:d("WAWebUISpacing").uiMargin.top10,className:"x1grh1yo x1nxh6w3 x37zpob",children:l.jsx(d("WAWebFlex.react").FlexItem,{children:D})});J=l.jsxs(l.Fragment,{children:[W,X,k,F,H,$,R,T,Y]})}else J=l.jsxs(l.Fragment,{children:[W,X,Z,k,F,H,$,T,Y]})}else J=l.jsxs(l.Fragment,{children:[W,V,Y,Z,k,T,F,H,$]});return l.jsx(c("WAWebDrawerSection.react"),{theme:"refresh",xstyle:d("WAWebUISpacing").uiPadding.top0,animation:!1,children:J})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEditFormUiErrorUtils",["WAWebToast.react","WAWebToastManager","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=function(a){d("WAWebToastManager").ToastManager.open(i.jsx(d("WAWebToast.react").Toast,{msg:a,duration:6e3}))};g.showError=a}),98);
__d("WAWebEditForm.react",["fbt","WALogger","WAQplTypes","WAWebBusinessProfileCollection","WAWebBusinessProfileEdit","WAWebButton.react","WAWebDrawerSection.react","WAWebEditFormEditFieldsForm.react","WAWebEditFormLogEvents","WAWebEditFormTypes","WAWebEditFormUiErrorUtils","WAWebFlex.react","WAWebFlexItem.react","WAWebSpinner.react","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUtilsLogQplEvents","asyncToGeneratorRuntime","fbs","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["business_profile:edit_form save failed"]);l=function(){return a};return a}e=k||d("react");var m=i||(i=c("react")),n=e.useEffect,o=e.useMemo,p=e.useState,q={retryButton:{height:"xc9qbxq",$$css:!0},loadingSpinner:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",height:"x5yr21d",$$css:!0}},r=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMeUser").getMeUser(),b=d("WAWebBusinessProfileCollection").BusinessProfileCollection.get(a);b&&b.markStale();b=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.find(a));return b.serialize()});return function(){return a.apply(this,arguments)}}(),s=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebUserPrefsMeUser").getMeUser();a=(yield d("WAWebBusinessProfileCollection").BusinessProfileCollection.update(a));a=Array.isArray(a)?a[0]:a;return a.serialize()});return function(){return a.apply(this,arguments)}}();function a(a){a=a.isRefreshed;var e=p(d("WAWebEditFormTypes").LoadType.PENDING),f=e[0],g=e[1];e=p();var i=e[0],k=e[1],t=o(function(){return Math.floor(2147483648*Math.random()).toString()},[]),u=function(){g(d("WAWebEditFormTypes").LoadType.PENDING),r().then(function(a){k(a),g(d("WAWebEditFormTypes").LoadType.DONE),d("WAWebEditFormLogEvents").logProfileOpen(a,t)})["catch"](function(){g(d("WAWebEditFormTypes").LoadType.ERROR)})};n(function(){u()},[]);if(f===d("WAWebEditFormTypes").LoadType.PENDING)return m.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(q.loadingSpinner,d("WAWebUISpacing").uiPadding.all0),{children:m.jsx(d("WAWebSpinner.react").Spinner,{color:"default",size:24,stroke:6})}));if(f===d("WAWebEditFormTypes").LoadType.ERROR)return m.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__PRZz2MtTQIM__JHASH__"),theme:"refresh",animation:!1,children:m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[m.jsx(c("WAWebFlexItem.react"),{children:h._(/*BTDS*/"__JHASH__ypntTUVAjYm__JHASH__")}),m.jsx(c("WAWebFlexItem.react"),{xstyle:[q.retryButton,d("WAWebUISpacing").uiMargin.start16],children:m.jsx(d("WAWebButton.react").Button,{onClick:function(){u()},type:"simplified",children:h._(/*BTDS*/"__JHASH__8QtB4QTDtNh__JHASH__")})})]})});return f===d("WAWebEditFormTypes").LoadType.DONE&&i?m.jsx(c("WAWebEditFormEditFieldsForm.react"),{isRefreshed:a,sessionId:t,businessProfile:i,saveBusinessProfile:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){try{yield d("WAWebBusinessProfileEdit").editBusinessProfile(a)}catch(a){d("WAWebEditFormUiErrorUtils").showError(c("fbs")._(/*BTDS*/"__JHASH__b-AbtRU1Hz4__JHASH__").toString());d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.FAIL);d("WALogger").WARN(l()).sendLogs("businessProfile edit handled server error - "+a.status);throw a}try{a=(yield s());k(a);d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.SUCCESS);return a}catch(a){d("WAWebEditFormUiErrorUtils").showError(c("fbs")._(/*BTDS*/"__JHASH__ypntTUVAjYm__JHASH__").toString());d("WAWebUtilsLogQplEvents").qplEndProfileSave(d("WAQplTypes").QuickLogActionType.FAIL);throw a}});return function(b){return a.apply(this,arguments)}}()}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUtilsGetColor",["WANullthrows","err"],(function(a,b,c,d,e,f,g){var h=new Map([["sand-200","rgb(234, 224, 214)"],["sand-300","rgb(170, 148, 125)"],["sand-600","rgb(94, 83, 72)"]]),i=function(a){return getComputedStyle(c("WANullthrows")(document.body)).getPropertyValue(a)};function a(a,b){var d=a==="sand"?c("WANullthrows")(h.get(a+"-"+b)):i("--wds-"+a+"-"+b);if(d==="")throw c("err")("Get color failed (color="+a+" depth="+b+"). Please check whether wds color changed or there is a typo in color name.");return d}g["default"]=a}),98);
__d("WAWebUtilsSharpenFilter",[],(function(a,b,c,d,e,f){function a(a){var b=[0,-1,0,-1,5,-1,0,-1,0],c=Math.round(Math.sqrt(b.length)),d=c*.5|0,e=a.data,f=a.width;a=a.height;var g=new Uint8ClampedArray(e);for(var h=0;h<a;h++)for(var i=0;i<f;i++){var j=i,k=h,l=(h*f+i)*4,m=[0,0,0];for(var n=0;n<c;n++)for(var o=0;o<c;o++){var p=k+n-d,q=j+o-d;if(p>=0&&p<a&&q>=0&&q<f){p=(p*f+q)*4;q=b[n*c+o];m[0]+=g[p]*q;m[1]+=g[p+1]*q;m[2]+=g[p+2]*q}}e[l]=m[0];e[l+1]=m[1];e[l+2]=m[2]}}f["default"]=a}),66);
__d("WAWebEditGroupProfileDrawer.react",["fbt","$InternalEnum","ReactKonva","WANullthrows","WAWebCheckmarkLargeIcon.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebEditGroupProfileDrawerColorPanel.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebFlex.react","WAWebFlexItem.react","WAWebIconTabs.react","WAWebMediaEditorEmojiIcon.react","WAWebMediaEditorStickerIcon.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebNoop","WAWebProfileCropConstants","WAWebRound.react","WAWebToast.react","WAWebToastManager","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","asyncToGeneratorRuntime","err","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=64,p=b("$InternalEnum").Mirrored(["EMOJI","STICKER"]),q={body:{flexGrow:"x1iyjqo2",$$css:!0},footer:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",height:"xwvwv9b",zIndex:"xhtitgo",alignItems:"x7a106z",justifyContent:"xl56j7k",backgroundColor:"x1sapvj0",$$css:!0}},r={emojiIcon:{width:"x17z2i9w",height:"x17rw0jw",$$css:!0},stickerIcon:{width:"x1ig0tib",height:"x1pwvq5b",$$css:!0}},s=[["purple","sky-blue","green","yellow","orange","pink"],["cool-gray","cobalt","teal","red","sand"]],t=(e=[]).concat.apply(e,s),u=160,v=104,w={width:90,height:48},x=770;function y(a){var b=[];a=a.split(" ");for(var c=0;c<a.length;c++)a[c].length>0&&b.push(a[c]);return b}function z(a,b){var c="";for(var d=0;d<b.length;d++)c+=(d===0?"":" ")+b[d].text;d=y(c);if(a.length!==d.length)return!0;for(b=0;b<a.length;b++)if(a[b]!==d[b])return!0;return!1}function A(a){switch(a){case"purple":return h._(/*BTDS*/"__JHASH__pxEYmHsXIQL__JHASH__");case"sky-blue":return h._(/*BTDS*/"__JHASH__JlkxXM9FnbX__JHASH__");case"green":return h._(/*BTDS*/"__JHASH__N5SWWgkA3en__JHASH__");case"yellow":return h._(/*BTDS*/"__JHASH__D1HYMqusRfa__JHASH__");case"orange":return h._(/*BTDS*/"__JHASH__7abvtGI45Gn__JHASH__");case"pink":return h._(/*BTDS*/"__JHASH__BsUZFo6Jy-i__JHASH__");case"cool-gray":return h._(/*BTDS*/"__JHASH__WHF5RNN_z01__JHASH__");case"cobalt":return h._(/*BTDS*/"__JHASH__qZZt6LGnCx1__JHASH__");case"teal":return h._(/*BTDS*/"__JHASH__-w4XGW4IYLA__JHASH__");case"red":return h._(/*BTDS*/"__JHASH__s8s32i37zbX__JHASH__");case"sand":return h._(/*BTDS*/"__JHASH__oTkkPzdd5ET__JHASH__")}}function a(a){var e=a.onCancel,f=a.onFinished,g=a.sendEmojiStickerPanelOpenLoggingEvent;a=a.title;var i=n(null),j=i[0],B=i[1];i=n(null);var C=i[0],D=i[1];i=n(null);var E=i[0],F=i[1];i=n(0);var G=i[0],H=i[1];i=n(null);var I=i[0],J=i[1];i=n([]);var K=i[0],L=i[1],M=m(null),N=m(null),O=m(!1),P={EMOJI:0,STICKER:1},Q=m((i={},i[P.EMOJI]=c("WAWebNoop"),i[P.STICKER]=c("WAWebNoop"),i));i=m([]);var R=m(null),S=h._(/*BTDS*/"__JHASH__otlA9IrYrsx__JHASH__");l(function(){var a;(a=N.current)==null?void 0:a.cache()},[j]);l(function(){var a=R.current;if(a==null)return;var b=y(S.toString()),c=z(b,a.textArr);while(a.getHeight()>w.height||c)a.fontSize(a.fontSize()-1),c=z(b,a.textArr)},[S]);var T=k.jsx(d("ReactKonva").Stage,{width:u,height:u,className:"xqui205 xpwdb9g x1hq5gj4 xefazk8 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x6ikm8r x10wlt62 xc8icb0",ref:M,onClick:function(){j==null&&E==null&&F(0)},children:k.jsxs(d("ReactKonva").Layer,{children:[k.jsx(d("ReactKonva").Rect,{width:u,height:u,fill:c("WAWebUtilsGetColor")(t[G],200)}),j==null?k.jsx(d("ReactKonva").Text,{ref:R,x:u/2,y:u/2,width:w.width,height:w.height,offset:{x:w.width/2,y:w.height/2},lineHeight:1.14,align:"center",verticalAlign:"middle",text:S.toString(),fontSize:14,fontFamily:'"SF Pro Text", "SF Pro Icons", system, -apple-system, system-ui, "system-ui", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", "Kohinoor Devanagari", sans-serif',fill:c("WAWebUtilsGetColor")("cool-gray-alpha",50)}):k.jsx(d("ReactKonva").Image,{ref:N,width:v,height:v,offset:{x:v/2,y:v/2},x:u/2,y:u/2,image:j,filters:C===p.EMOJI&&O.current?[c("WAWebUtilsSharpenFilter")]:[]})]})});Object.values(P).forEach(function(a){typeof a==="number"&&(Q.current[a]=function(){E===a&&F(null)})});var U=function(a){g!=null&&g(a)},V=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){try{var e=window.innerHeight<x;if(a!=null)L(null),J(a);else if(b!=null){var f;J(null);L((f=b==null?void 0:b.mediaData.emojis)!=null?f:[])}if(a!=null){f=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(a));f&&(B(f),O.current=f.naturalWidth<=o&&f.naturalHeight<=o,D(p.EMOJI),e&&Q.current[P.EMOJI]())}else if(b!=null){a=(yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromSticker(b));B(a);D(p.STICKER);e&&Q.current[P.STICKER]()}else throw c("err")("Neither emoji nor sticker is provided in handleEmojiStickerSelect()")}catch(a){d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__C9w8O5X_0tX__JHASH__")}))}});return function(b,c){return a.apply(this,arguments)}}(),W=function(){if(j==null)d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__hMxSdmwM_-a__JHASH__"),id:"ChooseAnEmojiOrStickerToContinueToast"}),d("WAWebToastManager").ToastPosition.CENTER);else{var a,b;a=(a=(a=M.current)==null?void 0:a.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/u,quality:0,width:u,height:u}))!=null?a:"";b=(b=(b=M.current)==null?void 0:b.toDataURL({mimeType:"image/jpeg",pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/u,quality:1,width:u,height:u}))!=null?b:"";f(a,b,c("WANullthrows")(C))}};W=k.createElement("div",babelHelpers["extends"]({className:"x1cb1t30"},{key:"btn-submit"}),k.jsx(d("WAWebRound.react").Round,{large:!0,onClick:W,theme:j==null?d("WAWebRound.react").RoundTheme.Disabled:void 0,label:h._(/*BTDS*/"__JHASH__gW0TpUvEri4__JHASH__"),children:k.jsx(d("WAWebCheckmarkLargeIcon.react").CheckmarkLargeIcon,{})}));I=I!=null?h._(/*BTDS*/"__JHASH__xobU7ydisiz__JHASH__",[h._param("emoji name",I),h._param("color name",A(t[G]))]):null;var X=null;if(Array.isArray(K))if(K.length>0){var Y;X=h._(/*BTDS*/"__JHASH__CK9hBRJrIEq__JHASH__",[h._plural((Y=K==null?void 0:K.length)!=null?Y:0),h._param("emoji name",K==null?void 0:K.join(" ")),h._param("color name",A(t[G]))])}else X=h._(/*BTDS*/"__JHASH___5_ZdAPFRiJ__JHASH__",[h._param("color name",A(t[G]))]);K=(Y=I!=null?I:X)!=null?Y:S;return k.jsxs(c("WAWebDrawer.react"),{theme:"products",children:[k.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:a,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.POPUP,onCancel:e}),k.jsxs(c("WAWebDrawerBody.react"),{overflow:"hidden",children:[k.jsxs(d("WAWebFlex.react").FlexColumn,{className:"x16w0wmm x1n2onr6 xh8yej3 x5yr21d",align:"center",justify:"center",children:[k.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:q.body,children:k.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[k.jsx(c("WAWebFlexItem.react"),{role:"img","aria-label":K,children:T}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(d("WAWebIconTabs.react").IconTabs,{refs:i.current,selectedIndex:E,onSelect:function(a){a!==E&&(F(a),U(a===P.EMOJI?p.EMOJI:p.STICKER))},tabConfigs:[{Icon:d("WAWebMediaEditorEmojiIcon.react").MediaEditorEmojiIcon,iconStyle:r.emojiIcon,ariaLabel:h._(/*BTDS*/"__JHASH__tJd2_iASRmu__JHASH__")},{Icon:d("WAWebMediaEditorStickerIcon.react").MediaEditorStickerIcon,iconStyle:r.stickerIcon,ariaLabel:h._(/*BTDS*/"__JHASH__Lgi_15kaHGu__JHASH__")}],popupAtLaunch:!0})}),k.jsx(c("WAWebFlexItem.react"),{children:k.jsx(c("WAWebEditGroupProfileDrawerColorPanel.react"),{className:"x1yl842u",colors:s,selectedIndex:G,onSelect:function(a){H(a)}})})]})}),k.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:q.footer,children:W})]}),E===P.EMOJI&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:c("WANullthrows")((I=i.current[P.EMOJI])==null?void 0:I.current),onSelect:V,onClose:function(){return Q.current[P.EMOJI]()}}),E===P.STICKER&&k.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").StickerPanelPopup,{anchor:c("WANullthrows")((X=i.current[P.STICKER])==null?void 0:X.current),onSelect:function(a){return V(null,a)},onClose:function(){return Q.current[P.STICKER]()}})]})]},"attach-edit-group-profile-modal")}a.displayName=a.name+" [from "+f.id+"]";g.EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD=o;g.ImageType=p;g.COLOR_OPTIONS=t;g.PHOTO_SIZE=u;g.IMAGE_SIZE=v;g.getFbtColorString=A;g.EditGroupProfileDrawer=a}),226);
__d("WAWebEditGroupProfileDrawerColorPanel.react",["WAWebClassnames","WAWebEditGroupProfileDrawer.react","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebThemeContext","WAWebUnstyledButton.react","WAWebUtilsGetColor","react"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.useContext,l=b.useRef,m={btn:{width:"x1td3qas",height:"x10w6t97",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",":focus_borderStartStartRadius":"x13345yd",":focus_borderStartEndRadius":"x1kqiigx",":focus_borderEndEndRadius":"x1iy4mvq",":focus_borderEndStartRadius":"x1nrmj05",$$css:!0},btnSelected:{width:"x1ksvffz",height:"xqaafxp",$$css:!0}};function a(a){var b=a.className,e=a.colors,f=a.onSelect,g=a.selectedIndex;a=k(d("WAWebThemeContext").ThemeContext);var h=a.theme,i=l(g),n=l([]),o={rows:e,getNum:function(){return o.rows.reduce(function(a,b){return a+b.length},0)}};a={right:function(){var a=i.current===o.getNum()-1?0:i.current+1;(a=n.current[a])==null?void 0:a.focus()},left:function(){var a=i.current===0?o.getNum()-1:i.current-1;(a=n.current[a])==null?void 0:a.focus()}};var p=0;return j.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{role:"tablist",handlers:a,className:d("WAWebClassnames").classnamesConvertMeToStylexPlease(b),children:o.rows.map(function(a,b){return j.jsx(d("WAWebFlex.react").FlexRow,{className:"xzbgwbi",justify:"center",children:a.map(function(a){var b=p++,e=g===b;return j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",align:"center",className:"x9f619 x1n7h9c3 x1s1d1n7 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1s7rqsx xavaexc",style:{border:e?"1.5px solid "+c("WAWebUtilsGetColor")(a,h==="light"?600:300):""},children:j.jsx(c("WAWebUnstyledButton.react"),{role:"tab",ref:function(a){return n.current[b]=a},tabIndex:e?0:-1,"aria-label":d("WAWebEditGroupProfileDrawer.react").getFbtColorString(a),"aria-selected":e,onClick:function(){return f(b)},onFocus:function(){i.current=b},children:j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:[m.btn,e&&m.btnSelected],style:{backgroundColor:c("WAWebUtilsGetColor")(a,200)}})})})},b)})},b)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebEditImageModal.react",["fbt","WAWebEditImageDrawer.react","WAWebModal.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.cropShape,c=a.img,e=a.onFinished,f=a.onRetake;a=a.theme;var g=function(){d("WAWebModalManager").ModalManager.close()},i=function(a,b){e(a,b),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebModal.react").Modal,{type:a,ariaLabel:h._(/*BTDS*/"__JHASH__wQS216Fkk_h__JHASH__"),testid:void 0,children:j.jsx(d("WAWebEditImageDrawer.react").EditImageDrawer,{onCancel:g,onFinished:i,onRetake:f,retryText:d("WAWebEditImageDrawer.react").RETRY_OPTIONS.RESTART,img:c,cropShape:b||void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebEphemeralAboutDurationsUtils",["WATimeUtils","WAWebABProps","WAWebEphemeralConstants","fbs"],(function(a,b,c,d,e,f,g){var h=[(b=d("WATimeUtils")).DAY_SECONDS,3*b.DAY_SECONDS,b.WEEK_SECONDS,2*b.WEEK_SECONDS];function i(a){a=d("WAWebEphemeralConstants").getDurationForString(a,!0);var b=a.duration;a=a.unit;switch(a){case d("WAWebEphemeralConstants").DurationUnit.Seconds:return c("fbs")._(/*BTDS*/"__JHASH__VORdjyR9ke9__JHASH__",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Minutes:return c("fbs")._(/*BTDS*/"__JHASH__pq_rlyFJqhS__JHASH__",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Hours:return c("fbs")._(/*BTDS*/"__JHASH__rSYuF_534v8__JHASH__",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Days:return c("fbs")._(/*BTDS*/"__JHASH__9SrM1ZX6O-B__JHASH__",[c("fbs")._plural(b,"duration")]);case d("WAWebEphemeralConstants").DurationUnit.Weeks:return c("fbs")._(/*BTDS*/"__JHASH__P9g8a1uOrPX__JHASH__",[c("fbs")._plural(b,"duration")])}}function j(a,b){return{type:b,value:a,label:i(a)}}function a(){var a=h,b=d("WAWebABProps").getABPropConfigValue("text_status_ttl_seconds_allowlist").split(",");b.length!==0&&(a=b.map(function(a){return Number(a)}).filter(function(a){return!Number.isNaN(a)}));b=a.map(function(a){return j(a,"default")});b.sort(function(a,b){a=a.value;b=b.value;return a-b});return b}g.defaultTextStatusEphemeralDuration=b.DAY_SECONDS;g.getTextStatusEphemeralityDurations=a}),226);
__d("WAWebSelect.react",["WAWebDropdownV2.react","WAWebMenuSearch.react","WAWebSelectButton.react","WAWebSelectMenuItem.react","WAWebToArray","react","useMergeRefs"],(function(a,b,c,d,e,f,g){var h,i;b=i||d("react");var j=h||(h=c("react")),k=b.Children,l=b.useRef,m=b.useState;function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]),f=e.defaultLabel,g=e.customLabel;a=e.children;var h=e.popoverControllerRef,i=e.menuMinWidth,n=e.menuMaxHeight,o=e.ariaRoleDescription,p=e.width,q=e.includeSearchInput,r=e.testid,s=new Map(k.toArray(a).map(function(a){return[a.props.optionId,{optionId:a.props.optionId,label:a.props.primary}]})),t=function(a){var b;g!=null&&(b=g(a));if(b==null&&a!=null&&a.size){a=Array.from(a).map(function(a){a=(a=s.get(a))==null?void 0:a.label;return a!=null?[a,", "]:null}).filter(Boolean).flat().slice(0,-1);b=a.length?a:null}return(a=(a=b)!=null?a:f)!=null?a:""};r=l(null);b=c("useMergeRefs")(b,r);var u=d("WAWebToArray").toArray(e.initialSelection),v=m(u),w=v[0],x=v[1];v=m(t(new Set(u)));u=v[0];var y=v[1];v=function(a,b,c){b=t(c);y(b);x(Array.from(c));e.multiselect===!0?e.onChange==null?void 0:e.onChange(a,c.has(a),new Set(c)):e.onChange==null?void 0:e.onChange(a)};var z=e.multiselect===!0?{multiselect:!0,initialSelection:w}:{multiselect:!1,initialSelection:w[0]};return j.jsx(d("WAWebSelectButton.react").WDSSelectButton,{ref:b,ariaRoleDescription:o,label:u,width:p,testid:void 0,children:j.jsxs(d("WAWebDropdownV2.react").DropdownV2Menu,{target:r,controllerRef:h,position:d("WAWebDropdownV2.react").PopoverPosition.Bottom,alignment:d("WAWebDropdownV2.react").PopoverAlignment.Start,maxHeight:n,minWidth:i!=null?Math.max(i,p):p,initHandling:"click",initialActiveOptionId:w[0],children:[q===!0?j.jsx(d("WAWebMenuSearch.react").MenuSearchInput,{}):null,j.jsx(d("WAWebSelectMenuItem.react").SelectMenuItemGroup,babelHelpers["extends"]({},z,{onSelect:v,children:a}))]})})}a.displayName=a.name+" [from "+f.id+"]";g.Select=a}),98);
__d("WAWebExpandedTextStatusSection.react",["fbt","WAWebButton.react","WAWebContactCollection","WAWebDeleteIcon.react","WAWebDrawerSection.react","WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react","WAWebEmoji","WAWebEmoji.react","WAWebEphemeralAboutDurationsUtils","WAWebFlex.react","WAWebFrontendContactGetters","WAWebMediaEditorEmojiIcon.react","WAWebRadio.react","WAWebRichTextField.react","WAWebSelect.react","WAWebSelectMenuItem.react","WAWebSvgComponentBase","WAWebText.react","WAWebTextStatusAction","WAWebTextStatusGatingUtils","WAWebTimerIcon.react","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsMeUser","WAWebXAltIcon.react","asyncToGeneratorRuntime","fbs","react","stylex","useWAWebContactValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useRef,o=e.useState,p=60,q=[{emoji:"\ud83d\udc4b",text:c("fbs")._(/*BTDS*/"__JHASH__UjRru2hqq0c__JHASH__").toString()},{emoji:"\ud83d\udcbc",text:c("fbs")._(/*BTDS*/"__JHASH__vwQwt8rb8Fi__JHASH__").toString()},{emoji:"\ud83c\udf0f",text:c("fbs")._(/*BTDS*/"__JHASH__S-DmPoDB5Qf__JHASH__").toString()},{emoji:"\ud83e\udd29",text:c("fbs")._(/*BTDS*/"__JHASH___hHdL8c1lre__JHASH__").toString()},{emoji:"\ud83c\udfb6",text:c("fbs")._(/*BTDS*/"__JHASH__m1tEnB0PdZ___JHASH__").toString()}],r={textEmojiContainer:{width:"xh8yej3",$$css:!0},textStatusContainer:{width:"xh8yej3",$$css:!0},deleteColor:{color:"xt16idv",$$css:!0}};function s(a){var b=a.emoji,e=a.onSave,f;a=o(!1);var g=a[0],h=a[1];a=n();var i=function(){h(!0)};if(b!=null){b=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(b);b!=null&&(f=l.jsx(c("WAWebEmoji.react"),{emoji:b},"low-res"))}return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end10),{children:[l.jsx("button",{ref:a,onClick:i,children:f?f:l.jsx(d("WAWebMediaEditorEmojiIcon.react").MediaEditorEmojiIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER})}),g&&a.current&&l.jsx(d("WAWebEditGroupProfileDrawerEmojiStickerPanelPopup.react").EmojiPanelPopup,{anchor:a.current,onSelect:function(a){e(a),h(!1)},onClose:function(){h(!1)}})]}))}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b=a.onSave;a=a.text;var e={ellipsify:!0,multiline:!0,direction:"auto",inferLinesDirection:!0},f=function(a){b(a)};return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(r.textStatusContainer,d("WAWebUISpacing").uiPadding.horiz10),{children:l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:a!=null?a:"",managed:!0,editable:!0,inputPlaceholder:h._(/*BTDS*/"__JHASH__YKk1d556uFk__JHASH__"),showRemaining:!0,maxLength:p,onChange:function(a){a=a.text;return f(a)},theme:"text-input",fieldName:h._(/*BTDS*/"__JHASH__bZ1-XS7fZ0S__JHASH__"),lowProfile:!0,emojiTextSettingsInLockMode:e,focusOnMount:!0})}))}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b=a.onSave;a=a.duration;var c=d("WAWebEphemeralAboutDurationsUtils").getTextStatusEphemeralityDurations();return l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.top30,children:[l.jsx(d("WAWebTimerIcon.react").TimerIcon,{height:24,width:24,DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER,xstyle:d("WAWebUISpacing").uiPadding.end10}),l.jsx(d("WAWebSelect.react").Select,{width:180,defaultLabel:h._(/*BTDS*/"__JHASH__s1SdSKT_ilt__JHASH__"),initialSelection:a.toString(),onChange:function(a){return b(Number(a))},testid:void 0,children:c.map(function(a){return l.jsx(d("WAWebSelectMenuItem.react").SelectMenuItem,{optionId:""+a.value,primary:a.label.toString()})})})]})}u.displayName=u.name+" [from "+f.id+"]";function v(a){var b=a.emoji,e=a.handleDeleteSuggestion,f=a.onSave,g=a.suggestions;a=a.text;var i=function(a,b){return a+" "+b.trim()};b=l.jsx(d("WAWebRadio.react").RadioGroup,{name:"suggestions",theme:d("WAWebRadio.react").RadioWithLabelThemeEnum.NORMAL,checkedValue:i(b!=null?b:"",a!=null?a:""),options:g.map(function(a,b){var g=a.emoji,h=a.text;a=i(g!=null?g:"",h!=null?h:"");var k=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(g!=null?g:"");return{value:a,label:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[k!=null?l.jsx(c("WAWebEmoji.react"),{emoji:k},"low-res"):l.jsx(d("WAWebMediaEditorEmojiIcon.react").MediaEditorEmojiIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER,height:20,width:20}),l.jsx("span",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.start7),{children:h}))]}),hoverIcon:l.jsx(c("WAWebUnstyledButton.react"),{onClick:function(){return e(b)},children:l.jsx(d("WAWebDeleteIcon.react").DeleteIcon,{iconXstyle:r.deleteColor})}),onChange:function(){return f(g,h)}}})});return l.jsxs("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.top30),{children:[l.jsx(d("WAWebText.react").WAWebTextSmall,{xstyle:d("WAWebUISpacing").uiPadding.bottom10,children:h._(/*BTDS*/"__JHASH__yoZpibnx4yR__JHASH__")}),b]}))}v.displayName=v.name+" [from "+f.id+"]";function a(a){var e=a.onClose,f=c("useWAWebUnmountSignal")();a=o([]);var g=a[0],i=a[1],k=function(a){i((a==null?void 0:a.length)?a:q)};a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser());a=d("useWAWebContactValues").useContactValues(a.id,[d("WAWebFrontendContactGetters").getTextStatusString,d("WAWebFrontendContactGetters").getTextStatusEmoji,d("WAWebFrontendContactGetters").getTextStatusEphemeralDuration]);var n=a[0],p=a[1],w=a[2];a=o(n);var x=a[0],y=a[1];a=o(p);var z=a[0],A=a[1];a=d("WAWebEphemeralAboutDurationsUtils").getTextStatusEphemeralityDurations();a=a.find(function(a){return a.value===w});a=o((a=a==null?void 0:a.value)!=null?a:d("WAWebEphemeralAboutDurationsUtils").defaultTextStatusEphemeralDuration);var B=a[0],C=a[1];m(function(){void b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()||f.aborted)return;var a=(yield d("WAWebTextStatusAction").getSuggestions());if(f.aborted)return;k(a)})()},[f.aborted]);a=o(!1);a[0];a[1];a=function(a){y(a)};var D=function(a){A(a)},E=function(){y(null),A(null)},F=function(a){C(a)},G=function(){return g==null?void 0:g.some(function(a){return a.emoji===z&&a.text===x})},H=function(a,b){A(a),y(b)},I=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(x===n&&z===p&&B===w){e();return}yield d("WAWebTextStatusAction").setMyTextStatus(x,z,B).then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){(Boolean(x)||Boolean(z))&&!G()&&(yield d("WAWebTextStatusAction").setSuggestions([{emoji:z,text:x}].concat(g!=null?g:[])))}));e()});return function(){return a.apply(this,arguments)}}(),J=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(a==null||g==null)return;var b=[].concat(g);b.splice(a,1);try{yield d("WAWebTextStatusAction").setSuggestions(b),k(b)}catch(a){}});return function(b){return a.apply(this,arguments)}}(),K=h._(/*BTDS*/"__JHASH__-cBizDKkVAU__JHASH__");I=l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"primary",onClick:I,children:h._(/*BTDS*/"__JHASH__Hsy4HvIu9qr__JHASH__")},1);var L=l.jsx(d("WAWebButton.react").Button,{testid:void 0,type:"secondary",onClick:e,children:h._(/*BTDS*/"__JHASH__4HfvP_ZA-zm__JHASH__")},0);L=l.jsxs(d("WAWebButton.react").ButtonGroup,{direction:"horizontal",children:[L,I]});I=l.jsx(c("WAWebUnstyledButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__MoAlVUgNcoB__JHASH__"),testid:void 0,onClick:E,children:l.jsx(d("WAWebXAltIcon.react").XAltIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.GRAY})});return l.jsxs(c("WAWebDrawerSection.react"),{title:K,animation:!1,theme:"padding",children:[l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:r.textEmojiContainer,align:"center",children:[l.jsx(s,{emoji:z,onSave:D}),l.jsx(t,{text:x,onSave:a}),I]}),l.jsx(u,{duration:B,onSave:F}),l.jsx(v,{text:x,emoji:z,suggestions:g,handleDeleteSuggestion:J,onSave:H}),l.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",className:(j||(j=c("stylex")))(d("WAWebUISpacing").uiPadding.vert30),children:L})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebExpressionsRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="expressions-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsxs("g",{opacity:.9,children:[j.jsx("path",{d:"M8.49893 10.2521C9.32736 10.2521 9.99893 9.5805 9.99893 8.75208C9.99893 7.92365 9.32736 7.25208 8.49893 7.25208C7.6705 7.25208 6.99893 7.92365 6.99893 8.75208C6.99893 9.5805 7.6705 10.2521 8.49893 10.2521Z",fill:"currentColor"}),j.jsx("path",{d:"M17.0011 8.75208C17.0011 9.5805 16.3295 10.2521 15.5011 10.2521C14.6726 10.2521 14.0011 9.5805 14.0011 8.75208C14.0011 7.92365 14.6726 7.25208 15.5011 7.25208C16.3295 7.25208 17.0011 7.92365 17.0011 8.75208Z",fill:"currentColor"}),j.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8221 19.9799C15.5379 21.2537 13.8087 21.9781 12 22H9.27273C5.25611 22 2 18.7439 2 14.7273V9.27273C2 5.25611 5.25611 2 9.27273 2H14.7273C18.7439 2 22 5.25611 22 9.27273V11.8141C22 13.7532 21.2256 15.612 19.8489 16.9776L16.8221 19.9799ZM14.7273 4H9.27273C6.36068 4 4 6.36068 4 9.27273V14.7273C4 17.6393 6.36068 20 9.27273 20H11.3331C11.722 19.8971 12.0081 19.5417 12.0058 19.1204L11.9935 16.8564C11.9933 16.8201 11.9935 16.784 11.9941 16.7479C11.0454 16.7473 10.159 16.514 9.33502 16.0479C8.51002 15.5812 7.84752 14.9479 7.34752 14.1479C7.24752 13.9479 7.25585 13.7479 7.37252 13.5479C7.48919 13.3479 7.66419 13.2479 7.89752 13.2479L13.5939 13.2479C14.4494 12.481 15.5811 12.016 16.8216 12.0208L19.0806 12.0296C19.5817 12.0315 19.9889 11.6259 19.9889 11.1248V9.07648H19.9964C19.8932 6.25535 17.5736 4 14.7273 4ZM14.0057 19.1095C14.0066 19.2605 13.9959 19.4089 13.9744 19.5537C14.5044 19.3124 14.9926 18.9776 15.4136 18.5599L18.4405 15.5576C18.8989 15.1029 19.2653 14.5726 19.5274 13.996C19.3793 14.0187 19.2275 14.0301 19.0729 14.0295L16.8138 14.0208C15.252 14.0147 13.985 15.2837 13.9935 16.8455L14.0057 19.1095Z",fill:"currentColor"})]})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ExpressionsRefreshedIcon=a}),98);
__d("WAWebFolderOpenRefreshedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="folder-open-refreshed";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M4 20C3.45 20 2.97917 19.8042 2.5875 19.4125C2.19583 19.0208 2 18.55 2 18V6C2 5.45 2.19583 4.97917 2.5875 4.5875C2.97917 4.19583 3.45 4 4 4H9.175C9.44167 4 9.69583 4.05 9.9375 4.15C10.1792 4.25 10.3917 4.39167 10.575 4.575L12 6H21C21.2833 6 21.5208 6.09583 21.7125 6.2875C21.9042 6.47917 22 6.71667 22 7C22 7.28333 21.9042 7.52083 21.7125 7.7125C21.5208 7.90417 21.2833 8 21 8H11.175L9.175 6H4V18L5.975 11.425C6.10833 10.9917 6.35417 10.6458 6.7125 10.3875C7.07083 10.1292 7.46667 10 7.9 10H20.8C21.4833 10 22.0208 10.2708 22.4125 10.8125C22.8042 11.3542 22.9083 11.9417 22.725 12.575L20.925 18.575C20.7917 19.0083 20.5458 19.3542 20.1875 19.6125C19.8292 19.8708 19.4333 20 19 20H4ZM6.1 18H19L20.8 12H7.9L6.1 18Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.FolderOpenRefreshedIcon=a}),98);
__d("WAWebFormatForwardErrorChatAction",["fbt","WAWebChatGetters","WAWebStringsWithMultiplePluralParts"],(function(a,b,c,d,e,f,g,h){function a(a){var b=a.chat,c=a.undelivered,e=a.canForward;a=a.cannotForward;e=e.length-c.length;var f=a.length+c.length;if(e>0)return c.length?a.length?d("WAWebStringsWithMultiplePluralParts").getCannotForwardFileMissingAndCapabilityContactString(f,b.formattedTitle):h._(/*BTDS*/"__JHASH__gS9a7nT-6F3__JHASH__",[h._plural(f,"count")]):d("WAWebStringsWithMultiplePluralParts").getCannotForwardCapabilityContactString(f,b.formattedTitle);if(c.length)return a.length?!d("WAWebChatGetters").getIsUser(b)?h._(/*BTDS*/"__JHASH__vBqz_StOxXW__JHASH__",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"__JHASH__vBqz_StOxXW__JHASH__",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"__JHASH__f5YCKIGz_sX__JHASH__");return!d("WAWebChatGetters").getIsUser(b)?h._(/*BTDS*/"__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)]):h._(/*BTDS*/"__JHASH__cFIoioNvs0a__JHASH__",[h._param("contact",b.formattedTitle)])}g["default"]=a}),226);
__d("WAWebForwardErrorChatAction",["WACustomError"],(function(a,b,c,d,e,f,g){a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.reasons=b;return c}return b}(d("WACustomError").customError("ForwardError"));g["default"]=a}),98);
__d("WAWebForwardMediaWithCaptionPopupNux.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebFlex.react","WAWebModal.react","WAWebText_DONOTUSE.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={featureDescriptionParagraph:{textAlign:"x2b8uid",$$css:!0}};function a(a){var b=a.onOk;a=function(){b()};var e=h._(/*BTDS*/"__JHASH__aaBehuw1wrd__JHASH__");return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okText:c("WAWebFbtCommon")("OK"),onOK:a,type:d("WAWebModal.react").ModalTheme.ForwardMediaWithCaption,children:j.jsx(d("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:j.jsx(d("WAWebText_DONOTUSE.react").TextParagraph,{xstyle:[k.featureDescriptionParagraph,d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.bottom32],children:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebForwardMediaWithCaptionPreview.react",["fbt","WAWebChatMsgSymbol.react","WAWebChatPreferenceCollection","WAWebClickable.react","WAWebClock","WAWebDocumentRefreshedIcon.react","WAWebEmojiPickerPlugin","WAWebEmojiSuggestions.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFormatConfiguration","WAWebFormatMsgText","WAWebFrontendMsgGetters","WAWebImageIcon.react","WAWebMediaThumbnail.react","WAWebMediaUrlProvider","WAWebMsgType","WAWebRichTextInput.react","WAWebStatusDocumentIcon.react","WAWebSuggestionsPanelContainer.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebVideoPlaceholderIcon.react","WAWebWamEnumWebcRmrReasonCode","WAWebXIcon.react","react","stylex","useWAWebModelValues"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={wrapper:{position:"x1n2onr6",height:"xcbkimw",width:"x3p9ev8",backgroundColor:"xtl5do8",$$css:!0},textContainer:{position:"x1n2onr6",height:"x5yr21d",width:"xh8yej3",$$css:!0},container:{position:"x1n2onr6",height:"x5yr21d",width:"x86nts4",backgroundColor:"x1bu39yj",$$css:!0},captionPreviewContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},composerContainer:{cursor:"x1ed109x",opacity:"xg01cxk",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},composerWrapper:{display:"x78zum5",$$css:!0},composerInput:{height:"x1plxi8p",alignItems:"x6s0dn4",$$css:!0},composerFont:{fontSize:"x4xgy31",$$css:!0},mediaThumbContainer:{minWidth:"xculje8",height:"x5yr21d",$$css:!0},placeholderIcon:{width:"xh8yej3",height:"x5yr21d",$$css:!0},documentIcon:{height:"xng8ra",width:"x1247r65",$$css:!0},thumbContainer:{width:"x46vnbo",height:"x11daxxc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x14rkfp4",borderInlineEndColor:"x1ykej3n",borderBottomColor:"xolcn3t",borderInlineStartColor:"xskrr25",$$css:!0},thumb:{overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundRepeat:"xiy17q3",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",$$css:!0},quotedCaption:{flexGrow:"x1iyjqo2",width:"xh8yej3",overflowX:"x6ikm8r",overflowY:"x10wlt62",fontSize:"x1f6kntn",fontWeight:"xo1l8bm",position:"x1n2onr6",color:"xyvbeiw",$$css:!0},xButton:{position:"x1n2onr6",top:"xfr5jun",insetInlineEnd:"x11dcrhx",left:null,right:null,$$css:!0},xDimensions:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},xIconColor:{color:"x1szdls9",$$css:!0},captionTextContainer:{width:"xh8yej3",$$css:!0},captionTextSpacing:{whiteSpace:"xti2ec1",$$css:!0},captionPreviewContainerAnimate:{animationName:"xvma63k",animationDuration:"xw8ag78",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0},composerContainerAnimate:{animationName:"x127lhb5",animationDuration:"x4afe7t",animationDelay:"x1k0bccz",animationTimingFunction:"x1wg5k15",animationFillMode:"x10e4vud",backfaceVisibility:"xlp1x4z",$$css:!0}};function a(a){var b=a.displayCaptionText,e=a.msg,g=a.onAppendMessage,i=a.onRemoveCaptionSelect;a=d("useWAWebModelValues").useModelValues(c("WAWebChatPreferenceCollection").getDefault(),["spellcheck","transformTextEmoji","enterIsSend"]);var k=function(a){a.stopPropagation(),a.preventDefault(),i()},o=function(){var b=null,a=null;switch(e.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:b=h._(/*BTDS*/"__JHASH__q6dTFCv-wOB__JHASH__");break;case d("WAWebMsgType").MSG_TYPE.VIDEO:e.isGif?b=h._(/*BTDS*/"__JHASH__BdIbb2QU_eH__JHASH__"):(b=h._(/*BTDS*/"__JHASH__n0ymn3rOVmB__JHASH__"),a=d("WAWebClock").Clock.durationStr(Number(e.duration))+" ");break;case d("WAWebMsgType").MSG_TYPE.DOCUMENT:b=e.filename;break}b=l.jsxs("span",babelHelpers["extends"]({className:"xk50ysn"},{children:[" ",b," "]}));return[a,b]},p=function(a){g(a.text)},q=l.jsx(c("WAWebChatMsgSymbol.react"),{msg:e.unsafe()},"msg-symbol");o=o();var r=o[0];o=o[1];var s=c("WAWebFormatMsgText")({msg:e.unsafe(),options:{unformat:!1}}),t=d("WAWebFormatConfiguration").QuotedMention({mentions:e.mentionMap(),groupMentions:e.groupMentionMap()});q=l.jsxs(d("WAWebFlex.react").FlexColumn,{className:(j||(j=c("stylex")))([n.quotedCaption,d("WAWebUISpacing").uiPadding.all8]),align:"start",justify:"center",children:[l.jsxs(c("WAWebFlexItem.react"),{children:[q,r,o]}),l.jsx(c("WAWebFlexItem.react"),{xstyle:[d("WAWebUISpacing").uiMargin.vert5,n.captionTextContainer],children:l.jsx(d("WAWebEmojiText.react").EmojiText,{xstyle:n.captionTextSpacing,className:"x1evy7pa x104kibb x6ikm8r x10wlt62 xlyipyv x1h7i4cw x1ua5tub",direction:d("WAWebFrontendMsgGetters").getDir(e),text:s,formatters:t,ellipsify:!0,testid:void 0},"status")})]});r=h._(/*BTDS*/"__JHASH__1qEqAhdy8GK__JHASH__");o=b?l.jsxs(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.captionPreviewContainer,!b&&n.captionPreviewContainerAnimate],children:[l.jsx("span",{className:"x2lah0s x51ohtg x1rr48d"}),q,l.jsx(c("WAWebUnstyledButton.react"),{xstyle:[n.xButton,n.xDimensions],onClick:k,title:r,"aria-label":r,testid:void 0,children:l.jsx(d("WAWebXIcon.react").XIcon,{xstyle:n.xDimensions,iconXstyle:n.xIconColor,height:20,width:20})})]}):null;s=m();var u=s[0];t=s[1];q=u==null?void 0:u.editor;k=q&&!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx("div",babelHelpers["extends"]({className:"x1n2onr6 xh8yej3"},{children:l.jsx(d("WAWebEmojiSuggestions.react").EmojiSuggestions,{kind:d("WAWebSuggestionsPanelContainer.react").SuggestionsPanelKind.ComposeBox,editor:q})}));r=h._(/*BTDS*/"__JHASH__RXsFvYB02SV__JHASH__");s=function(){u==null?void 0:u.focus()};q=b?null:l.jsx(d("WAWebClickable.react").Clickable,{onClick:s,children:l.jsx(c("WAWebFlexItem.react"),{grow:1,xstyle:[n.container,n.composerContainer,n.composerContainerAnimate],children:l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.all12,n.composerWrapper),{children:l.jsx(d("WAWebRichTextInput.react").RichTextInput,{ref:t,xstyle:n.composerInput,textXstyle:n.composerFont,multiline:!0,textFormatEnabled:!0,readOnly:!1,placeholder:r,title:r,maxVisibleLines:3,onChange:p,testid:void 0,bulletPointsEnabled:!0,numberedListEnabled:!0,inlineCodeEnabled:!0,blockQuoteEnabled:!0,spellCheck:a.spellcheck,transformTextEmoji:a.transformTextEmoji,enterIsNewLine:!a.enterIsSend,children:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx(d("WAWebEmojiPickerPlugin").EmojiPickerPlugin,{})})}))})});function v(a){switch(a.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:return d("WAWebImageIcon.react").ImageIcon;case d("WAWebMsgType").MSG_TYPE.VIDEO:return d("WAWebVideoPlaceholderIcon.react").VideoPlaceholderIcon;default:return d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?d("WAWebDocumentRefreshedIcon.react").DocumentRefreshedIcon:d("WAWebStatusDocumentIcon.react").StatusDocumentIcon}}function w(a){var b=v(a);return a.type===d("WAWebMsgType").MSG_TYPE.DOCUMENT?l.createElement("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d"},{key:"default"}),l.jsx(b,{iconXstyle:n.documentIcon})):l.createElement("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d"},{key:"default"}),l.jsx(b,{iconXstyle:n.placeholderIcon}))}w.displayName=w.name+" [from "+f.id+"]";var x=w(e);function y(a){switch(a.type){case d("WAWebMsgType").MSG_TYPE.IMAGE:return l.jsx(c("WAWebMediaUrlProvider"),{mediaData:a.mediaData,placeholderRenderer:function(){return x},downloadMedia:function(){return a.downloadMedia({downloadEvenIfExpensive:!1,rmrReason:d("WAWebWamEnumWebcRmrReasonCode").WEBC_RMR_REASON_CODE.OTHER,isUserInitiated:!1})},renderProgressively:!1,children:function(a){return l.jsx("div",{className:(j||(j=c("stylex")))([n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8]),style:{backgroundImage:"url("+a+")"}})}});case d("WAWebMsgType").MSG_TYPE.STICKER_PACK:return l.jsx(c("WAWebMediaThumbnail.react"),{msg:a,thumbnailPlaceholder:x,containerClassName:"x46vnbo x11daxxc x1obq294 x5a5i1n xde0f50 x15x8krk x178xt8z x1lun4ml xso031l xpilrb4 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x14rkfp4 x1ykej3n xolcn3t xskrr25"});default:return l.jsx(c("WAWebMediaThumbnail.react"),{msg:a,thumbnailPlaceholder:x,childClassName:(j||(j=c("stylex")))(n.thumbContainer,n.thumb,d("WAWebUISpacing").uiMargin.end8)})}}b=y(e);s=l.jsx(c("WAWebFlexItem.react"),{grow:0,xstyle:n.mediaThumbContainer,children:b});return l.jsxs(l.Fragment,{children:[l.jsx(d("WAWebFlex.react").FlexRow,{children:k}),l.jsx("div",babelHelpers["extends"]({},j.props([n.wrapper,d("WAWebUISpacing").uiPadding.all8]),{children:l.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:n.textContainer,align:"center",justify:"start",children:[s,o,q]})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebWamEnumChannelForwardContentType",[],(function(a,b,c,d,e,f){a=Object.freeze({UPDATE:0,UPDATE_CARD:1});f.CHANNEL_FORWARD_CONTENT_TYPE=a}),66);
__d("WAWebPsChannelPostForwardWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChannelForwardContentType","WAWebWamEnumMediaType","WAWebWamEnumMessageChatType"],(function(a,b,c,d,e,f,g){b=(a=d("WAWebWamCodegenUtils")).defineEvents({PsChannelPostForward:[4746,{channelForwardContentType:[6,d("WAWebWamEnumChannelForwardContentType").CHANNEL_FORWARD_CONTENT_TYPE],channelForwardGroupType:[1,d("WAWebWamEnumMessageChatType").MESSAGE_CHAT_TYPE],cid:[2,a.TYPES.STRING],destinationChannelId:[7,a.TYPES.STRING],destinationPostId:[8,a.TYPES.STRING],mediaType:[3,d("WAWebWamEnumMediaType").MEDIA_TYPE],postId:[4,a.TYPES.STRING]},[1,1,1],"private",0]},{PsChannelPostForward:[]});g.PsChannelPostForwardWamEvent=b}),98);
__d("WAWebLogNewsletterMessageForward",["WAWebGetMessageChatTypeFromWid","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebPsChannelPostForwardWamEvent"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e;c=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.id.remote:(c=a.forwardedNewsletterMessageInfo)==null?void 0:c.newsletterId;var f=a.getWamMediaType();e=d("WAWebMsgGetters").getIsNewsletterMsg(a)?a.serverId:(e=a.forwardedNewsletterMessageInfo)==null?void 0:e.serverMessageId;for(b of b){var g={channelForwardGroupType:d("WAWebGetMessageChatTypeFromWid").getMessageChatTypeFromWid(b.id),mediaType:f};h({origin:a.id.remote,destination:b})&&Object.assign(g,{cid:c==null?void 0:c.user,postId:e==null?void 0:e.toString(),destinationChannelId:b.id.user});new(d("WAWebPsChannelPostForwardWamEvent").PsChannelPostForwardWamEvent)(g).commit()}}function h(a){var b=a.origin;a=a.destination;return b.isNewsletter()&&a.id.isNewsletter()&&d("WAWebNewsletterGatingUtils").isNewsletterForwardToChannelLoggingEnabled()}g.logNewsletterMessageForward=a}),98);
__d("WAWebForwardMessagesToChat",["Promise","WAPromiseProps","WAWebBlockContactAction","WAWebChatForwardMessage","WAWebChatGetters","WAWebFormatForwardErrorChatAction","WAWebForwardErrorChatAction","WAWebLogNewsletterMessageForward","WAWebMsgActionCapability","WAWebMsgCollection","WAWebMsgGetters","WAWebNewsletterGatingUtils","WAWebWamChatPSALogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){var h;function a(a,b,c){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){f===void 0&&(f=!1);var g=(h||(h=b("Promise"))).all(a.map(function(a){d("WAWebMsgGetters").getIsPSA(a)&&d("WAWebWamChatPSALogger").logChatPSAForward(a);d("WAWebNewsletterGatingUtils").isNewsletterMessageForwardLoggingEnabled()&&d("WAWebMsgGetters").getHasOriginatedFromNewsletter(a)&&d("WAWebLogNewsletterMessageForward").logNewsletterMessageForward(a,e);return d("WAPromiseProps").promiseProps({message:a,canForward:d("WAWebMsgActionCapability").canForwardMsg(a)&&(d("WAWebMsgCollection").MsgCollection.get(a.id)!=null||d("WAWebMsgGetters").getIsEphemeral(a))})}));a=(yield h.all(e.filter(function(a){return a.canSend}).map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=d("WAWebChatGetters").getIsUser(a)&&a.contact.isContactBlocked?d("WAWebBlockContactAction").unblockContact(a.contact):(h||(h=b("Promise"))).resolve(!0);c=(yield (h||(h=b("Promise"))).all([g,c]));c=c[0];var e=c.filter(function(a){return a.canForward===!0}).map(function(a){return a.message});c=c.filter(function(a){return a.canForward===!1}).map(function(a){return a.message});return d("WAPromiseProps").promiseProps({chat:a,undelivered:d("WAWebChatForwardMessage").forwardMessages(a,e,!0,f),msgsThatCanBeforwarded:e,msgsThatCannotBeForwarded:c})});return function(b){return a.apply(this,arguments)}}())));a=a.map(function(a){var b=a.chat,d=a.undelivered,e=a.msgsThatCanBeforwarded;a=a.msgsThatCannotBeForwarded;var f=null;(d.length||a.length)&&(f=c("WAWebFormatForwardErrorChatAction")({chat:b,undelivered:d,canForward:e,cannotForward:a}));return f!=null&&f!==""?{chat:b,reason:f}:null}).filter(Boolean);if(a.length)throw new(c("WAWebForwardErrorChatAction"))(a);else return!0});return i.apply(this,arguments)}g.forwardMessagesToChats=a}),98);
__d("WAWebHighlyForwardedIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="highly-forwarded";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=16;m=20;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 20 16",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M13.6059557,5.26308901 C13.6220086,5.26163419 13.6302968,5.26102868 13.6302968,5.26102868 L13.6666317,3.82396292 C13.6881611,2.97246613 14.1900805,2.77489995 14.7806307,3.3754967 L18.4132486,7.06991365 C18.7126057,7.37436354 18.7160739,7.87287893 18.4230266,8.18124118 L14.7679628,12.0273223 C14.1812438,12.6447038 13.7056141,12.4510723 13.7056141,11.6045324 L13.7056141,9.93754567 L14.8701549,8.71214475 C15.4496567,8.10235763 15.441656,7.13001879 14.8512575,6.52957627 L13.6059557,5.26308901 L13.6059557,5.26308901 Z",fillOpacity:.25,fill:"currentColor"}),j.jsx("path",{d:"M9.55511091,3.82396292 C9.57664026,2.97246613 10.0785597,2.77489995 10.6691099,3.3754967 L14.3017278,7.06991365 C14.6010849,7.37436354 14.6045531,7.87287893 14.3115058,8.18124118 L10.656442,12.0273223 C10.069723,12.6447038 9.59409325,12.4510723 9.59409325,11.6045324 L9.59409325,9.87219486 C9.59409325,9.87219486 5.03474338,9.49878283 2.43099409,12.3846575 C1.83824676,12.8974744 1.66218866,12.9568393 1.47026458,12.8572726 C1.32851376,12.7423664 1.28325362,12.3846575 1.73218749,11.260453 C3.56459895,5.69602505 9.51877595,5.26102868 9.51877595,5.26102868 L9.55511091,3.82396292 Z",fillOpacity:.4,fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.HighlyForwardedIcon=a}),98);
__d("WAWebFrequentlyForwardedWarning.react",["fbt","WAWebCellFrame.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebHighlyForwardedIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.frequentlyForwardedCount;a=a.totalCount;b=j.jsxs("span",{children:[b===1&&a===1?h._(/*BTDS*/"__JHASH__u9y9vWwQqR-__JHASH__"):h._(/*BTDS*/"__JHASH__MJ9CvlrZLhO__JHASH__")," ",j.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getFrequentlyForwardedFaqUrl(),children:h._(/*BTDS*/"__JHASH__RR1bpeluTQm__JHASH__")})]});return j.jsxs("div",babelHelpers["extends"]({className:"x78zum5 x150wa6m xso031l x1q0q8m5 xcsjwe9"},{children:[j.jsx("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 x14iifvp xefazk8 x1wm35g"},{children:j.jsx(d("WAWebHighlyForwardedIcon.react").HighlyForwardedIcon,{width:24,height:24})})),j.jsx(c("WAWebCellFrame.react"),{theme:"plain",primary:b,idle:!0})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewsletterForwardConfirmationModal.react",["fbt","WAWebConfirmPopup.react","WAWebFbtCommon","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useState;function m(){d("WAWebModalManager").ModalManager.close()}function a(a){var b=a.forwardToChat,e=a.handleConfirm;a=l(!1);var f=a[0],g=a[1];a=k(function(){g(!0),e()["finally"](function(){g(!1)})},[e]);return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{okSpinner:f,okDisabled:f,cancelDisabled:f,onOK:a,okText:n.okText(),title:n.title(b.name),onCancel:m,cancelText:c("WAWebFbtCommon")("Cancel"),children:n.body()})}a.displayName=a.name+" [from "+f.id+"]";var n={title:function(a){return h._(/*BTDS*/"__JHASH__8S0ET8aZ3DY__JHASH__",[h._param("channel-name",a)])},body:function(){return h._(/*BTDS*/"__JHASH__8dr3e4DjJO2__JHASH__")},okText:function(){return h._(/*BTDS*/"__JHASH__uEoTTP4tATP__JHASH__")}};g.NewsletterForwardConfirmationModal=a}),226);
__d("WAWebForwardMessageModal.react",["fbt","Keys","Promise","WAFilteredCatch","WALogger","WAWebChatGetters","WAWebChatModel","WAWebCmd","WAWebConfirmPopup.react","WAWebConstantsDeprecated","WAWebContactGetters","WAWebFbtCommon","WAWebForwardErrorChatAction","WAWebForwardMediaWithCaptionPopupNux.react","WAWebForwardMediaWithCaptionPreview.react","WAWebForwardMessagesToChat","WAWebFrequentlyForwardedWarning.react","WAWebFrontendMsgGetters","WAWebMessageAssociationGatingUtils","WAWebMessageAssociationUIUtils","WAWebMessageYourselfMetricUtils","WAWebModalManager","WAWebMsgGetters","WAWebMsgModelUtils","WAWebMsgType","WAWebNewsletterForwardConfirmationModal.react","WAWebNewsletterFutureProofUtils","WAWebNewsletterGatingUtils","WAWebNewsletterSendMsgAction","WAWebNux","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","WAWebUim","WAWebUimUie.react","WAWebViewMode.flow","asyncToGeneratorRuntime","react","useWAWebNux"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["[FMC][handleForwardConfirmed] failed to append message with forwarded media"]);l=function(){return a};return a}var m=k||c("react"),n=(j||(j=d("react"))).useState,o=1;function a(a){var e=a.getAnnouncementSummary,f=a.msgs,g=a.onBack,h=a.onClose,i=a.onForward,j=[];!d("WAWebMessageAssociationGatingUtils").isMessageAssociationInfraEnabled()?j.push.apply(j,f):f==null?void 0:f.forEach(function(a){var b=d("WAWebFrontendMsgGetters").getAsAlbum(a);if(b){b=d("WAWebMessageAssociationUIUtils").getHiddenAssociatedMessages(a.id,d("WAWebViewMode.flow").ViewModeSurface.CHAT);j.push.apply(j,b)}else j.push(a)});var k=j[0];a=d("WAWebFrontendMsgGetters").getChat(k);f=j.some(d("WAWebMsgGetters").getIsFrequentlyForwarded);var l=j.some(function(a){return a.isForwarded}),w=j.filter(function(a){return!d("WAWebMsgGetters").getIsFrequentlyForwarded(a)&&a.getForwardingScoreWhenForwarded()===c("WAWebConstantsDeprecated").FREQUENTLY_FORWARDED_SENTINEL});w=w.length?m.jsx(c("WAWebFrequentlyForwardedWarning.react"),{frequentlyForwardedCount:w.length,totalCount:j.length}):void 0;var x=f?o:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,y=d("WAWebMsgModelUtils").getMediaMsgWithCaptionForForwarding(j),z=n(!!y),A=z[0],B=z[1];z=c("useWAWebNux")(d("WAWebNux").NUX.FORWARD_MEDIA_WITH_CAPTION);var C=z[0],D=z[1];z=n(!1);var E=z[0],F=z[1];z=function(){B(!1)};var G=n(null),H=G[0],I=G[1];G=function(a){I(a)};function J(a,b){b===void 0&&(b=!1);var c=a.find(function(a){return d("WAWebChatGetters").getIsNewsletter(a)});return c!=null?d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebNewsletterForwardConfirmationModal.react").NewsletterForwardConfirmationModal,{forwardToChat:c,handleConfirm:function(){return K(a,b)}})):K(a,b)}function K(a,b){return L.apply(this,arguments)}function L(){L=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b===void 0&&(b=!1);if(A&&C&&!a.some(t)){F(!0);return}var e=a[0],f=d("WAWebForwardMessagesToChat").forwardMessagesToChats(j,a,A)["catch"](d("WAFilteredCatch").filteredCatch(c("WAWebForwardErrorChatAction"),function(a){return s(a.reasons)}))["finally"](function(){return r(H,a)});d("WAWebChatGetters").getIsNewsletter(e)&&(yield f);h();i==null?void 0:i(j);return d("WAWebCmd").Cmd.openChatFromUnread(a[0]).then(function(c){c&&d("WAWebContactGetters").getIsMe(a[0].contact)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfSearchAction.logMessageYourselfOpenedEvent(a[0],b)})});return L.apply(this,arguments)}f={onBack:g,hasFrequentlyForwarded:f,hasForwarded:l,onConfirm:J,maxItems:x,excludeChat:a,isDisabled:function(a){return u(a,k)},customItemSecondaryText:v,excludeBroadcast:!0,title:q.title(j.length,k),includeNewsletters:d("WAWebNewsletterGatingUtils").isForwardToNewsletterEnabled(a.id),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal,customHeader:w,ephemeralIcon:"chat-list",hasDirtyAppendMsgComposeBox:H!=null&&H!=="",chatFilter:function(a){return!a.id.isBot()},previewComponent:m.jsx(p,{includeCaption:A,handleAppendMessage:G,handleRemoveCaption:z,msgs:j,mediaMsgWithCaption:y})};return m.jsxs(m.Fragment,{children:[m.jsx(d("WAWebUimUie.react").UIE,{displayName:"MessageForwardModal",escapable:!0,requestDismiss:function(a,b){a===d("WAWebUim").DismissReason.UIM_INTERACTION&&b instanceof KeyboardEvent&&b.keyCode===c("Keys").ESC&&(g==null?void 0:g())},children:m.jsx(d("WAWebSelectModal.react").SelectModal,babelHelpers["extends"]({},f,{tsNavigationData:d("WAWebChatGetters").getIsNewsletter(a)?{surface:"channel-forward",extras:{channelWid:a.id}}:{surface:"forward-selection-modal"},getAnnouncementSummary:e}))}),E&&m.jsx(c("WAWebForwardMediaWithCaptionPopupNux.react"),{onOk:function(){D(),F(!1)}})]})}a.displayName=a.name+" [from "+f.id+"]";function p(a){var b=a.handleAppendMessage,e=a.handleRemoveCaption,f=a.includeCaption,g=a.mediaMsgWithCaption;a=a.msgs;var h=a.length===1&&d("WAWebMsgGetters").getIsMedia(a[0])&&!a[0].caption;a=a[0];if(d("WAWebChatGetters").getIsNewsletter(d("WAWebFrontendMsgGetters").getChat(a)))return null;if(g)return m.jsx("div",babelHelpers["extends"]({className:"x11uqc5h xv32h1t xh8yej3 xtl5do8 x9f619 xpx74rz"},{children:m.jsx(c("WAWebForwardMediaWithCaptionPreview.react"),{msg:g,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})}));return h?m.jsx("div",babelHelpers["extends"]({className:"x11uqc5h xv32h1t xh8yej3 xtl5do8 x9f619 xpx74rz"},{children:m.jsx(c("WAWebForwardMediaWithCaptionPreview.react"),{msg:a,displayCaptionText:f,onRemoveCaptionSelect:e,onAppendMessage:b})})):null}p.displayName=p.name+" [from "+f.id+"]";var q={title:function(a,b){return d("WAWebMsgGetters").getIsNewsletterMsg(b)?h._(/*BTDS*/"__JHASH__3SJFCQq0qE-__JHASH__",[h._plural(a)]):h._(/*BTDS*/"__JHASH__IIflRvLsiRu__JHASH__",[h._plural(a)])}};function r(a,c){if(a==null||a==="")return;c=c.map(function(b){return d("WAWebChatGetters").getIsNewsletter(b)?d("WAWebNewsletterSendMsgAction").sendNewsletterTextMsg(b,a,{}):d("WAWebSendTextMsgChatAction").sendTextMsgToChat(b,a)});return(i||(i=b("Promise"))).all(c)["catch"](function(a){d("WALogger").DEV(l()).devConsole({error:a})})}function s(a){a=a.map(function(a){var b=a.chat;a=a.reason;return m.jsxs("p",{children:[b.formattedTitle," : ",a]},b.id.toString())});d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}),void 0)}function t(a){return a instanceof d("WAWebChatModel").Chat&&d("WAWebChatGetters").getIsNewsletter(a)}function u(a,b){if(!t(a))return!1;return b.type===d("WAWebMsgType").MSG_TYPE.PTV?!d("WAWebNewsletterGatingUtils").isNewsletterPTVForwardingEnabled():!d("WAWebNewsletterFutureProofUtils").isMsgTypeSupported(b.type)}function v(a,b){if(!b||!t(a))return;return h._(/*BTDS*/"__JHASH__DX3LyTu06T-__JHASH__")}g["default"]=a}),226);
__d("WAWebGetMeUsernameQueryAction",["WAWebContactCollection","WAWebGetUsernameQueryJob","asyncToGeneratorRuntime","err"],(function(a,b,c,d,e,f,g){function a(){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=d("WAWebContactCollection").ContactCollection.getMeContact();if(a==null)throw c("err")("Failed to retrieve self contact");a=(yield d("WAWebGetUsernameQueryJob").getUsernameJob());return a});return h.apply(this,arguments)}g.getMeUsername=a}),98);
__d("WAWebGroupInviteRevokeModal.react",["fbt","WAWebConfirmPopup.react","WAWebModalManager","WAWebUISpacing","react","stylex"],(function(a,b,c,d,e,f,g,h){var i,j,k=i||c("react"),l={confirmationText:{display:"x1lliihq",fontSize:"x6prxxf",lineHeight:"x1fc57z9",color:"xzwifym",$$css:!0}};function a(a){var b=a.onConfirm;a=a.chat;var e=function(){d("WAWebModalManager").ModalManager.close()},f=function(){b(),d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__"),onOK:f,okText:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__"),onCancel:e,cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),children:k.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(l.confirmationText,d("WAWebUISpacing").uiPadding.top4,d("WAWebUISpacing").uiPadding.bottom5,d("WAWebUISpacing").uiPadding.horiz0),{children:h._(/*BTDS*/"__JHASH__tAVaWTdQvtM__JHASH__",[h._param("community",a.contact.name)])}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebRevokeIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="revoke";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",enableBackground:"new    ",d:"M7.7,11.1v1.8h8.7v-1.8H7.7z M12,3.3c-4.7,0-8.7,3.8-8.7,8.7 s3.8,8.7,8.7,8.7s8.7-3.9,8.7-8.7S16.7,3.3,12,3.3z M12,18.9c-3.9,0-6.9-3.1-6.9-6.9s3-6.9,6.9-6.9s6.9,3.1,6.9,6.9 S15.9,18.9,12,18.9z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.RevokeIcon=a}),98);
__d("WAWebGroupInviteLinkDrawer.react",["fbt","WAAbortError","WAFilteredCatch","WALogger","WAPromiseDelays","WAPromiseRaceAbort","WAWebABProps","WAWebBackendErrors","WAWebCellFrame.react","WAWebCommunityGatingUtils","WAWebCommunityRestrictedGroupActionModal.react","WAWebCopyLinkButton.react","WAWebCopyPasteSelectable.react","WAWebDetailImage.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerButton.react","WAWebDrawerHeader.react","WAWebEmojiText.react","WAWebEmptyState.react","WAWebFlex.react","WAWebFlexItem.react","WAWebFocusTracer","WAWebGroupInviteAction","WAWebGroupInviteRevokeModal.react","WAWebGroupInviteUtils.react","WAWebGroupQueryJob","WAWebGroupType","WAWebMiscErrors","WAWebModalManager","WAWebNoop","WAWebPendingParticipantsIcon.react","WAWebRevokeIcon.react","WAWebSendGroupInviteFlowLoadable","WAWebSendLinkButton.react","WAWebText_DONOTUSE.react","WAWebToast.react","WAWebToastManager","WAWebUISpacing","WAWebUnstyledButton.react","react","useWAWebFocusOnMount","useWAWebListener","useWAWebModelValues","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected admin"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["GroupInviteLinkDrawer: expected group of type community, found: ",""]);l=function(){return a};return a}b=j||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useState,p={groupInfo:{backgroundColor:"x15g3fpr",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",$$css:!0},groupInfoAvatar:{minWidth:"x900493",$$css:!0},groupInfoName:{fontSize:"x1jchvi3",lineHeight:"x1xet1wb",color:"xzwifym",$$css:!0},groupInfoLink:{maxWidth:"x193iq5w",$$css:!0},link:{color:"x1eqckd8",lineHeight:"x37zpob",$$css:!0},descText:{fontSize:"x1f6kntn",lineHeight:"x37zpob",$$css:!0},icon:{color:"xt16idv",$$css:!0},iconContainer:{minWidth:"xnei2rj",$$css:!0},linkButton:{color:"x1n68mz9",$$css:!0}},q="group-invite-link-anchor",r={LOADING:0,REVOKING:1,SUCCESS:2};function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.onBack,f=a.chat,g=a.isCommunity,i=a.onGroupSettings,j=o(r.LOADING),s=j[0],t=j[1],u=c("useWAWebUnmountSignal")(),v=c("useWAWebFocusOnMount")();d("useWAWebListener").useListener(d("WAWebModalManager").ModalManager,["close_modal"],function(){return c("WAWebFocusTracer").focus(v.current)});var w=d("useWAWebModelValues").useModelValues(a.groupMetadata,["inviteCode","groupInviteLink","groupType","membershipApprovalMode","participants"]);g&&w.groupType!==d("WAWebGroupType").GroupType.COMMUNITY&&d("WALogger").ERROR(l(),w.groupType).sendLogs("group-invite-link-drawer-invalid-group-type");var x=function(a){switch(a){case 401:return h._(/*BTDS*/"__JHASH__8Cc9cKzyeuu__JHASH__");case 403:return h._(/*BTDS*/"__JHASH__sZeZ5wbgW23__JHASH__");case 404:return h._(/*BTDS*/"__JHASH__lSUPMAXKsae__JHASH__");case 416:return h._(/*BTDS*/"__JHASH__JKwzz-2pL4z__JHASH__");case 436:return h._(/*BTDS*/"__JHASH__GRJIQssw7fy__JHASH__");default:return h._(/*BTDS*/"__JHASH__9Nk5GyWM0mC__JHASH__")}},y=function(a){var b=x(a);e();a===436?(d("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:f.id}),d("WAWebGroupInviteUtils.react").openGrowthLockedModal(!0)):a===416&&d("WAWebCommunityGatingUtils").isCommunitySuspendAppealEnabled()&&d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebCommunityRestrictedGroupActionModal.react").CommunityRestrictedGroupActionModal,{chat:f}));d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:b}))};n(function(){if(!w.participants.iAmAdmin()){d("WALogger").LOG(k()).sendLogs("group-invite-link-drawer-user-not-admin");var a=401;y(a,f);return}c("WAPromiseRaceAbort")(d("WAWebGroupInviteAction").queryGroupInviteCode(w),u).then(function(){t(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){y(a.statusCode,f)}))["catch"](d("WAAbortError").catchAbort(c("WAWebNoop")))},[]);var z=function(a){a=x(a);e();d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:a}))},A=function(){t(r.REVOKING);var a=d("WAWebGroupInviteAction").revokeGroupInvite(w);d("WAPromiseDelays").delayMs(500).then(function(){return a}).then(function(){d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__1tyjfal6acv__JHASH__")})),t(r.SUCCESS)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){z(a.statusCode)}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebMiscErrors").Unmount,c("WAWebNoop")))};j=function(){d("WAWebModalManager").ModalManager.open(m.jsx(c("WAWebGroupInviteRevokeModal.react"),{chat:f,onConfirm:A}),{transition:"modal-flow"})};g=function(){d("WAWebModalManager").ModalManager.open(m.jsx(d("WAWebSendGroupInviteFlowLoadable").SendGroupInviteFlowLoadable,{chat:f}),{transition:"modal-flow"})};var B=w.groupType===d("WAWebGroupType").GroupType.COMMUNITY?h._(/*BTDS*/"__JHASH__bohlJxHOCnu__JHASH__"):h._(/*BTDS*/"__JHASH__uiYYYxMi4Uu__JHASH__"),C;if(s===r.LOADING)C=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"__JHASH__2I-O6g8WUCn__JHASH__")});else if(s===r.REVOKING)C=m.jsx(d("WAWebEmptyState.react").LoadingWithText,{text:h._(/*BTDS*/"__JHASH__CvYD24HVJ88__JHASH__",[h._param("groupName",f.contact.name)])});else{s=w.groupInviteLink;var D=null;document.queryCommandSupported("copy")&&(D=m.jsx(c("WAWebCopyLinkButton.react"),{elementId:q,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}));var E=w.groupType===d("WAWebGroupType").GroupType.COMMUNITY||w.groupType===d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP,F=m.jsx(d("WAWebDetailImage.react").DetailImage,{id:f.id,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?48:82,quality:d("WAWebDetailImage.react").DetailImageQuality.High,shape:E?d("WAWebDetailImage.react").DetailImageShape.Squircle:d("WAWebDetailImage.react").DetailImageShape.Circle});s=m.jsx("span",babelHelpers["extends"]({className:"x1vvkbs xeaf4i8"},{children:m.jsx(d("WAWebCopyPasteSelectable.react").SelectableLink,{id:q,href:s,selectable:!0,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{xstyle:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")&&p.link,size:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"13":"15",color:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"link":void 0,children:s})})}));if(d("WAWebABProps").getABPropConfigValue("group_join_request_m3")){var G,H;H=m.jsxs(d("WAWebFlex.react").FlexRow,{xstyle:[p.groupInfo,(H=d("WAWebUISpacing")).uiMargin.top16,H.uiMargin.horiz16,H.uiPadding.vert12,H.uiPadding.horiz8],align:"center",children:[m.jsx(G=c("WAWebFlexItem.react"),{xstyle:[p.groupInfoAvatar,H.uiPadding.horiz8],children:F}),m.jsx(G,{xstyle:H.uiPadding.horiz8,children:m.jsxs(d("WAWebFlex.react").FlexColumn,{justify:"start",children:[m.jsx(G,{children:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto",xstyle:p.groupInfoName})}),m.jsx(G,{xstyle:p.groupInfoLink,children:s})]})})]})}else H=m.jsx(c("WAWebCellFrame.react"),{image:F,primary:m.jsx(d("WAWebEmojiText.react").EmojiText,{text:f.contact.name,direction:"auto"}),theme:"identity",secondary:s});var I;E?G=m.jsx("div",babelHelpers["extends"]({className:"xjv05ge xpwdb9g xieb3on xvc51xn x1f6kntn x37zpob"},{children:h._(/*BTDS*/"__JHASH__iG4pEnc5PG1__JHASH__")})):d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?(G=m.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",xstyle:d("WAWebUISpacing").uiPadding.vert16,children:[m.jsx(c("WAWebFlexItem.react"),{xstyle:[p.iconContainer,d("WAWebUISpacing").uiPadding.horiz25],children:m.jsx(d("WAWebPendingParticipantsIcon.react").PendingParticipantsIcon,{xstyle:p.icon})}),m.jsx(c("WAWebFlexItem.react"),{xstyle:d("WAWebUISpacing").uiPadding.end24,children:m.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"dark",xstyle:p.descText,children:w.membershipApprovalMode?h._(/*BTDS*/"__JHASH__WdF7KWmPw0t__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:i,xstyle:p.linkButton,children:h._(/*BTDS*/"__JHASH__HLnQehpmtSF__JHASH__")}))]):h._(/*BTDS*/"__JHASH__Y6_X1u83fuK__JHASH__",[h._implicitParam("=m2",m.jsx(c("WAWebUnstyledButton.react"),{onClick:i,xstyle:p.linkButton,children:h._(/*BTDS*/"__JHASH__8Izdwh7rOor__JHASH__")}))])})})]}),I=m.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz24],children:m.jsx("div",{className:"xh8yej3 xjm9jq1 xxnau4b"})})):G=m.jsx("div",babelHelpers["extends"]({className:"xjv05ge xpwdb9g xieb3on xvc51xn x1f6kntn x37zpob"},{children:h._(/*BTDS*/"__JHASH__czoO0DYVxve__JHASH__")}));C=m.jsxs(c("WAWebDrawerBody.react"),{children:[H,G,I,m.jsx(c("WAWebSendLinkButton.react"),{onClick:g,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3")}),D,m.jsx(d("WAWebDrawerButton.react").DrawerButtonSimple,{testid:void 0,icon:m.jsx(d("WAWebRevokeIcon.react").RevokeIcon,{xstyle:p.icon}),onClick:j,divider:!d("WAWebABProps").getABPropConfigValue("group_join_request_m3"),children:h._(/*BTDS*/"__JHASH__xwPr7MwJ9LO__JHASH__")})]})}return m.jsxs(c("WAWebDrawer.react"),{ref:b,theme:d("WAWebABProps").getABPropConfigValue("group_join_request_m3")?"invite":void 0,testid:void 0,children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:B,onBack:a.onBack,rtlFixIfOnDarwin:!0,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL}),m.jsx("div",{ref:v,tabIndex:-1,children:C})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoSections",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["DELIVERED_FOOTER","DELIVERED_HEADER","FORWARD_COUNT","PLAYED_FOOTER","PLAYED_HEADER","READ_FOOTER","READ_HEADER","SEEN_FOOTER","SEEN_HEADER","VIEWED_FOOTER","VIEWED_HEADER","AGENT_HEADER","KEEP_IN_CHAT_HEADER"]);f.Sections=a}),66);
__d("useWAWebMsgInfoValues",["WAWebMsgInfoCollection","useWAWebCollectionValues"],(function(a,b,c,d,e,f,g){function a(a,b){return d("useWAWebCollectionValues").useCollectionValues(d("WAWebMsgInfoCollection").MsgInfoCollection,a,b)}g.useMsgInfoValues=a}),98);
__d("WAWebGroupMsgInfoSectionFooter.react",["fbt","WALogger","WAWebGroupMsgInfoSections","WAWebMsgInfoGetters","WAWebText.react","react","useWAWebMsgInfoValues"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section footer"]);j=function(){return a};return a}var k=i||c("react");function a(a){var b=a.msgInfo;a=a.section;b=d("useWAWebMsgInfoValues").useMsgInfoValues(b.id,[d("WAWebMsgInfoGetters").getPlayedRemaining,d("WAWebMsgInfoGetters").getReadRemaining,d("WAWebMsgInfoGetters").getDeliveryRemaining]);var c=b[0],e=b[1];b=b[2];var f,g;switch(a){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER:f=c;g=c;break;case d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:f=e;g=e;break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER:f=b;g=b;break;default:d("WALogger").ERROR(j());return null}if(f==null||f===0)return null;a=h._(/*BTDS*/"__JHASH__CbgEK68DWQW__JHASH__",[h._plural(g,"count")]);return k.jsx("div",babelHelpers["extends"]({"data-testid":void 0},{className:"x1yrsyyn x5zjp28 x1g2khh7 x162tt16 x150wa6m x1bnvlk4"},{children:k.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:a})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoDrawer.react",["fbt","WALogger","WANullthrows","WAWebAgentCollection","WAWebBizAgentAction","WAWebBizGatingUtils","WAWebChatAgentMsgInfoCell.react","WAWebChatGroupMsgInfoCell.react","WAWebChatKeptByMsgInfoCell.react","WAWebChatPreferenceCollection","WAWebContactCollection","WAWebDisplayType","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebElevatedPushNamesFlag","WAWebFlatList.react","WAWebFlatListController","WAWebFrontendMsgGetters","WAWebGroupMetadataCollection","WAWebGroupMsgInfoSectionFooter.react","WAWebGroupMsgInfoSections","WAWebKeepInChatIcon.react","WAWebL10N","WAWebLabelsInfoDrawerLabelWell.react","WAWebMessagePosition","WAWebMicIcon.react","WAWebMsgCollection","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebMsgPreview.react","WAWebMsgType","WAWebMultiDeviceIcon.react","WAWebRow.react","WAWebSpinner.react","WAWebStatusDblcheckIcon.react","WAWebStatusPttIcon.react","WAWebStatusVideoIcon.react","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUiActionWamEvent","WAWebUseIsFeatureEnabled","WAWebUserPrefsMeUser","WAWebViewOnceViewedIcon.react","WAWebWamAddressingModeUtils","WAWebWamEnumUiActionType","WAWebWamGroupMetricUtils","WAWebWamMsgUtils","WAWebWamPrivateStatsUtils","WAWebWrapper.react","react","stylex","useLazyRef","useWAWebForceUpdate","useWAWebListener","useWAWebMsgValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["Invalid SECTION for group message info section header"]);l=function(){return a};return a}b=k||d("react");var m=i||(i=c("react")),n=b.useEffect,o=b.useRef,p=b.useState,q={svg:{width:"x1xp8n7a",height:"xmix8c7",$$css:!0},statusBlue:{color:"xy5zui7",$$css:!0},ack:{color:"x1q15gih",$$css:!0},titleRefreshed:{display:"x78zum5",$$css:!0}},r=50,s=50,t=d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT+10,u=d("WAWebFlatList.react").FlatListFactory();function v(a){var b=a.chat,d=a.elevatedPushNamesEnabled;a=a.participant;return m.jsx(c("WAWebChatGroupMsgInfoCell.react"),{msgInfoParticipant:a,chat:b,contact:a.contact,elevatedPushNamesEnabled:d,theme:"drawer-list"})}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.agentName;a=a.msg;return m.jsx(c("WAWebChatAgentMsgInfoCell.react"),{msg:a,agentName:b,theme:"drawer-list"})}w.displayName=w.name+" [from "+f.id+"]";function x(a){return d("WAWebContactCollection").ContactCollection.assertGet(a)}function y(a){a=a.msg;var b=d("WAWebMsgGetters").getKicSender(a);if(b!=null){b=x(b);return m.jsx(c("WAWebChatKeptByMsgInfoCell.react"),{kicTimestampMs:a.kicTimestampMs,contact:b,theme:"drawer-list"})}return}y.displayName=y.name+" [from "+f.id+"]";function z(a){var b=a.msg;a=a.section;var e,f;switch(a){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:b.type===d("WAWebMsgType").MSG_TYPE.PTV?f=m.jsx(d("WAWebStatusVideoIcon.react").StatusVideoIcon,{xstyle:q.statusBlue,iconXstyle:q.svg}):d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?f=m.jsx(d("WAWebMicIcon.react").MicIcon,{xstyle:q.statusBlue,iconXstyle:q.svg}):f=m.jsx(d("WAWebStatusPttIcon.react").StatusPttIcon,{xstyle:q.statusBlue,iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__AP0qxXOIn-5__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:f=m.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:q.ack,iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__xJiKcZN6tI2__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:f=m.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{xstyle:q.ack,iconXstyle:q.svg});e=b.isViewOnce?h._(/*BTDS*/"__JHASH__oOoKvSHPyyX__JHASH__"):h._(/*BTDS*/"__JHASH__ycel2ZWWS7x__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:f=m.jsx(d("WAWebStatusDblcheckIcon.react").StatusDblcheckIcon,{iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__P9P0UHc43lP__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:f=m.jsx(d("WAWebViewOnceViewedIcon.react").ViewOnceViewedIcon,{xstyle:q.statusBlue,iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__SZQ1d0VCh5d__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:f=m.jsx(d("WAWebMultiDeviceIcon.react").MultiDeviceIcon,{iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__X4PWOvced5F__JHASH__");break;case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:f=m.jsx(d("WAWebKeepInChatIcon.react").KeepInChatIcon,{iconXstyle:q.svg});e=h._(/*BTDS*/"__JHASH__x50cpi-6y_F__JHASH__");break;default:d("WALogger").ERROR(l());return null}if(d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled())return m.jsxs("div",babelHelpers["extends"]({"data-testid":void 0,dir:c("WAWebL10N").LR()},(j||(j=c("stylex"))).props(q.titleRefreshed,d("WAWebUISpacing").uiPadding.all20,d("WAWebUISpacing").uiPadding.top0),{children:[f,m.jsx(d("WAWebText.react").WAWebTextMutedRefreshed,{as:"span",xstyle:d("WAWebUISpacing").uiPadding.horiz10,textWrap:"ellipsis",children:e})]}));f=m.jsx("div",babelHelpers["extends"]({className:"x1rg5ohu x1xp8n7a x1qx5ct2 xq22nx5 x2b8uid x16dsc37"},{children:f}));return m.jsx("div",babelHelpers["extends"]({"data-testid":void 0},{className:"xyinxu5 x5zjp28 x1l90r2v x162tt16 x150wa6m"},{children:m.jsx(c("WAWebRow.react"),{side:f,ellipsify:!0,children:m.jsx(d("WAWebText.react").WAWebTextSectionTitle,{as:"span",children:e})})}))}z.displayName=z.name+" [from "+f.id+"]";function A(a){var b=a.data,e=a.msg;a=a.msgInfo;if(b.kind==="contact-row")return m.jsx(v,{participant:b.participant,chat:d("WAWebFrontendMsgGetters").getChat(e),elevatedPushNamesEnabled:d("WAWebElevatedPushNamesFlag").elevatedPushNamesM2Enabled(d("WAWebFrontendMsgGetters").getChat(e))});if(b.kind==="agent-row")return m.jsx(w,{msg:e,agentName:b.agentName});if(b.kind==="kept-by-row")return m.jsx(y,{msg:e});switch(b.type){case d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.READ_HEADER:case d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:case d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER:case d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER:case d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER:return m.jsx(z,{msg:e,section:b.type});default:return m.jsx(c("WAWebGroupMsgInfoSectionFooter.react"),{section:b.type,msgInfo:c("WANullthrows")(a)})}}A.displayName=A.name+" [from "+f.id+"]";function a(a){var b,e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.msg;b=d("useWAWebMsgValues").useMsgValues(a.msg.id,[(b=d("WAWebMsgGetters")).getId,b.getStar,b.getType,b.getIsGif,b.getIsViewOnce,b.getLabels,b.getNumTimesForwarded,b.getIsFrequentlyForwarded,b.getAgendId,b.getKicSender,b.getKicTimestampMs,b.getIsKept,b.getLatestEditMsgKey]);var g=b[0];b[1];var i=b[2];b[3];var j=b[4],k=b[5];b[6];b[7];var l=b[8],q=b[9];b[10];var v=b[11];b[12];var w=d("WAWebFrontendMsgGetters").getChat(f),x=d("WAWebWamMsgUtils").msgIsLid(f,w.id),y=c("useWAWebUnmountSignal")(),z=c("useWAWebUIM")(),B=c("useLazyRef")(function(){return new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.MSG_INFO_OPEN,uiActionPreloaded:!0,isLid:x})});b=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});var C=o(null),D=o(null),E=p(void 0),F=E[0],G=E[1];E=p(!1);var H=E[0],I=E[1];n(function(){var a;d("WAWebMsgInfoCollection").MsgInfoCollection.find(g).then(function(a){if(y.aborted)return;G(a)})["catch"](function(){I(!0),d("WAWebToastManager").ToastManager.open(m.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__7Oc8AbKOOJ2__JHASH__"),id:d("WAWebToast.react").genId("msg_info_failed")}))});a=(a=C.current)==null?void 0:a.getContainer();i===d("WAWebMsgType").MSG_TYPE.IMAGE&&a&&(a.scrollTop=a.scrollHeight)},[]);n(function(){var a=B.current;if(a){var b=c("WAWebGroupMetadataCollection").get(w.id),e=b==null?void 0:b.cachedDeviceSizeBucket;e!=null&&(a.sizeBucket=e);b!=null&&Object.assign(a,d("WAWebWamGroupMetricUtils").getGroupCountMetricsFromGroupMetadata(b),d("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(b));a.markUiActionT();a.commit();B.current=void 0}d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents();d("WAWebBizAgentAction").logMessageInfo(l)},[]);var J=c("WAWebUseIsFeatureEnabled")("MD_EXTENSION");E=function(a,b){b===void 0&&(b=!1);return a===g&&(b?!0:(a=D.current)==null?void 0:a.getMsgComponentRef())};var K=function(){z==null?void 0:z.requestDismiss()},L=function(){var a=[];F&&v&&q!=null&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.KEEP_IN_CHAT_HEADER,height:s}),a.push({kind:"kept-by-row",itemKey:"kept-by-"+q.user,height:t}));if(J&&d("WAWebBizGatingUtils").isMultiDeviceMessageAttributionEnabled()&&l!=null){var b;b=(b=(b=d("WAWebAgentCollection").AgentCollection.get(l))==null?void 0:b.name)!=null?b:"";a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.AGENT_HEADER,height:s});a.push({kind:"agent-row",agentName:b,itemKey:"agent-"+b.toString(),height:t})}b=d("WAWebMsgGetters").getIsAckPlayable(f);var c=b||j;if(F&&c){var e=b&&!j?d("WAWebGroupMsgInfoSections").Sections.PLAYED_HEADER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_HEADER;a.push({kind:"section",type:e,itemKey:e,height:s});a.push.apply(a,F.played.map(function(a){return{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}));F.playedRemaining>0&&(e=b&&!j?d("WAWebGroupMsgInfoSections").Sections.PLAYED_FOOTER:d("WAWebGroupMsgInfoSections").Sections.VIEWED_FOOTER,a.push({kind:"section",type:e,itemKey:e,height:r}))}F&&(F.read.length>0||F.playedRemaining>0)&&(a.push({kind:"section",type:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_HEADER:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.READ_HEADER,height:s}),a.push.apply(a,F.read.map(function(a){var b;return((b=f.invokedBotWid)==null?void 0:b.isBot())&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),F.readRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,itemKey:c?d("WAWebGroupMsgInfoSections").Sections.SEEN_FOOTER:d("WAWebGroupMsgInfoSections").Sections.READ_FOOTER,height:r}));F&&(F.delivery.length>0||F.deliveryRemaining>0)&&(a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_HEADER,height:s}),a.push.apply(a,F.delivery.map(function(a){var b;return((b=f.invokedBotWid)==null?void 0:b.isBot())&&d("WAWebUserPrefsMeUser").isMeAccount(a.id)?null:{participant:a,kind:"contact-row",itemKey:a.id.toString(),height:d("WAWebFlatList.react").DEFAULT_ITEM_HEIGHT}}).filter(Boolean)),F.deliveryRemaining>0&&a.push({kind:"section",type:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,itemKey:d("WAWebGroupMsgInfoSections").Sections.DELIVERED_FOOTER,height:r}));return a},M=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(F==null?void 0:F.played,["add","remove"],M);d("useWAWebListener").useListener(F==null?void 0:F.read,["add","remove"],M);d("useWAWebListener").useListener(F==null?void 0:F.delivery,["add","remove"],M);d("useWAWebListener").useListener(f,"revoked",function(){z==null?void 0:z.requestDismiss()});d("useWAWebListener").useListener(d("WAWebMsgCollection").MsgCollection,"remove",function(a){a.id.equals(g)&&(z==null?void 0:z.requestDismiss())});d("useWAWebListener").useListener(f,"change:latestEditMsgKey",function(){return z==null?void 0:z.requestDismiss()});var N;!F&&!H&&(N=m.jsx("div",babelHelpers["extends"]({className:"x78zum5 x6s0dn4 xl56j7k xvv2zd5"},{children:m.jsx(d("WAWebSpinner.react").Spinner,{size:50,stroke:4})})));M=L();H=M.length?m.jsx(u,{flatListController:b.current,direction:"vertical",forceConsistentRenderCount:!1,data:M,renderItem:function(a){return m.jsx(A,{data:a,msg:f,msgInfo:F})}}):null;L=null;k&&k.length>0&&d("WAWebBizGatingUtils").canDisplayLabel()&&(L=m.jsx(c("WAWebDrawerSection.react"),{theme:"padding",children:m.jsx(c("WAWebLabelsInfoDrawerLabelWell.react"),{labels:k})}));return m.jsxs(c("WAWebDrawer.react"),{ref:e,theme:"striped",children:[m.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:h._(/*BTDS*/"__JHASH__6ZxqC6H3okB__JHASH__"),type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,rtlFixIfOnDarwin:!0,onCancel:K,focusBackOrCancel:!0}),m.jsx(c("WAWebMsgPreview.react"),{ref:C,chatPreference:c("WAWebChatPreferenceCollection").assertGet("defaultPreference"),children:m.jsx(d("WAWebWrapper.react").Wrapper,{msg:f,ref:D,displayType:d("WAWebDisplayType").DISPLAY_TYPE.MSG_INFO,isMsgVisible:E,position:d("WAWebMessagePosition").MsgPosition.END,onProductClick:a.onProductClick})}),m.jsxs(c("WAWebDrawerBody.react"),{flatListControllers:[b.current],children:[L,N,m.jsx("div",babelHelpers["extends"]({className:"x889kno x1t4gjm"},{children:H}))]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupMsgInfoFlow.react",["$InternalEnum","WANullthrows","WAWebFrontendMsgGetters","WAWebGroupMsgInfoDrawer.react","WAWebProductDetailsFlowLoadable","react","useWAWebFlow"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["GroupMessageInfo","ProductDetails"]);function a(a){a=a.msg;var b=d("useWAWebFlow").useFlow(l.GroupMessageInfo,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight}),e=b[0],f=b[1];b=k();var g=b[0],h=b[1];if(f.step==null)return null;var i;switch(f.step){case l.GroupMessageInfo:b=function(a){h(a),f.push(l.ProductDetails)};i=j.jsx(c("WAWebGroupMsgInfoDrawer.react"),{msg:a,onProductClick:b});break;case l.ProductDetails:i=j.jsx(d("WAWebProductDetailsFlowLoadable").ProductDetailsFlowLoadable,{refreshCarousel:!0,chat:d("WAWebFrontendMsgGetters").getChat(a),product:c("WANullthrows")(g),onEnd:function(){return f.pop()}});break}return j.jsx(e,{flow:f,children:i})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebGroupsV4InviteAddComment.react",["fbt","WAWebChatInviteWithCommentModal.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.gid;a.groupDesc;var d=a.onClose,e=a.onSend,f=a.participants,g=a.ref;a=a.subject;return j.jsx(c("WAWebChatInviteWithCommentModal.react"),{ref:g,onClose:d,onSend:e,wid:b,invitees:f.map(function(a){return a.contact}),chatName:a,initialInviteComment:h._(/*BTDS*/"__JHASH__-DY4gyzswGw__JHASH__"),chatNameSubtitle:h._(/*BTDS*/"__JHASH__-MKYnzTW4lu__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebGroupsV4InviteFlow.react",["fbt","$InternalEnum","Promise","WALogger","WAWebChatSendMessages","WAWebConfirmPopup.react","WAWebFbtIntlList","WAWebFindChatAction","WAWebFrontendContactGetters","WAWebGroupMetadataCollection","WAWebGroupsV4InviteAddComment.react","WAWebModalManager","WAWebName.react","WAWebSendMsgResultAction","WAWebToast.react","WAWebToastManager","asyncToGeneratorRuntime","react","useWAWebFlow"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[error] handleSendInvite"]);k=function(){return a};return a}var l=j||c("react"),m=b("$InternalEnum").Mirrored(["Confirm","AddComment"]);function a(a){var e=d("useWAWebFlow").useFlow(m.Confirm),f=e[0],g=e[1],j=function(a,b){b===void 0&&(b=!1);return b?d("WAWebFrontendContactGetters").getFormattedUser(a):l.jsx(d("WAWebName.react").Name,{contact:a})};e=function(a,b){b===void 0&&(b=!1);if(!Array.isArray(a))return j(a,b);a=a.map(function(a){return j(a,b)});return c("WAWebFbtIntlList")(a,c("WAWebFbtIntlList").CONJUNCTIONS.AND,c("WAWebFbtIntlList").DELIMITERS.COMMA)};e=e(a.participantNeedInvite.map(function(a){return a.contact}),!0);e=h._(/*BTDS*/"__JHASH__zVAsJAGQlxg__JHASH__",[h._plural(a.participantNeedInvite.length),h._param("member",e)]);var n=function(e,f){e===void 0&&(e=""),d("WAWebModalManager").ModalManager.close(),(i||(i=b("Promise"))).all(a.participantNeedInvite.map(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.contact,h=b.invite_code;b=b.invite_code_exp;var i=(yield d("WAWebFindChatAction").findOrCreateLatestChat(g.id,"groupsV4InviteFlow"));i=i.chat;var j=a.groupGid.toString(),k=c("WAWebGroupMetadataCollection").assertGet(j);i=(yield d("WAWebChatSendMessages").sendGroupInviteMessage(i,j,a.subject,h||"",b,e,f));if(i.messageSendResult===d("WAWebSendMsgResultAction").SendMsgResult.OK){k.pendingParticipants.add({id:g.id});return!0}return!1});return function(a){return g.apply(this,arguments)}}())).then(function(a){a=a.filter(Boolean).length;d("WAWebToastManager").ToastManager.open(l.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__0Mvm1RLqxeY__JHASH__",[h._plural(a,"num")])}))})["catch"](function(a){d("WALogger").ERROR(k()).devConsole(a).sendLogs("groups-v4-invite-send-failed")})};if(g.step==null)return null;var o=null;switch(g.step){case m.Confirm:o=l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return g.push(m.AddComment)},okText:h._(/*BTDS*/"__JHASH__9lHmApGpjly__JHASH__"),onCancel:function(){return g.pop()},cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),children:e});break;case m.AddComment:o=l.jsx(c("WAWebGroupsV4InviteAddComment.react"),{participants:a.participantNeedInvite,gid:a.groupGid,subject:a.subject,groupDesc:a.groupDesc,onClose:function(){return g.pop()},onSend:n})}return l.jsx(f,{flow:g,children:o})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebImageRefreshedFilledIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="image-refreshed-filled";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=24;m=24;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 24 24",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),fill:"none",children:[j.jsx("title",{children:k}),j.jsx("path",{d:"M5 21C4.45 21 3.97917 20.8042 3.5875 20.4125C3.19583 20.0208 3 19.55 3 19V5C3 4.45 3.19583 3.97917 3.5875 3.5875C3.97917 3.19583 4.45 3 5 3H19C19.55 3 20.0208 3.19583 20.4125 3.5875C20.8042 3.97917 21 4.45 21 5V19C21 19.55 20.8042 20.0208 20.4125 20.4125C20.0208 20.8042 19.55 21 19 21H5ZM7 17H17C17.2 17 17.35 16.9083 17.45 16.725C17.55 16.5417 17.5333 16.3667 17.4 16.2L14.65 12.525C14.55 12.3917 14.4167 12.325 14.25 12.325C14.0833 12.325 13.95 12.3917 13.85 12.525L11.25 16L9.4 13.525C9.3 13.3917 9.16667 13.325 9 13.325C8.83333 13.325 8.7 13.3917 8.6 13.525L6.6 16.2C6.46667 16.3667 6.45 16.5417 6.55 16.725C6.65 16.9083 6.8 17 7 17Z",fill:"currentColor"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.ImageRefreshedFilledIcon=a}),98);
__d("WAWebLinkSubgroupsAction",["fbt","WAFilteredCatch","WALogger","WAWebActionToast.react","WAWebBackendErrors","WAWebCommunityGeneralChatFailedParticipantsModal.react","WAWebGroupCommunityJob","WAWebModalManager","WAWebNoop","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Subgroup linking failed"]);j=function(){return a};return a}var k=i||c("react");function a(a,b){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){var f=d("WAWebGroupCommunityJob").sendLinkSubgroups({parentGroupId:a,subgroupIds:e});a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var a=(yield f);if(a.failedGroups.length>0){var b=a.failedGroups.reduce(function(a,b){return a&&b.error===406},!0);return b?new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__zfaSPLdpGgi__JHASH__",[h._plural(a.failedGroups.length)])):new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__I0z3b_E4AoO__JHASH__",[h._plural(a.failedGroups.length)]))}a.failedParticipantJids.length>0&&d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebCommunityGeneralChatFailedParticipantsModal.react").GeneralChatFailedParticipantsModal,{failedParticipantJids:a.failedParticipantJids}));return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__OcU6E4MZYpb__JHASH__",[h._plural(e.length)]))}catch(a){d("WALogger").WARN(j()).verbose().devConsole(a).sendLogs("subgroup-linking-failed");return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__iAVC4vo0o5p__JHASH__"))}})();var g=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__eMPNkQwjq_G__JHASH__",[h._plural(e.length)]));d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{initialAction:g,pendingAction:a}));try{yield f}catch(a){d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,c("WAWebNoop"))(a)}});return l.apply(this,arguments)}g["default"]=a}),226);
__d("WAWebManageCommunityGroupsFlow.react",["$InternalEnum","WANullthrows","WAWebABProps","WAWebChatCollection","WAWebChatCommunityUtils","WAWebCmd","WAWebCommunityExistingGroupsConfirmationDrawer.react","WAWebCommunityExistingGroupsDrawer.react","WAWebCommunityHomeGroupsManager.react","WAWebCommunitySettingsDrawer.react","WAWebComposeBoxActions","WAWebCreateSubgroupSuggestionAction","WAWebDrawerManager","WAWebExistingGroupPermissionsDrawer.react","WAWebFindChatAction","WAWebLinkSubgroupsAction","WAWebNewGroupFlow.react","WAWebNewGroupFlowLoadable","WAWebNewGroupPermissionsDrawer.react","WAWebNewSubgroupSuggestionFlowLoadable","WAWebUiActionWamEvent","WAWebUserPrefsMeUser","WAWebWamEnumUiActionType","WAWebWamPrivateStatsUtils","asyncToGeneratorRuntime","react","useWAWebCallbackOnce","useWAWebCommunitySubgroups","useWAWebFlow","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState,l=b("$InternalEnum").Mirrored(["GROUPS_MANAGER","NEW_GROUP","EXISTING_GROUP","COMMUNITY_SETTINGS","GROUP_PERMISSIONS_DRAWER","NEW_GROUP_PERMISSIONS_DRAWER","EXISTING_GROUPS_CONFIRMATION_DRAWER"]);function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.parentGroupMetadata,g=a.fromInfo;g=g===void 0?!1:g;var h=a.onBack;a=a.existingGroupsToBeLinked;a=a===void 0?[]:a;var i=c("useWAWebCommunitySubgroups")(f),m=i.joinedSubgroups,n=i.unjoinedSubgroups;i=i.subgroupCount;var o=d("WAWebChatCommunityUtils").isSubgroupSuggestionCreation(f.id),p=c("useWAWebUnmountSignal")(),q=c("useWAWebCallbackOnce")(function(){h?h():d("WAWebDrawerManager").DrawerManager.closeDrawerRight()}),r=k(!0),s=r[0];r=r[1];var t=k(!0),u=t[0];t=t[1];var v=k(!0),w=v[0];v=v[1];var x=k(!1),y=x[0];x=x[1];var z=k(a),A=z[0],B=z[1];z=k();var C=z[0],D=z[1],E=a.length>0;z=d("useWAWebFlow").useFlow(E?l.EXISTING_GROUPS_CONFIRMATION_DRAWER:l.GROUPS_MANAGER,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:q});a=z[0];var F=z[1];function G(a){return H.apply(this,arguments)}function H(){H=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield a);F.pop();a!=null&&!p.aborted&&d("WAWebFindChatAction").findOrCreateLatestChat(a,"communityGroupsFlow").then(function(a){var b=a.chat;d("WAWebCmd").Cmd.openChatBottom(b).then(function(a){a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(b)})})});return H.apply(this,arguments)}function I(a){return J.apply(this,arguments)}function J(){J=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=new Set([].concat(n,m));a=a.filter(function(a){return!b.has(a.id)}).map(function(a){return a.id});if(a.length)if(!f.participants.iAmAdmin())yield d("WAWebCreateSubgroupSuggestionAction").createExistingGroupsSubgroupSuggestionsAction(f.id,a,q,q);else{var e=Boolean(f.isLidAddressingMode),g=new(d("WAWebUiActionWamEvent").UiActionWamEvent)({uiActionType:d("WAWebWamEnumUiActionType").UI_ACTION_TYPE.COMMUNITY_LINK,uiActionPreloaded:!1,isLid:e});yield c("WAWebLinkSubgroupsAction")(f.id,a).then(function(){g.markUiActionT(),g.commit(),d("WAWebWamPrivateStatsUtils").logUiActionShadowPrivateStatsTestEvents()});q();E&&d("WAWebCmd").Cmd.openCommunityHome(f.id)}B([])});return J.apply(this,arguments)}if(F.step==null)return null;var K;switch(F.step){case l.GROUPS_MANAGER:K=j.jsx(d("WAWebCommunityHomeGroupsManager.react").CommunityHomeGroupsManager,{joinedSubgroups:m,unjoinedSubgroups:n,currentSubgroupCount:i,fromInfo:g,onBack:q,onNewGroupFlow:function(){return F.push(l.NEW_GROUP)},onExistingGroupFlow:function(){return F.push(l.EXISTING_GROUP)},onCommunitySettingsClick:function(){return F.push(l.COMMUNITY_SETTINGS)},parentId:f.id});break;case l.NEW_GROUP:o?K=j.jsx(d("WAWebNewSubgroupSuggestionFlowLoadable").NewSubgroupSuggestionFlowLoadable,{parentGroup:f.id,onBack:function(){return F.pop()},onEnd:q}):K=j.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:G,onEnd:function(){return F.pop()},parentGroupWid:f.id,initialStep:d("WAWebNewGroupFlow.react").NewGroupFlowStep.SET_GROUP_INFO_DRAWER,shortenedCreationFlow:!0});break;case l.EXISTING_GROUP:z=d("WAWebABProps").getABPropConfigValue("parent_group_no_disclaimer")&&f.isParentGroupClosed===!0;o=f==null?void 0:f.getSubgroupSuggestions().reduce(function(a,b){d("WAWebUserPrefsMeUser").isMeAccount(b.owner)&&a.push(b.groupId);return a},[]);K=j.jsx(c("WAWebCommunityExistingGroupsDrawer.react"),{onBack:function(){return F.pop()},fromInfo:g,onSubmit:I,communityName:f.subject,isCommunityAdmin:f.participants.iAmAdmin(),onContinue:function(){return F.push(l.EXISTING_GROUPS_CONFIRMATION_DRAWER)},onCreateNewGroup:function(){return F.push(l.NEW_GROUP)},currentSubgroupCount:i,isParentGroupClosed:z,groupsSuggestedByMeToCommunity:o,flowSelectedGroups:A,setFlowSelectedGroups:B});break;case l.COMMUNITY_SETTINGS:G=d("WAWebChatCollection").ChatCollection.assertGet(f.id);K=j.jsx(c("WAWebCommunitySettingsDrawer.react"),{chat:G,onBack:function(){return F.pop()}});break;case l.GROUP_PERMISSIONS_DRAWER:g=d("WAWebChatCollection").ChatCollection.assertGet(c("WANullthrows")(C));K=j.jsx(c("WAWebExistingGroupPermissionsDrawer.react"),{chat:g,groupLinkingFlow:!0,groupMetadata:c("WANullthrows")(g.groupMetadata),onClose:function(){return F.pop()}});break;case l.NEW_GROUP_PERMISSIONS_DRAWER:K=j.jsx(c("WAWebNewGroupPermissionsDrawer.react"),{onBack:function(){return F.pop()},restrict:s,setRestrict:r,announce:u,setAnnounce:t,membershipApprovalMode:y,setMembershipApprovalMode:x,memberAddMode:w,setMemberAddMode:v});break;case l.EXISTING_GROUPS_CONFIRMATION_DRAWER:i=d("WAWebABProps").getABPropConfigValue("parent_group_no_disclaimer")&&f.isParentGroupClosed===!0;K=j.jsx(c("WAWebCommunityExistingGroupsConfirmationDrawer.react"),{onBack:function(){return F.pop()},onGroupPermissions:function(a){D(a),F.push(l.GROUP_PERMISSIONS_DRAWER)},isParentGroupClosed:i,isCommunityAdmin:f.participants.iAmAdmin(),onSubmit:I,selectedGroups:A,communityName:f.subject,parentGroupId:f.id})}return j.jsx(a,{flow:F,ref:e,children:K})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebMerchantDetailsFormFlowLoadable",["JSResourceForInteraction","WAWebLazyLoadedRetriable","WAWebLoadingDrawer.react","asyncToGeneratorRuntime","react","react-loadable"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");a=c("WAWebLazyLoadedRetriable")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("JSResourceForInteraction")("WAWebBizMerchantDetailsFormFlow.react").__setRef("WAWebMerchantDetailsFormFlowLoadable").load());return a}),"MerchantDetailsFormFlow");d=c("react-loadable")({loader:a,loading:function(a){return i.jsx(c("WAWebLoadingDrawer.react"),{error:Boolean(a.error)})}});g.MerchantDetailsFormFlowLoadable=d}),98);
__d("WAWebWamEnumWebContactListStartNewChatType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,GROUP:2,CONTACTLESS:3});f.WEB_CONTACT_LIST_START_NEW_CHAT_TYPE=a}),66);
__d("WAWebWebContactListStartNewChatWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebContactListStartNewChatType"],(function(a,b,c,d,e,f,g){a=d("WAWebWamCodegenUtils").defineEvents({WebContactListStartNewChat:[4560,{webContactListStartNewChatSearch:[1,d("WAWebWamCodegenUtils").TYPES.BOOLEAN],webContactListStartNewChatType:[2,d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE]},[1,1,1],"regular"]},{WebContactListStartNewChat:[]});g.WebContactListStartNewChatWamEvent=a}),98);
__d("WAWebNewChatMetricUtils",["WATimeUtils","WAWebChatConstants","WAWebChatThreadLogging","WAWebWebContactListStartNewChatWamEvent"],(function(a,b,c,d,e,f,g){function a(a){var b=a.isSearchResult;a=a.chatType;new(d("WAWebWebContactListStartNewChatWamEvent").WebContactListStartNewChatWamEvent)({webContactListStartNewChatSearch:b,webContactListStartNewChatType:a}).commit()}function b(a){var b=!(a.msgs.some(function(a){return a.isRealMessage()})||a.endOfHistoryTransferType===d("WAWebChatConstants").ConversationEndOfHistoryTransferModelPropType.INCOMPLETE);b&&d("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging([{activityType:"viaContactlessChats",ts:d("WATimeUtils").unixTime(),chatId:a.id,boolValue:!0}])}g.logContactListStartNewChatAction=a;g.logInitiatedContactlessChat=b}),98);
__d("WAWebNewChatDrawer.react",["fbt","WALogger","WAWebAccountTakeOverBanner.react","WAWebApiContact","WAWebBox.react","WAWebCellBorder.react","WAWebCellV2.react","WAWebChatContactList.react","WAWebChatListSearch.react","WAWebCmd","WAWebCommunityGatingUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactGetters","WAWebContactManagementGating","WAWebContactlessChatUtils","WAWebDefaultAddProfilePicture.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerViewType","WAWebEmptyState.react","WAWebFbtCommon","WAWebFindChatAction","WAWebFlatListController","WAWebFocusIndicator","WAWebKeyboardHotKeys.react","WAWebL10N","WAWebModalManager","WAWebNewChatMetricUtils","WAWebPhoneNumberSearch","WAWebQueryExistsJob","WAWebReachoutTimelockActions","WAWebReachoutTimelockButterBarLoadable.react","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebTabOrder","WAWebText.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUnknownContactSection.react","WAWebUseContactManagementAvailability","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWamEnumWebContactListStartNewChatType","WAWebWidFactory","asyncToGeneratorRuntime","react","useLazyRef","useWAWebDebouncedCallback","useWAWebForceUpdate","useWAWebListener","useWAWebStableCallback","useWAWebUnknownContact"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["queryUsernameExists failed with error:",""]);k=function(){return a};return a}e=j||d("react");var l=i||(i=c("react")),m=e.useCallback,n=e.useRef,o=e.useState,p={atoBanner:{paddingTop:"x1cnzs8",paddingBottom:"x1a8lsjc",marginTop:"x1kgmq87",marginBottom:"xmgb6t1",backgroundColor:"x150wa6m",zIndex:"xyw6214",position:"x1n2onr6",$$css:!0}},q=3;function r(a){var b=a.image,e=a.onClick,f=a.primary,g=a.ref;a=a.testid;a=h._(/*BTDS*/"__JHASH__vDb1gwdkYRB__JHASH__",[h._param("item-title",f.toString())]);return l.jsxs(d("WAWebBox.react").Box,{padding:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?[0,8]:null,children:[l.jsx(d("WAWebCellV2.react").CellV2,{ref:g,size:"medium",material:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),detailLeft:b,detailLeftXStyle:[d("WAWebUISpacing").uiPadding.start13],primary:l.jsxs(d("WAWebText.react").WAWebTextTitle,{children:[f," "]}),onClick:e,ariaLabel:a,testid:void 0}),!d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx(c("WAWebCellBorder.react"),{})]})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var e=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var f=a.title,g=a.onBack,i=a.onClick,j=a.onNewGroup,s=a.onNewCommunity,t=a.onNewContact;a=a.viewType;var u=o(""),v=u[0],w=u[1];u=o(null);var x=u[0],y=u[1];u=o(d("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible());var z=u[0],A=u[1];u=n();var B=n(),C=n(),D=Boolean(v),E=x!=null?d("WAWebContactCollection").ContactCollection.get(x):null;x=c("useLazyRef")(function(){return new(c("WAWebFlatListController"))()});var F=d("WAWebUsernameGatingUtils").usernameContactlessChatEnabled(),G=h._(/*BTDS*/"__JHASH__UGA_7UxgMl-__JHASH__"),H=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();d("useWAWebListener").useListener(d("WAWebContactCollection").ContactCollection,"change:name",H);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"reachout_timelock_state_change",function(){A(d("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible())});H=d("WAWebUseContactManagementAvailability").useAccountIntegrityState();F?G=h._(/*BTDS*/"__JHASH__9_YtmuZHuHu__JHASH__"):G=c("WAWebFbtCommon")("Search name or number");var I=m(function(b){d("WAWebContactCollection").ContactCollection.ensureSorted();b=typeof b==="string"?b:v;if(!b)return d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!b,includeLidContacts:!1});var a=d("WAWebContactCollection").ContactCollection.getFilteredContacts({showMe:!!b,includeLidContacts:!1}).concat(d("WAWebContactCollection").ContactCollection.filter(function(a){return a.name&&!d("WAWebContactGetters").getIsMe(a)&&!d("WAWebContactGetters").getIsPSA(a)&&!d("WAWebContactGetters").getIsWAContact(a)&&!d("WAWebContactGetters").getIsNewsletter(a)})),e=c("WAWebL10N").accentFold(b),f=d("WAWebPhoneNumberSearch").numberSearch(e);return a.filter(function(a){return a.searchMatch(e,f)})},[v]),J=I();d("WAWebReachoutTimelockActions").maybeSetCanSendMsgWhileTimelockedProp(J);var K=c("useWAWebUnknownContact")({phoneNumber:v,shouldStartSearch:J.length===0}),L=K.unknownContactInfo,M=K.loading,N=K.error;K=K.onRetry;var O=c("useWAWebDebouncedCallback")(function(a){return w(a)},100),P=m(function(a){C.current=a,F&&a.length>=q&&d("WAWebQueryExistsJob").queryUsernameExists(a).then(function(b){if(C.current===a){y((b=b==null?void 0:b.wid)!=null?b:null);O(a)}})["catch"](function(b){C.current===a&&(y(null),O(a)),d("WALogger").ERROR(k(),b).devConsole(b)}),C.current=a,O(a)},[F,O]),Q=m(function(a,b,d){c("WAWebFocusIndicator").shouldIndicateFocus(),i(a,b,void 0,d)},[i]),R=c("useWAWebStableCallback")(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a.preventDefault();a.stopPropagation();a=(a=L==null?void 0:L.chat)!=null?a:(yield d("WAWebFindChatAction").findOrCreateLatestChat(b,"newChatFlow")).chat;if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()&&!d("WAWebReachoutTimelockUtils").canSendMsgWhileTimelocked({chat:a,contact:a.contact})){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}d("WAWebDrawerManager").DrawerManager.closeDrawerLeft();b=d("WAWebCmd").Cmd.openChatFromUnread(a);if(!b)return;d("WAWebNewChatMetricUtils").logInitiatedContactlessChat(a);d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACTLESS,isSearchResult:!0});d("WAWebComposeBoxActions").ComposeBoxActions.focus(a)});return function(b,c){return a.apply(this,arguments)}}()),S=m(function(a){a.preventDefault();a.stopPropagation();if(E){Q(a,E,"username_contactless_search");return}if(!D){var b=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser());Q(a,b);return}b=I(C.current)[0];if(b){Q(a,b);return}(L==null?void 0:L.wid)&&void R(a,L.wid)},[E,D,I,L==null?void 0:L.wid,Q,R]),T=[];if(!v){var U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"group",size:48});T.push({image:U,id:h._(/*BTDS*/"__JHASH__6EroHqWSWmZ__JHASH__"),onClick:j,testid:"new-chat-drawer-new-group-cell"});if(d("WAWebContactManagementGating").contactManagementEnabled()){U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"contact",size:48});j=h._(/*BTDS*/"__JHASH__UtaS3T1Ecyz__JHASH__");T.push({image:U,id:j,onClick:t,testid:"new-chat-drawer-new-contact-cell"})}if(d("WAWebCommunityGatingUtils").communitiesCreationEnabled()){U=l.jsx(d("WAWebDefaultAddProfilePicture.react").DefaultAddProfilePicture,{directional:!0,type:"community",size:48});T.push({image:U,id:h._(/*BTDS*/"__JHASH__KIkd5AW9_IK__JHASH__"),onClick:s,testid:"new-chat-drawer-new-community-cell"})}}j=null;H===d("WAWebUseContactManagementAvailability").AccountIntegrityState.TIMELOCK&&(j=l.jsx(d("WAWebAccountTakeOverBanner.react").AccountTakeOverBanner,{entryPoint:"new-chat",xstyle:p.atoBanner}));t=function(a){if(a!=null){var b=d("WAWebApiContact").getPhoneNumber(d("WAWebWidFactory").toUserWid(a.id));b=b!=null?d("WAWebContactCollection").ContactCollection.get(b):null;if((b==null||!J.includes(b))&&!J.includes(a))return[a]}return};U=t(E);J.length===0&&!E&&!!v?M?s=l.jsx(d("WAWebEmptyState.react").SearchingNonContact,{}):N?s=l.jsx(d("WAWebEmptyState.react").SearchingNonContactError,{error:d("WAWebContactlessChatUtils").getErrorStr(N),onClick:K}):L?s=l.jsx(c("WAWebUnknownContactSection.react"),{contactInfo:L,onUnknownContactClick:R}):s=l.jsx(d("WAWebEmptyState.react").SearchWithKeyword,{keyword:v}):s=l.jsx(c("WAWebChatContactList.react"),{ref:B,contacts:J,flatListController:x.current,usernameContacts:U,onClick:i,showMe:!D,showBot:!D,showPersonGroupDivisionHeader:!0,showHeaderSpinner:H===d("WAWebUseContactManagementAvailability").AccountIntegrityState.PENDING});t=a===c("WAWebDrawerViewType").FLYOUT?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.FLYOUT:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;var V=n(null),W=n([]),X=function(a,b){W.current[b]=a};N=function(a){if(a.target!==V.current)return;Z(0)};var Y=function(){var a=W.current.findIndex(function(a){return a===document.activeElement});return a!==-1?a:null},Z=function(a){a=W.current[a];a&&a.focus()},$=function(a){a.preventDefault();a=Y();if(a==null){Z(0);return}a=Math.min(a+1,T.length-1);Z(a)},aa=function(a){a.preventDefault();a=Y();if(a==null){Z(0);return}a=Math.max(0,a-1);Z(a)};K={up:function(a){return aa(a)},down:function(a){return $(a)}};return l.jsxs(c("WAWebDrawer.react"),{ref:e,testid:void 0,viewType:a,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:t,onBack:a===c("WAWebDrawerViewType").FLYOUT?void 0:g}),l.jsx(d("WAWebChatListSearch.react").ListSearch,{ref:u,onSearch:P,onEnter:S,placeholder:G,type:d("WAWebChatListSearch.react").ListSearchType.NEW_CHAT_CONTACT_SEARCH,loading:M,showPlaceholderUntilType:!0,focusOnMount:!0}),l.jsxs(c("WAWebDrawerBody.react"),{backgroundColor:"default",flatListControllers:[x.current],children:[z&&l.jsx(d("WAWebReachoutTimelockButterBarLoadable.react").ReachoutTimelockButterBarLoadable,{}),l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:V,handlers:K,tabIndex:0,"data-tab":d("WAWebTabOrder").TAB_ORDER.CHAT_LIST_FILTER,onFocus:N,children:T.map(function(a,b){var c=a.image,d=a.id,e=a.onClick;a=a.testid;return l.jsx(r,{ref:function(a){return X(a,b)},image:c,primary:d,onClick:e,testid:void 0},b)})}),j,s]})]},"contact-modal")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebNewChatFlowTypes",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["NewChatDrawer","NewCommunityFlow","NewGroupFlow","NewContactFlow"]);f.NewChatFlowStep=a}),66);
__d("WAWebNewChatFlow.react",["fbt","WAWebChatGetters","WAWebCmd","WAWebCommunityCreationFlowMetricUtils","WAWebComposeBoxActions","WAWebContactCollection","WAWebContactEditDrawer.react","WAWebContactEditUtils","WAWebContactGetters","WAWebContactLogging","WAWebDrawerViewType","WAWebFindChatAction","WAWebMessageYourselfMetricUtils","WAWebModal.react","WAWebModalManager","WAWebNativeContactsNuxPopup.react","WAWebNewChatDrawer.react","WAWebNewChatFlowTypes","WAWebNewChatMetricUtils","WAWebNewCommunityInfoDrawer.react","WAWebNewGroupFlowLoadable","WAWebReachoutTimelockRestrictedModalLoadable","WAWebReachoutTimelockUtils","WAWebUIRefreshGatingUtils","WAWebWamEnumCommunityCreationCurrentScreenType","WAWebWamEnumCommunityCreationEntrypointType","WAWebWamEnumWebContactListStartNewChatType","asyncToGeneratorRuntime","react","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useRef;function a(a){var e=a.onEnd,f=a.ref,g=a.viewType;d("WAWebContactCollection").ContactCollection.ensureSorted();var i=l();a=d("useWAWebFlow").useFlow(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewChatDrawer,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:e});e=a[0];var j=a[1];a=function(){j.end()};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"end_flow",a);var m=function(a,b,c){c===void 0&&(c=!1);var e={};a.isEnterprise&&a.privacyMode!=null&&(e.nextPrivacyMode=a.privacyMode);void d("WAWebFindChatAction").findOrCreateLatestChat(a.id,b!=null?b:"newChatFlow",e).then(function(b){var e=b.chat;if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()&&!d("WAWebReachoutTimelockUtils").canSendMsgWhileTimelocked({chat:e,contact:e.contact})){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}d("WAWebCmd").Cmd.openChatFromUnread(e).then(function(b){if(!b)return;b=d("WAWebChatGetters").getIsGroup(e)?d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.GROUP:d("WAWebWamEnumWebContactListStartNewChatType").WEB_CONTACT_LIST_START_NEW_CHAT_TYPE.CONTACT;d("WAWebNewChatMetricUtils").logContactListStartNewChatAction({chatType:b,isSearchResult:d("WAWebChatGetters").getIsGroup(e)||c});d("WAWebContactGetters").getIsMe(a)&&d("WAWebMessageYourselfMetricUtils").UiMessageYourselfNewChatAction.logMessageYourselfOpenedEvent(e,c);d("WAWebComposeBoxActions").ComposeBoxActions.focus(e)});j.end()})};a=function(a,b,c,d){c===void 0&&(c=!1),m(b,d,c)};var n=function(a){a=d("WAWebContactCollection").ContactCollection.assertGet(a);m(a,"createContact");g===c("WAWebDrawerViewType").FLYOUT||d("WAWebUIRefreshGatingUtils").newChatCreationModalEnabled()?d("WAWebModalManager").ModalManager.close():j.end()},o=function(a){if(d("WAWebReachoutTimelockUtils").isUserReachoutTimelocked()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebReachoutTimelockRestrictedModalLoadable").ReachoutTimelockRestrictedModalLoadable,{}));return}g===c("WAWebDrawerViewType").FLYOUT||d("WAWebUIRefreshGatingUtils").newChatCreationModalEnabled()?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,d("WAWebModalManager").ModalManager.close()});return function(b){return a.apply(this,arguments)}}(),onEnd:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewGroupFlow)},p=function(a){g===c("WAWebDrawerViewType").FLYOUT||d("WAWebUIRefreshGatingUtils").newChatCreationModalEnabled()?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(c("WAWebNewCommunityInfoDrawer.react"),{onCreateCommunity:function(){d("WAWebModalManager").ModalManager.close()},viewType:c("WAWebDrawerViewType").MODAL,onCancel:function(){d("WAWebModalManager").ModalManager.close()}})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewCommunityFlow),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.startSession(d("WAWebWamEnumCommunityCreationEntrypointType").COMMUNITY_CREATION_ENTRYPOINT_TYPE.CHATS_TAB),d("WAWebCommunityCreationFlowMetricUtils").UiCommunityCreationAction.enter(d("WAWebWamEnumCommunityCreationCurrentScreenType").COMMUNITY_CREATION_CURRENT_SCREEN_TYPE.CHATS_TAB)},q=function(a){if(d("WAWebContactEditUtils").shouldShowNativeContactsNux()){d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebNativeContactsNuxPopup.react").NativeContactsNuxPopup,{source:d("WAWebContactLogging").ContactSourceType.NewChat}));return}g===c("WAWebDrawerViewType").FLYOUT||d("WAWebUIRefreshGatingUtils").newChatCreationModalEnabled()?(j.end(),d("WAWebModalManager").ModalManager.open(k.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Tower,children:k.jsx(c("WAWebContactEditDrawer.react"),{ref:i,origin:d("WAWebContactLogging").ContactSourceType.NewChat,onSave:n,viewType:c("WAWebDrawerViewType").MODAL,onCancel:function(){d("WAWebModalManager").ModalManager.close()}})}))):j.push(d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow)},r=function(){if(j.step===d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow){var a;(a=i.current)==null?void 0:a.handleDismiss()}j.pop()};if(j.step==null)return null;var s=null;switch(j.step){case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewChatDrawer:s=k.jsx(c("WAWebNewChatDrawer.react"),{title:h._(/*BTDS*/"__JHASH__G__8-ng2r4N__JHASH__"),onBack:function(){return j.end()},onClick:a,onNewGroup:o,onNewCommunity:p,onNewContact:q,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewGroupFlow:s=k.jsx(d("WAWebNewGroupFlowLoadable").NewGroupFlowLoadable,{onCreateGroup:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a,j.end()});return function(b){return a.apply(this,arguments)}}(),onEnd:j.pop,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewCommunityFlow:s=k.jsx(c("WAWebNewCommunityInfoDrawer.react"),{onBack:j.pop,onCreateCommunity:g===c("WAWebDrawerViewType").MODAL?j.end:void 0,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break;case d("WAWebNewChatFlowTypes").NewChatFlowStep.NewContactFlow:s=k.jsx(c("WAWebContactEditDrawer.react"),{ref:i,origin:d("WAWebContactLogging").ContactSourceType.NewChat,onSave:n,onBack:j.pop,viewType:g!=null?g:c("WAWebDrawerViewType").DRAWER});break}return k.jsx(e,{ref:f,flow:j,requestDismiss:r,children:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebTakePhotoMenuItem.react",["fbt","WAWebDropdownItem.react","WAWebEditCaptureFlowLoadable","WAWebModal.react","WAWebModalManager","WAWebProfileCropTool.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.onImageTake,c=a.editCropShape,e=a.modalTheme,f=a.icon,g=function(f){a.action!=null&&a.action(f),d("WAWebModalManager").ModalManager.open(j.jsx(d("WAWebEditCaptureFlowLoadable").EditCaptureFlowLoadable,{onFinished:b,editCropShape:c||d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,modalTheme:e||d("WAWebModal.react").ModalTheme.Box}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{action:g,testid:void 0,disabled:a.disabled,icon:f,children:h._(/*BTDS*/"__JHASH__oIv2srgU-uj__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebPhotoPicker.react",["fbt","ReactKonva","WAGetUserMedia","WALogger","WAWebAnnouncementSpeakerIcon.react","WAWebAvatarOverlay.react","WAWebAvatarSpinner.react","WAWebCameraIcon.react","WAWebCameraOutlineRefreshedIcon.react","WAWebCommunityGeneralChatImage.react","WAWebCommunitySquircleIcon.react","WAWebConfirmPopup.react","WAWebContactCollection","WAWebDataTransfer","WAWebDefaultGroupIcon.react","WAWebDefaultGroupRefreshedIcon.react","WAWebDefaultNewsletterIcon.react","WAWebDefaultUserIcon.react","WAWebDeleteRefreshedIcon.react","WAWebDropdownItem.react","WAWebEditGroupProfileDrawer.react","WAWebEditImageModal.react","WAWebExpressionsRefreshedIcon.react","WAWebEyeIcon.react","WAWebFileUtils","WAWebFocusTracer","WAWebFolderOpenRefreshedIcon.react","WAWebImageRefreshedFilledIcon.react","WAWebImg.react","WAWebKeyboardHotKeys.react","WAWebMediaEditorUtilsCreateCanvasAndImage","WAWebMediaLoad","WAWebMiscGatingUtils","WAWebModal.react","WAWebModalManager","WAWebNonEmptyString","WAWebObjectFit.react","WAWebPhotoPickType","WAWebPhotoPickerConstants","WAWebPhotoPickerStyle","WAWebPhotoViewerModal.react","WAWebProfileCropConstants","WAWebProfileCropTool.react","WAWebRefreshIcon.react","WAWebRoundShape.react","WAWebShape.react","WAWebSpinner.react","WAWebTakePhotoMenuItem.react","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUimUie.react","WAWebUimUieMenu.react","WAWebUnstyledButton.react","WAWebUseIsKeyboardUser","WAWebUtilsGetColor","WAWebUtilsSharpenFilter","WAWebVelocityTransitionGroup","WAWebVisibilityOffOutlineIcon.react","WAWebWamEnumGroupProfileActionType","WAWebWamEnumProfilePictureType","WDSFocusStateStyles","asyncToGeneratorRuntime","cr:5981","react","stylex","useWAWebUIM"],(function(a,b,c,d,e,f,g,h){var i,j,k;function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["PhotoPicker:onImageReceived failed to load image: ",""]);aa=function(){return a};return a}e=k||d("react");var l=i||(i=c("react")),ba=e.useEffect,ca=e.useMemo,m=e.useRef,n=e.useState,da=b("cr:5981")==null?void 0:b("cr:5981").InternalStatusWarningImageOverlay,ea={iconBg:{backgroundColor:"x1q3ci2r",$$css:!0}};function o(){return l.jsx("hr",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([d("WAWebPhotoPickerStyle").styles.separator,d("WAWebUISpacing").uiMargin.vert4,d("WAWebUISpacing").uiMargin.horiz1])))}o.displayName=o.name+" [from "+f.id+"]";function a(a){var e=a.HoverIcon,f=a.attachToChat,g=a.dataTab,i=a.dimmed;i=i===void 0?!1:i;var k=a.editImageButtonRef,p=a.id,ga=a.onImageSet,q=a.pending;q=q===void 0?!1:q;var r=a.readOnly,s=r===void 0?!1:r,t=a.sendGroupProfilePictureLoggingEvent;r=a.showAddIconOverlay;r=r===void 0?!0:r;var u=a.showHiddenSubgroupIcon;u=u===void 0?!1:u;var v=a.showOutline;v=v===void 0?!1:v;var w=a.size,x=a.startImage,y=x===void 0?"":x;a.tabIndex;x=a.testid;var z=a.theme,A=a.type;x=n(y!=null?y:"");var B=x[0],C=x[1];a=n(!1);x=a[0];var D=a[1];a=n(null);var E=a[0],F=a[1];a=n();var G=a[0],H=a[1];a=n();var I=a[0],ha=a[1],ia=c("useWAWebUIM")();a=c("WAWebUseIsKeyboardUser")();a=a.isKeyboardUser;var ja=m(null),ka=m(null),J=h._(/*BTDS*/"__JHASH__AEJjmqRZAgv__JHASH__"),K=d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled(),L=m(),M=m([].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()));(y!=null?y:"")!==B&&(C(y!=null?y:""),F(y===""?null:E));var N=!q&&(E!=null||B===""&&!s),O=function(a){A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&(t==null?void 0:t(a,!!y))},P=function(a){A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null&&t(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.PROFILE_PIC_UPDATED,!!y,a)},la=function(a){if(A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null){a=fa(a);t(a,!!y)}},ma=function(a){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_UPLOAD_PHOTO);a=ka.current;if(!a)return;a.click();return!0},Q=function(){H(null)},R=function(a){var b=a.currentTarget.clientWidth;a=a.currentTarget.clientHeight;F({width:b,height:a})},na=function(a){D(!1)},oa=function(a){D(!0)},pa=function(a){D(!0)},S=function(a,b,c){var e=d("WAWebNonEmptyString").asMaybeNonEmptyString(a),f=d("WAWebNonEmptyString").asMaybeNonEmptyString(b);if(e==null||f==null){C("");F(null);return}d("WAWebMediaLoad").loadImage(e).then(function(a){C(e),ga(e,f,c)})["catch"](function(b){d("WALogger").WARN(aa(),String(b));var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})},qa=function(a){var b=URL.createObjectURL(a);d("WAWebMediaLoad").loadImage(b).then(function(b){if(b&&(b.width<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE||b.height<d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE))d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:h._(/*BTDS*/"__JHASH__HAKjQo7baxS__JHASH__",[h._plural(d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE,"number_of_pixels")])}));else{b=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;var e;A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?e=d("WAWebProfileCropTool.react").CropShapeType.RECT:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?e=d("WAWebProfileCropTool.react").CropShapeType.SQUIRCLE:e=d("WAWebProfileCropTool.react").CropShapeType.CIRCLE;d("WAWebModalManager").ModalManager.open(l.jsx(c("WAWebEditImageModal.react"),{img:a,onFinished:function(a,b){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_UPLOAD),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Gallery)},onRetake:ma,cropShape:e,theme:b}))}})["catch"](function(){var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__rk8vmgvs7Sp__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__zFen_en22lK__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__Dy__45vbdIC__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__EzF_YPtIrPH__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},children:a}))})["finally"](function(){URL.revokeObjectURL(b)})},T=function(){return k?k:ja},ra=function(){var a=T();a.current&&c("WAWebFocusTracer").focus(a.current)},sa=function(a){Q();var b=a.target.files[0];if(!b)return!1;qa(b);a.target.value="";ra()},U=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=Math.floor(Math.random()*M.current.length);ha({color:c("WAWebUtilsGetColor")(d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS[Math.floor(Math.random()*d("WAWebEditGroupProfileDrawer.react").COLOR_OPTIONS.length)],200),emoji:yield d("WAWebMediaEditorUtilsCreateCanvasAndImage").createImageFromEmoji(M.current[a])});M.current.splice(a,1);M.current.length===0&&(M.current=[].concat(d("WAWebPhotoPickerConstants").getPhotoPickerQualifiedEmojis()))});return function(){return a.apply(this,arguments)}}(),ta=function(a){if(!G)return;var b=new(c("WAWebDataTransfer"))(a.clipboardData);b=b.getFiles().filter(function(a){return d("WAWebFileUtils").typeFromMimetype(a.type)==="image"});if(!b.length)return;a.preventDefault();a.stopPropagation();Q();a=b[0];qa(a)},V=function(){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_VIEW_PHOTO);var a=T().current;if(!a||!p)return;var b=function(b){b(a)},e=d("WAWebContactCollection").ContactCollection.assertGet(p),g={transition:"profile-viewer"};f&&(g.uim=ia);d("WAWebModalManager").ModalManager.openMedia(l.jsx(c("WAWebPhotoViewerModal.react"),{contact:e,profilePicThumb:e.getProfilePicThumb(),animateBorderRadius:A!==d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,animateSquircle:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY,getZoomNode:b}),g)},ua=function(){ga(void 0,void 0,d("WAWebPhotoPickType").PhotoPickType.None),d("WAWebModalManager").ModalManager.close(),P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.REMOVE_PHOTO)},va=function(b){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_REMOVE_PHOTO);var a;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:a=h._(/*BTDS*/"__JHASH__8xAhiJ26dK7__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:a=h._(/*BTDS*/"__JHASH__EUdCRIvMaPn__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:a=h._(/*BTDS*/"__JHASH__ZOCtKXvYSMi__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:a=h._(/*BTDS*/"__JHASH__BTeBjirWxaV__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:a=h._(/*BTDS*/"__JHASH__0S3nFTymkbv__JHASH__");break}d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:ua,okText:h._(/*BTDS*/"__JHASH__twqDGXuDz6h__JHASH__"),onCancel:function(){return d("WAWebModalManager").ModalManager.close()},cancelText:h._(/*BTDS*/"__JHASH__JomY4EcHzcJ__JHASH__"),children:a}))},wa=function(a){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_EMOJI_STICKER);a=h._(/*BTDS*/"__JHASH__Kjw81Ud1sXc__JHASH__");d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebModal.react").Modal,{type:d("WAWebModal.react").ModalTheme.Box,ariaLabel:a,testid:void 0,children:l.jsx(d("WAWebEditGroupProfileDrawer.react").EditGroupProfileDrawer,{title:a,onCancel:function(){return d("WAWebModalManager").ModalManager.close()},onFinished:function(a,b,c){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE[String(c)]),S(a,b,c===d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI?d("WAWebPhotoPickType").PhotoPickType.Emoji:d("WAWebPhotoPickType").PhotoPickType.Sticker),d("WAWebModalManager").ModalManager.close()},sendEmojiStickerPanelOpenLoggingEvent:la})}))},xa=function(){var a=[];p!=null&&B!==""&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebEyeIcon.react").EyeIcon,{}),testid:void 0,action:V,children:h._(/*BTDS*/"__JHASH__vn1_qJDedgS__JHASH__")},"view"));if(d("WAGetUserMedia").getUserMedia){var b=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebProfileCropTool.react").CropShapeType.RECT:d("WAWebProfileCropTool.react").CropShapeType.CIRCLE,e=A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?d("WAWebModal.react").ModalTheme.BoxLarge:d("WAWebModal.react").ModalTheme.Box;a.push(l.jsx(c("WAWebTakePhotoMenuItem.react"),{icon:l.jsx(d("WAWebCameraOutlineRefreshedIcon.react").CameraOutlineRefreshedIcon,{}),onImageTake:function(a,b){P(d("WAWebWamEnumProfilePictureType").PROFILE_PICTURE_TYPE.PHOTO_CAMERA),S(a,b,d("WAWebPhotoPickType").PhotoPickType.Camera)},editCropShape:b,modalTheme:e,action:function(){O(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.TAP_ACTION_ITEM_TAKE_PHOTO)}},"take"))}a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebFolderOpenRefreshedIcon.react").FolderOpenRefreshedIcon,{}),testid:void 0,action:ma,children:h._(/*BTDS*/"__JHASH__xzvwSpv2iRx__JHASH__")},"upload"));d("WAWebMiscGatingUtils").groupProfileEditorEnabled()&&(A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP||A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||A===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER)&&a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebExpressionsRefreshedIcon.react").ExpressionsRefreshedIcon,{}),testid:void 0,action:wa,children:h._(/*BTDS*/"__JHASH__QCijWvBzqVd__JHASH__")},"edit"));B!==""&&(a.push(l.jsx(o,{},"separator")),a.push(l.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:l.jsx(d("WAWebDeleteRefreshedIcon.react").DeleteRefreshedIcon,{}),testid:void 0,action:va,theme:d("WAWebDropdownItem.react").DropdownItemThemeType.Negative,children:h._(/*BTDS*/"__JHASH__2xIAPFguRuk__JHASH__")},"remove")));return a},ya=function(a){if(!N)return;if(s){B!==""&&V();return}a.stopPropagation();a.preventDefault();var b=xa();H({menu:b,event:a});A===d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP&&t!=null&&t(d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.CHANGE_PROFILE_PHOTO,!!y)},za=function(a){if(!N)return;if(s){B!==""&&V();return}a.stopPropagation();a.preventDefault();a=xa();H({menu:a,anchor:T().current})},Aa=function(){return w!=null?{width:w,height:w}:void 0},W;B!==""&&(W=l.jsx(c("WAWebObjectFit.react"),{type:"cover",size:E,children:l.jsx(c("WAWebImg.react"),{src:B,crossOrigin:!1,style:{height:"100%",width:"100%"},onLoad:R})}));var X;(q||B!==""&&!E)&&(A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO?X=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.loadingBg),{children:l.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebPhotoPickerStyle").styles.cornerSpinner),{children:l.jsx(d("WAWebSpinner.react").Spinner,{size:24,stroke:3,color:"solidwhite"})}))})):X=l.jsx(c("WAWebAvatarSpinner.react"),{}));R=null;if(!q&&!s&&(B===""||E)&&(B===""||G||x)){var Y="";switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:Y=B!==""?h._(/*BTDS*/"__JHASH__6rg9NZiv5UL__JHASH__"):h._(/*BTDS*/"__JHASH__3UKVAWU6L-u__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Y=B!==""?h._(/*BTDS*/"__JHASH__xqDdEkOgXvD__JHASH__"):h._(/*BTDS*/"__JHASH__spct1VzJ6Lk__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:Y=B!==""?h._(/*BTDS*/"__JHASH__-mV8YWbPJT9__JHASH__"):h._(/*BTDS*/"__JHASH__q3konMVr11r__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:Y=B!==""?h._(/*BTDS*/"__JHASH__tTnGRfZUExy__JHASH__"):h._(/*BTDS*/"__JHASH___hBloUW7zR1__JHASH__");break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:break}A!==d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&r&&(R=l.jsx(d("WAWebAvatarOverlay.react").AvatarOverlay,{icon:K?l.jsx(d("WAWebImageRefreshedFilledIcon.react").ImageRefreshedFilledIcon,{height:24,width:24}):l.jsx(d("WAWebCameraIcon.react").CameraIcon,{"aria-hidden":!0}),text:Y,theme:A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY?d("WAWebAvatarOverlay.react").AvatarOverlayTheme.COMMUNITY:d("WAWebAvatarOverlay.react").AvatarOverlayTheme.DEFAULT}));J=Y}ba(function(){if(z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS&&I){var a,b,c={mimeType:"image/jpeg",width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE};a=(a=(a=L.current)==null?void 0:a.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_THUMB_SIDE/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:0})))!=null?a:"";c=(b=(b=L.current)==null?void 0:b.toDataURL(babelHelpers["extends"]({},c,{pixelRatio:d("WAWebProfileCropConstants").PROF_PIC_MIN_SIDE*2/d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,quality:1})))!=null?b:"";S(a,c,d("WAWebPhotoPickType").PhotoPickType.Emoji)}},[I]);var Ba,Ca;if(z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.EMOJI_SUGGESTIONS){r=I||{};Y=r.color;r=r.emoji;Ba=l.jsx(c("WAWebUnstyledButton.react"),{testid:void 0,xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.newSuggestion,K&&d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed],onClick:U,"aria-label":h._(/*BTDS*/"__JHASH__TUApnaWfGnz__JHASH__"),children:l.jsx(c("WAWebRoundShape.react"),{xstyle:K&&d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,children:l.jsx(d("WAWebRefreshIcon.react").RefreshIcon,{width:30,height:30})})});if(Y!=null&&r){Ca=l.jsx(d("ReactKonva").Stage,{ref:L,width:(U=d("WAWebEditGroupProfileDrawer.react")).PHOTO_SIZE,height:U.PHOTO_SIZE,className:(j||(j=c("stylex")))(d("WAWebPhotoPickerStyle").styles.hidden),children:l.jsxs(d("ReactKonva").Layer,{children:[l.jsx(d("ReactKonva").Rect,{width:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,height:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE,fill:Y}),l.jsx(d("ReactKonva").Image,{width:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,height:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE,offset:{x:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").IMAGE_SIZE/2},x:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,y:d("WAWebEditGroupProfileDrawer.react").PHOTO_SIZE/2,image:r,filters:r.naturalWidth<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD&&r.naturalHeight<=d("WAWebEditGroupProfileDrawer.react").EMOJI_IMAGE_SHARPEN_SIZE_THRESHOLD?[c("WAWebUtilsSharpenFilter")]:[]})]})})}}U=u?l.jsx(c("WAWebRoundShape.react"),{xstyle:[d("WAWebPhotoPickerStyle").styles.bottomEndFloater,d("WAWebPhotoPickerStyle").styles.hiddenSubgroupContainer,K&&[d("WAWebPhotoPickerStyle").styles.roundRefreshedSize,d("WAWebPhotoPickerStyle").styles.bottomEndFloaterRefreshed]],children:l.jsx(d("WAWebVisibilityOffOutlineIcon.react").VisibilityOffOutlineIcon,{iconXstyle:d("WAWebPhotoPickerStyle").styles.hiddenSubgroupIcon,width:K?30:46,height:K?30:46})}):null;var Da;G&&(Da=l.jsx(d("WAWebUimUie.react").UIE,{displayName:"PhotoPickerContextMenu",escapable:!0,popable:!0,dismissOnWindowResize:!0,requestDismiss:Q,children:l.jsx(c("WAWebUimUieMenu.react"),{contextMenu:G})}));Y=ca(function(){var a=[d("WAWebPhotoPickerStyle").styles.svgSize];A===d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER?a.push(d("WAWebPhotoPickerStyle").styles.newsletterAvatar):A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY&&a.push(d("WAWebPhotoPickerStyle").styles.communitySquircle);A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon&&a.push(d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIconSvg);return{innerStyles:{primary:d("WAWebPhotoPickerStyle").styles.primaryFill,background:d("WAWebPhotoPickerStyle").styles.backgroundFill},"aria-hidden":!0,iconXstyle:a}},[A]);var Z;if(q||B===""||!E){var $;switch(A){case d("WAWebPhotoPickerConstants").PhotoPickerType.PROFILE:$=l.jsx(d("WAWebDefaultUserIcon.react").DefaultUserIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY:$=l.jsx(d("WAWebCommunitySquircleIcon.react").CommunitySquircleIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.NEWSLETTER:$=l.jsx(d("WAWebDefaultNewsletterIcon.react").DefaultNewsletterIcon,babelHelpers["extends"]({},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP:$=l.jsx(d("WAWebAnnouncementSpeakerIcon.react").AnnouncementSpeakerIcon,babelHelpers["extends"]({directional:!0},Y));break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GENERAL_GROUP:Z=l.jsx(d("WAWebCommunityGeneralChatImage.react").CommunityGeneralChatImage,{});break;case d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO:$=null;break;case d("WAWebPhotoPickerConstants").PhotoPickerType.GROUP:K?$=l.jsx(d("WAWebShape.react").Shape,{shape:"circle",xstyle:ea.iconBg,children:l.jsx(d("WAWebDefaultGroupRefreshedIcon.react").DefaultGroupRefreshedIcon,babelHelpers["extends"]({},Y))}):$=l.jsx(d("WAWebDefaultGroupIcon.react").DefaultGroupIcon,babelHelpers["extends"]({},Y));break}$!=null&&(Z=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP&&d("WAWebPhotoPickerStyle").styles.defaultAnnouncementGroupIcon),{children:$})))}r=document.activeElement===T().current?{space:za,enter:za}:{};u=[d("WAWebPhotoPickerStyle").styles.body,N&&d("WAWebPhotoPickerStyle").styles.clickable,d("WAWebUISpacing").uiMargin.horizAuto,a&&N&&d("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus];(A===d("WAWebPhotoPickerConstants").PhotoPickerType.COMMUNITY||A===d("WAWebPhotoPickerConstants").PhotoPickerType.DEFAULT_ANNOUNCEMENT_GROUP)&&u.push(d("WAWebPhotoPickerStyle").styles.squircleBackground);A===d("WAWebPhotoPickerConstants").PhotoPickerType.COVER_PHOTO&&u.push(d("WAWebPhotoPickerStyle").styles.rectBackground);return l.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{className:(j||(j=c("stylex")))(K?d("WAWebPhotoPickerStyle").styles.containerRefreshed:d("WAWebPhotoPickerStyle").styles.container,z===d("WAWebPhotoPickerConstants").PhotoPickerThemeType.COVER_PHOTO&&d("WAWebPhotoPickerStyle").styles.coverPhoto,x&&B!==""&&s&&d("WAWebPhotoPickerStyle").styles.dimmed,v&&W!=null&&d("WAWebPhotoPickerStyle").styles.imageBorder,d("WAWebUISpacing").uiMargin.horizAuto),style:Aa(),handlers:r,"aria-label":J.toString(),children:[l.jsxs(c("WAWebUnstyledButton.react"),{xstyle:u,onClick:ya,onMouseOver:pa,onMouseEnter:oa,onMouseLeave:na,onPaste:ta,onFocus:oa,onBlur:na,ref:T(),title:J,dir:"ltr",tabIndex:N?0:-1,dataTab:g,role:N?"button":"none",testid:void 0,children:[l.jsxs("div",babelHelpers["extends"]({},j.props(d("WAWebPhotoPickerStyle").styles.imageContainer,i&&d("WAWebPhotoPickerStyle").styles.dimmed),{role:"img","aria-label":J.toString(),children:[W,da&&p?l.jsx(da,{id:p}):null,Z,Ca]})),l.jsxs(c("WAWebVelocityTransitionGroup"),{transitionName:"fade",children:[X,R]})]}),e!=null&&!s&&l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebPhotoPickerStyle").styles.icon),{children:l.jsx(e,{width:16,height:16})})),l.jsx("input",{ref:ka,type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png",style:{display:"none"},onChange:sa}),Da,Ba,U]})}a.displayName=a.name+" [from "+f.id+"]";var fa=function(a){switch(a){case d("WAWebEditGroupProfileDrawer.react").ImageType.EMOJI:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.EMOJI_PANEL_OPEN;case d("WAWebEditGroupProfileDrawer.react").ImageType.STICKER:return d("WAWebWamEnumGroupProfileActionType").GROUP_PROFILE_ACTION_TYPE.STICKER_PANEL_OPEN}};g["default"]=a}),226);
__d("WAWebProductCatalogDrawerSection",["fbt","WAWebBusinessProfileUtils","WAWebCatalogManagementFlowLoadable","WAWebProductCatalogCatalogDrawerSection.react","WAWebProductCatalogShopsCatalogDrawerSection.react","WAWebShopsLog","WAWebWamEnumCatalogEntryPoint","WAWebWamEnumShopsManagementAction","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useEffect;function m(a){d("WAWebCatalogManagementFlowLoadable").openCatalogManagementFlow({product:a,entryPoint:d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE,isInitialStep:!1})}function a(a){var b=a.animation;b=b===void 0?!0:b;var e=a.businessProfile,f=a.catalog;a=a.openCatalog;var g=a===void 0?m:a;a=d("WAWebBusinessProfileUtils").hasShop(e);var i=!1;l(function(){d("WAWebShopsLog").logShopsManagementEvent(d("WAWebWamEnumShopsManagementAction").SHOPS_MANAGEMENT_ACTION.ACTION_SHOPS_PRODUCT_PREVIEW_VISIBLE,{shouldLogJid:!1,isShopsProductPreviewVisible:i})},[i]);return a?!i?null:k.jsx(c("WAWebProductCatalogShopsCatalogDrawerSection.react"),{isEditMode:!0,subtitle:h._(/*BTDS*/"__JHASH__NOIbt5jSLqD__JHASH__"),businessProfile:e,catalog:f,productsToShow:3,animation:b}):k.jsx(c("WAWebProductCatalogCatalogDrawerSection.react"),{catalog:f,onProductDetail:g,onProductCatalog:function(){g()},productsToShow:3,catalogEntryLabel:f==null?h._(/*BTDS*/"__JHASH__-o4INtxKgg6__JHASH__"):h._(/*BTDS*/"__JHASH__X5ASIgqPZw1__JHASH__"),showProductPlaceholders:!0,seeMoreOverlay:!0,sectionTheme:"refresh",animation:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProfileDrawerUsername.react",["fbt","WANullthrows","WAWebChevronIcon.react","WAWebConnModel","WAWebContactCollection","WAWebDrawerBlock.react","WAWebDrawerSection.react","WAWebFlex.react","WAWebGetMeUsernameQueryAction","WAWebSvgComponentBase","WAWebText_DONOTUSE.react","WAWebUISpacing","WAWebUsernameGatingUtils","asyncToGeneratorRuntime","react","stylex","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useEffect,n=e.useState,o={height:{lineHeight:"x1evy7pa",$$css:!0}};function a(a){var e=a.onClick;a=a.username;m(function(){void p()},[]);var f=c("WANullthrows")(d("WAWebContactCollection").ContactCollection.getMeContact()),g=n(f.username),i=g[0],k=g[1];g=function(){k(f.username)};d("useWAWebListener").useListener(f,"change:username",g);function p(){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){d("WAWebUsernameGatingUtils").usernameSupported()&&(yield d("WAWebGetMeUsernameQueryAction").getMeUsername())});return q.apply(this,arguments)}g=a!=null&&d("WAWebUsernameGatingUtils").usernameChangeEnabled()||a==null&&d("WAWebUsernameGatingUtils").usernameSupported;a=h._(/*BTDS*/"__JHASH__MwTNTnNZ2Xn__JHASH__");e=l.jsx(c("WAWebDrawerBlock.react"),{onClick:g?e:void 0,side:g&&l.jsx(d("WAWebFlex.react").FlexRow,{justify:"end",children:l.jsx(d("WAWebChevronIcon.react").ChevronIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.SECONDARY,directional:!0,height:21})}),children:l.jsx(d("WAWebFlex.react").FlexRow,{children:l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{size:"16",xstyle:[o.height,d("WAWebUISpacing").uiMargin.top6],children:i!=null?i:a})})});return l.jsxs(l.Fragment,{children:[l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.end20,d("WAWebUISpacing").uiMargin.bottom28,d("WAWebUISpacing").uiMargin.start30))),l.jsxs(c("WAWebDrawerSection.react"),{theme:"no-padding",animation:!1,children:[l.jsx(d("WAWebFlex.react").FlexRow,{xstyle:[d("WAWebUISpacing").uiMargin.top16,d("WAWebUISpacing").uiMargin.start30],children:l.jsx(d("WAWebText_DONOTUSE.react").TextSpan,{color:"accent",xstyle:d("WAWebConnModel").Conn.isSMB&&[d("WAWebUISpacing").uiMargin.top25],children:h._(/*BTDS*/"__JHASH__GXogTZDly0j__JHASH__")})}),e]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProfileQuickPromotionSurface.react",["WAWebCTWAConstants","WAWebDrawerSection.react","WAWebPrivacyTipBanner.react","WAWebQuickPromotionGating","WAWebUserPrefsGeneral","react","useWAWebPrivacyTipQuickPromotion"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(){var a=d("useWAWebPrivacyTipQuickPromotion").usePrivacyTipQuickPromotion({surfaceId:d("WAWebCTWAConstants").QP_SURFACE_ID_PROFILE},[d("WAWebUserPrefsGeneral").getLastProfilePicThumbUpdate()]);if(a==null||!d("WAWebQuickPromotionGating").profilePrivacyTipsEnabled())return;var b=a.promotion,e=a.sanitizedText,f=a.image,g=a.dismiss,h=a.primaryActionClick;a=a.settingStep;b=b.promotion.data.primaryAction;return i.jsx(c("WAWebDrawerSection.react"),{theme:"padding-no-vertical",children:i.jsx(d("WAWebPrivacyTipBanner.react").PrivacyTipBanner,{text:e,image:f,actionText:b==null?void 0:b.text,onDismiss:g,onAction:h,settingStep:a})})}a.displayName=a.name+" [from "+f.id+"]";g.ProfileQPSurface=a}),98);
__d("WAWebPushNameBridge",["Promise","WASendPresenceStatusProtocol","WATimeUtils","WAWebPushNameSync","WAWebSyncdCoreApi"],(function(a,b,c,d,e,f,g){var h;function a(a){if(a){var e=d("WATimeUtils").unixTimeMs();e=c("WAWebPushNameSync").getPushnameMutation(e,a);void d("WASendPresenceStatusProtocol").sendPresenceStatusProtocol({name:a});return d("WAWebSyncdCoreApi").lockForSync([],[e],function(){return(h||(h=b("Promise"))).resolve()})}return(h||(h=b("Promise"))).resolve()}g["default"]=a}),98);
__d("WAWebSetPushnameConnAction",["fbt","WAFilteredCatch","WALogger","WAWebActionToast.react","WAWebBackendErrors","WAWebConnModel","WAWebPushNameBridge","WAWebSetPushnameLocallyConnAction","WAWebToastManager","asyncToGeneratorRuntime","react"],(function(a,b,c,d,e,f,g,h){var i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["models:conn:setPushname dropped"]);j=function(){return a};return a}var k=i||c("react");function a(a,b){return l(a,b)}function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){e===void 0&&(e=d("WAWebActionToast.react").genId());f===void 0&&(f=!1);var g=c("WAWebPushNameBridge")(a),i=new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__sm6Q_jbLi3___JHASH__")),m=d("WAWebConnModel").Conn.pushname,n=g.then(function(){var a;!f&&m!=null&&(a={actionText:h._(/*BTDS*/"__JHASH__mpD8GydGn1Q__JHASH__"),actionHandler:function(){return l(m,b,e,!0)}});return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__YgUAAsicbwl__JHASH__"),a)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){if(a.status>=400)return new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__ALetZRf2zEk__JHASH__"))}))["catch"](function(a){d("WALogger").WARN(j()).devConsole(a);throw new(d("WAWebActionToast.react").ActionType)(h._(/*BTDS*/"__JHASH__ALetZRf2zEk__JHASH__"),{actionText:h._(/*BTDS*/"__JHASH__TyKOR8KAtP1__JHASH__"),actionHandler:function(){return l(a.status,b,e)}})});d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebActionToast.react").ActionToast,{id:e,initialAction:i,onDismiss:b,pendingAction:n}));yield g;d("WAWebSetPushnameLocallyConnAction").setPushnameLocally(a)});return m.apply(this,arguments)}g.setPushname=a}),226);
__d("WAWebTextStatusSection",["fbt","WATimeUtils","WAWebClock","WAWebContactCollection","WAWebDrawerSection.react","WAWebEmoji","WAWebEmoji.react","WAWebExpandedTextStatusSection.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebMediaEditorEmojiIcon.react","WAWebPencilIcon.react","WAWebSvgComponentBase","WAWebText.react","WAWebTextStatusGatingUtils","WAWebTextStatusUtils","WAWebUISpacing","WAWebUnstyledButton.react","WAWebUserPrefsMeUser","react","stylex","useWAWebContactValues","useWAWebTextStatus"],(function(a,b,c,d,e,f,g,h){var i,j,k,l=k||c("react"),m=(i||(i=d("react"))).useState,n={editIconUnset:{color:"x1grh1yo",fill:"x19k3f58",$$css:!0},editIconSet:{color:"xt16idv",fill:"xztyjsx",$$css:!0}};function a(){var a=d("WAWebContactCollection").ContactCollection.assertGet(d("WAWebUserPrefsMeUser").getMeUser()),b=m(!1),e=b[0],f=b[1];c("useWAWebTextStatus")({contact:a});var g,i;b=d("useWAWebContactValues").useContactValues(a.id,[(b=d("WAWebFrontendContactGetters")).getTextStatusString,b.getTextStatusEmoji,b.getTextStatusLastUpdateTime,b.getTextStatusExpiryTs,b.getTextStatusEphemeralDuration]);var k=b[0],o=b[1],p=b[2],q=b[3];b=b[4];var r=d("WAWebTextStatusUtils").hasTextStatusSet(k,o,p,q,b);if(!d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()||!a)return null;if(!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&!r)return null;if(p===d("WAWebTextStatusUtils").TEXT_STATUS_NOT_FETCHED)i=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end5),{children:h._(/*BTDS*/"__JHASH__Ra97442lJIL__JHASH__")}));else if(!r)g=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end10),{children:l.jsx(d("WAWebMediaEditorEmojiIcon.react").MediaEditorEmojiIcon,{DEPRECATED_color:d("WAWebSvgComponentBase").DEPRECATED_SvgColorProp.TEAL_LIGHTER})})),i=l.jsx("div",babelHelpers["extends"]({},j.props(d("WAWebUISpacing").uiPadding.end5),{children:h._(/*BTDS*/"__JHASH__A4gwXR_tlwP__JHASH__")}));else{if(o!=null){a=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(o);a!=null&&(g=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end7),{children:l.jsx(c("WAWebEmoji.react"),{emoji:a,size:"small"},"low-res")})))}Boolean(k)&&(i=l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiPadding.end5),{children:k})))}o=l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[g,i]});a=h._(/*BTDS*/"__JHASH__-cBizDKkVAU__JHASH__");k=l.jsx(d("WAWebPencilIcon.react").PencilIcon,{directional:!0,iconXstyle:r?n.editIconSet:n.editIconUnset});r=function(){f(!0)};var s=function(){f(!1)};p=d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&p!==d("WAWebTextStatusUtils").TEXT_STATUS_NOT_FETCHED?l.jsx(c("WAWebUnstyledButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__4yzZRa0Cj2v__JHASH__"),xstyle:d("WAWebUISpacing").uiMargin.startAuto,testid:void 0,onClick:r,children:k}):null;return e?l.jsx(c("WAWebExpandedTextStatusSection.react"),{onClose:s}):l.jsxs("div",{children:[l.jsx(c("WAWebDrawerSection.react"),{title:a,animation:!1,theme:"padding",children:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(d("WAWebFlex.react").FlexRow,{align:"center",children:o}),p]})}),l.jsxs("div",babelHelpers["extends"]({"data-testid":void 0},(j||(j=c("stylex"))).props(d("WAWebUISpacing").uiMargin.start30,d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.bottom28,d("WAWebUISpacing").uiMargin.end20),{children:[b!==d("WAWebTextStatusUtils").TEXT_STATUS_DURATION_INFINITE&&q!=null&&l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:d("WAWebClock").Clock.textStatusExpiryStr(d("WATimeUtils").castToUnixTime(q))}),b===d("WAWebTextStatusUtils").TEXT_STATUS_DURATION_INFINITE&&l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:h._(/*BTDS*/"__JHASH__ikq5l0Y992X__JHASH__")})]}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUsernameCreationInfoDrawer.react",["fbt","WAWebButton.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerHeader.react","WAWebDrawerSection.react","WAWebExternalLink.react","WAWebFaqUrl","WAWebFbtCommon","WAWebFlex.react","WAWebStatusMentionsSenderNuxIcon.react","WAWebText.react","WAWebUISpacing","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k={section:{maxWidth:"x13qrzjo",$$css:!0},badge:{marginTop:"xotjm27",$$css:!0},disclaimerText:{textAlign:"x2b8uid",lineHeight:"x16h55sf",$$css:!0},color:{color:"x1prwzq3",fontWeight:"xk50ysn",$$css:!0}};function l(){var a=j.jsx(d("WAWebExternalLink.react").ExternalLink,{xstyle:k.color,href:d("WAWebFaqUrl").getFaqUrl(),children:c("WAWebFbtCommon")("Learn more")});return j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",xstyle:[k.section,d("WAWebUISpacing").uiMargin.top18],children:j.jsxs(d("WAWebText.react").WAWebTextSmall,{xstyle:k.disclaimerText,children:[h._(/*BTDS*/"__JHASH__y34F4H8TTaq__JHASH__")," ",a]})})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.onBack,e=a.onContinue;a=a.ref;var f=h._(/*BTDS*/"__JHASH__kp3JHlVlFXp__JHASH__"),g=h._(/*BTDS*/"__JHASH__e_OJvPb1hKr__JHASH__"),i=h._(/*BTDS*/"__JHASH__rSthX6_M-hA__JHASH__");return j.jsxs(c("WAWebDrawer.react"),{ref:a,testid:void 0,children:[j.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{title:f,type:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL,onBack:b}),j.jsxs(c("WAWebDrawerBody.react"),{children:[j.jsx(c("WAWebDrawerSection.react"),{animation:!1,theme:"full-height",children:j.jsx(d("WAWebFlex.react").FlexColumn,{align:"center",children:j.jsxs(d("WAWebFlex.react").FlexColumn,{align:"center",children:[j.jsx(d("WAWebFlex.react").FlexItem,{xstyle:k.badge,children:j.jsx(d("WAWebStatusMentionsSenderNuxIcon.react").StatusMentionsSenderNuxIcon,{width:87.36,height:87.01})}),j.jsx(d("WAWebText.react").WAWebTextLarge,{textAlign:"center",xstyle:d("WAWebUISpacing").uiMargin.top20,children:g}),j.jsx(l,{})]})})}),j.jsx(c("WAWebDrawerSection.react"),{animation:!1,children:j.jsx(d("WAWebFlex.react").FlexRow,{justify:"center",xstyle:d("WAWebUISpacing").uiPadding.all32,children:j.jsx(d("WAWebButton.react").WAWebButtonPrimary,{stretch:!0,onClick:e,children:i})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebProfileDrawer.react",["fbt","$InternalEnum","WAFilteredCatch","WAWebBackendErrors","WAWebBizGatingUtils","WAWebBusinessIcon.react","WAWebBusinessProfileCoverPhoto.react","WAWebBusinessProfileIconSection.react","WAWebBusinessProfileUtils","WAWebButton.react","WAWebCatalogCollection","WAWebCatalogLoadErrorLoadable","WAWebCatalogManagementFlowLoadable","WAWebChevronIcon.react","WAWebConfirmPopup.react","WAWebConnModel","WAWebConstantsDeprecated","WAWebContactGetters","WAWebContactInfoLinkedSocialAccounts.react","WAWebCopyPasteSelectable.react","WAWebCreateUsernameDrawer.react","WAWebDrawer.react","WAWebDrawerBody.react","WAWebDrawerContext","WAWebDrawerHeader.react","WAWebDrawerManager","WAWebDrawerSection.react","WAWebEditForm.react","WAWebFbtCommon","WAWebFlex.react","WAWebFlexItem.react","WAWebFrontendContactGetters","WAWebHooksUseSelfCatalogRecovery","WAWebInfoIcon.react","WAWebInfoRefreshedIcon.react","WAWebKeyboardHotKeys.react","WAWebMerchantDetailsFormFlowLoadable","WAWebMiscGatingUtils","WAWebModalManager","WAWebPhoneIcon.react","WAWebProductCatalogContext","WAWebProductCatalogDrawerSection","WAWebProductCatalogMetaLinkingGatingUtils","WAWebProductCatalogSession","WAWebProfileDrawerUsername.react","WAWebProfilePicPicker.react","WAWebProfileQuickPromotionSurface.react","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebQuickPromotionGating","WAWebRichTextField.react","WAWebSetPushnameConnAction","WAWebStatusContactAction","WAWebText.react","WAWebTextStatusGatingUtils","WAWebTextStatusSection","WAWebUIRefreshGatingUtils","WAWebUISpacing","WAWebUserPrefsMeUser","WAWebUsernameCreationInfoDrawer.react","WAWebUsernameGatingUtils","WAWebUsernameManagementDrawer.react","WAWebWamEnumBizPlatform","WAWebWamEnumCatalogEntryPoint","WAWebWidFormat","react","stylex","useWAWebContactValues","useWAWebFlow","useWAWebFocusOnMount","useWAWebModelValues","useWAWebUIM","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j,k;e=k||d("react");var l=i||(i=c("react")),m=e.useContext,n=e.useEffect,o=e.useRef,p=e.useState,q=139,r=256,s=b("$InternalEnum").Mirrored(["Profile","MerchantDetails","CatalogManagement","UsernameCreationInfo","CreateUsername","EditUsername"]),t={businessComplianceIconWrapper:{paddingInlineEnd:"x1djn7hi",color:"xq22nx5",$$css:!0},businessComplianceText:{flexGrow:"x1iyjqo2",color:"xzwifym",$$css:!0},businessComplianceRightAltIcon:{color:"xt16idv",$$css:!0},photoPickerWrapper:{display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=a.conn,e=a.contact,f=a.isInitialStep,g=a.onClose,h=a.profilePicThumb,i=a.ref;a=a.status;var j=p(),k=j[0],m=j[1];j=p();var n=j[0],o=j[1];j=c("useWAWebFocusOnMount")();g=d("useWAWebFlow").useFlow(s.Profile,{transitions:d("useWAWebFlow").FlowTransitions.DrawerRight,onEnd:g});var q=g[0],r=g[1];if(r.step==null)return null;var t;switch(r.step){case s.Profile:g=function(){r.push(s.MerchantDetails)};var u=function(a){d("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(d("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.WHATSAPP_CATALOG_COLLECTIONS_VIEW,{annotations:{string:{EntryPoint:"Profile"}}}),d("WAWebCatalogManagementFlowLoadable").createCatalogManagementFlowObject(function(b,c,e){e===!0&&!c?d("WAWebCatalogManagementFlowLoadable").showSelfCatalogLoadErrorToast():(m(b),o(a),r.push(s.CatalogManagement))})},v=function(){r.push(s.UsernameCreationInfo)},w=function(){r.push(s.EditUsername)};t=l.jsx(F,{openMerchantDetailsForm:g,openCatalogDetailsForm:u,openCreateUsernameDrawer:v,openEditUsernameDrawer:w,conn:b,contact:e,profilePicThumb:h,status:a,onClose:function(){return r.pop()},isInitialStep:f});break;case s.MerchantDetails:g=d("WAWebUserPrefsMeUser").getMeUser();t=l.jsx(d("WAWebMerchantDetailsFormFlowLoadable").MerchantDetailsFormFlowLoadable,{contactId:g,onBack:function(){return r.pop()}});break;case s.CatalogManagement:if(!k)return null;t=l.jsx(d("WAWebCatalogManagementFlowLoadable").CatalogManagementFlowLoadable,{catalogId:k,product:n,onBack:function(){return r.pop()},isInitialStep:!1});break;case s.UsernameCreationInfo:t=l.jsx(c("WAWebUsernameCreationInfoDrawer.react"),{onContinue:function(){return r.push(s.CreateUsername)},onBack:function(){return r.pop()},ref:i});break;case s.CreateUsername:t=l.jsx(c("WAWebCreateUsernameDrawer.react"),{ref:i,onBack:function(){return r.pop()}});break;case s.EditUsername:t=(e==null?void 0:e.username)!=null?l.jsx(d("WAWebUsernameManagementDrawer.react").UsernameManagementDrawer,{username:e.username,onBack:function(){return r.pop()}}):null}return l.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{ref:j,children:l.jsx(q,{ref:i,flow:r,children:t})})}a.displayName=a.name+" [from "+f.id+"]";function u(a){var b=a.businessProfile,e=a.catalogResult;a=a.openCatalogDetailsForm;var f=d("WAWebHooksUseSelfCatalogRecovery").useCatalogRecovery();function g(){d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").goToCommerceManager(b)}var i=d("WAWebBizGatingUtils").bannedShopsEnabled()&&d("WAWebBusinessProfileUtils").hasShop(b)&&d("WAWebBusinessProfileUtils").isShopBanned(b);if(i)return l.jsx(c("WAWebDrawerSection.react"),{theme:"padding-large",animation:!1,children:l.jsxs("div",babelHelpers["extends"]({className:"x2b8uid"},{children:[l.jsx("div",babelHelpers["extends"]({className:"x1sgpng x14z9mp x91k8ka x1lziwak x1pg5gke x37zpob x1grh1yo"},{children:h._(/*BTDS*/"__JHASH__kTXf0L3zoK___JHASH__")})),l.jsx(d("WAWebButton.react").Button,{type:"primary",onClick:g,children:h._(/*BTDS*/"__JHASH__5riWR6qyguF__JHASH__")})]}))});if(f)return l.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__jNygjCDe5tH__JHASH__"),theme:"refresh",animation:!0,children:l.jsx(d("WAWebCatalogLoadErrorLoadable").CatalogLoadErrorLoadable,{ctaDisplayType:d("WAWebCatalogLoadErrorLoadable").CTADisplayType.BUTTON})});return(e==null?void 0:e.catalogError)===!0?l.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__jNygjCDe5tH__JHASH__"),theme:"refresh",animation:!0,children:l.jsx(d("WAWebCatalogLoadErrorLoadable").CatalogLoadErrorLoadable,{ctaDisplayType:d("WAWebCatalogLoadErrorLoadable").CTADisplayType.NONE,shouldShowHeader:!1})}):l.jsx(c("WAWebProductCatalogDrawerSection"),{businessProfile:b,catalog:e==null?void 0:e.catalog,openCatalog:a,animation:!1})}u.displayName=u.name+" [from "+f.id+"]";var v={ellipsify:!0,multiline:!0,direction:"auto",inferLinesDirection:!0};function w(a){var b=a.unmountSignal,e=a.aboutInput,f=a.contact,g=a.openCreateUsernameDrawer,i=a.openEditUsernameDrawer,k=o(null),m=o(!1),n=d("useWAWebModelValues").useModelValues(a.conn,["pushname"]);a=p(n.pushname);var q=a[0],r=a[1];a=p(!1);var s=a[0],t=a[1];a=function(){m.current=!0};var u=function(a){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:a}))},w=function(){var a,b=q,c=/[\u2714\u2705\u2611]/g;b=(b||"").trim();if(!b)a=h._(/*BTDS*/"__JHASH__etgoAsPA_mc__JHASH__");else if(c.test(b))a=h._(/*BTDS*/"__JHASH__rQVFLJXRAtC__JHASH__");else{a;return!0}u(a);return!1},x=function(){m.current=!1;if(!d("WAWebConnModel").Conn.canSetMyPushname())return;var a=q;a=(a||"").trim();var c=n.pushname;if(a===c)return;c=function(){var a;(a=k.current)==null?void 0:a.focusEditBtn()};t(!0);d("WAWebSetPushnameConnAction").setPushname(a,c).then(function(){if(b.aborted)return;t(!1)})},y=function(a){r(a)},z=function(){m.current=!1,r(n.pushname)},A=m.current||s?q:n.pushname,B;d("WAWebConnModel").Conn.isSMB?B=h._(/*BTDS*/"__JHASH__N3UhrvFCcCs__JHASH__"):!d("WAWebUsernameGatingUtils").usernameSupported()?B=h._(/*BTDS*/"__JHASH__DEWUGhYKpOu__JHASH__"):B="";f=l.jsx(c("WAWebProfileDrawerUsername.react"),{username:f==null?void 0:f.username,onClick:(f==null?void 0:f.username)!=null?i:g});i=l.jsx(c("WAWebDrawerSection.react"),{titleTestId:"about-section",title:h._(/*BTDS*/"__JHASH__sFib9WstPWX__JHASH__"),theme:"padding",animation:!1,children:e});g=h._(/*BTDS*/"__JHASH__1ng15-MpuK5__JHASH__");return l.jsxs(l.Fragment,{children:[d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&l.jsx(c("WAWebTextStatusSection"),{}),l.jsx(c("WAWebDrawerSection.react"),{titleTestId:"pushname-section",title:h._(/*BTDS*/"__JHASH__YOFS32oaLWs__JHASH__"),theme:"padding",animation:!1,children:l.jsx(d("WAWebRichTextField.react").RichTextField,{ref:k,testid:void 0,value:A,editable:d("WAWebConnModel").Conn.canSetMyPushname(),pending:s,showRemaining:!0,validate:w,maxLength:c("WAWebConstantsDeprecated").MAX_PUSHNAME_LENGTH,onBeginEdit:a,onChange:function(a){a=a.text;return y(a)},onSave:x,onCancel:z,emojiBtnPosition:"side",lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:v,ariaLabel:g,fieldName:g,blockFocusOnLock:!0})}),l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(j||(j=c("stylex"))).props([d("WAWebUISpacing").uiMargin.top4,d("WAWebUISpacing").uiMargin.end20,d("WAWebUISpacing").uiMargin.bottom28,d("WAWebUISpacing").uiMargin.start30]),{children:l.jsx(d("WAWebText.react").WAWebTextMuted,{as:"span",children:B})})),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&i,d("WAWebUsernameGatingUtils").usernameSupported()&&f]})}w.displayName=w.name+" [from "+f.id+"]";function x(a){return d("WAWebMiscGatingUtils").isBlueLockingEnabled()?l.jsx(A,babelHelpers["extends"]({},a)):l.jsx(z,babelHelpers["extends"]({},a))}x.displayName=x.name+" [from "+f.id+"]";function y(a){if(d("WAWebBizGatingUtils").blockCatalogCreationECommerceComplianceIndia(a.businessProfile))return!1;return d("WAWebProductCatalogMetaLinkingGatingUtils").shouldDisableCatalogDueToMetaLinkingForSelf()?!1:!0}function z(a){var b=a.contact,e=a.openMerchantDetailsForm,f=a.businessProfile,g=a.openCatalogDetailsForm,i=a.catalogResult,j=a.aboutInput,k=a.openCreateUsernameDrawer,m=a.openEditUsernameDrawer;a=a.isRefreshed;j=l.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebInfoIcon.react").InfoIcon,content:j});var n=l.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:d("WAWebPhoneIcon.react").PhoneIcon,type:"container",content:l.jsxs("div",{children:[l.jsx(d("WAWebCopyPasteSelectable.react").SelectableDiv,{className:"xdod15v",selectable:!0,children:d("WAWebWidFormat").widToFormattedUser(d("WAWebUserPrefsMeUser").assertGetMe())}),l.jsx("div",babelHelpers["extends"]({className:"x1sgpng x1pg5gke x37zpob x1grh1yo"},{children:h._(/*BTDS*/"__JHASH__xs1WLzRTqZQ__JHASH__")}))]})});j=d("WAWebMiscGatingUtils").isBlueLockingEnabled()?l.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__qBaFho7UgG9__JHASH__"),theme:"refresh",animation:!1,children:j}):l.jsxs(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__sQA6K2KGpv4__JHASH__"),theme:"refresh",animation:!1,children:[j,n]});n=l.jsx(c("WAWebProfileDrawerUsername.react"),{username:b==null?void 0:b.username,onClick:(b==null?void 0:b.username)!=null?m:k});return l.jsxs("div",{children:[l.jsx(c("WAWebEditForm.react"),{isRefreshed:a}),d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&l.jsx(c("WAWebTextStatusSection"),{}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b.id)&&l.jsx(D,{onTitleClick:e}),y(b)&&l.jsx(u,{businessProfile:f,openCatalogDetailsForm:g,catalogResult:i}),l.jsx(E,{contact:b}),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&j,d("WAWebUsernameGatingUtils").usernameSupported()&&n]})}z.displayName=z.name+" [from "+f.id+"]";function A(a){var b=a.contact,e=a.openMerchantDetailsForm,f=a.businessProfile,g=a.openCatalogDetailsForm,i=a.catalogResult,j=a.aboutInput,k=a.openCreateUsernameDrawer,m=a.openEditUsernameDrawer;a=a.isRefreshed;j=l.jsx(d("WAWebBusinessProfileIconSection.react").IconSection,{Icon:a?d("WAWebInfoRefreshedIcon.react").InfoRefreshedIcon:d("WAWebInfoIcon.react").InfoIcon,content:j});j=l.jsx(c("WAWebDrawerSection.react"),{title:h._(/*BTDS*/"__JHASH__MTPnEE3YD4H__JHASH__"),theme:"refresh",animation:!1,children:j});m=l.jsx(c("WAWebProfileDrawerUsername.react"),{username:b==null?void 0:b.username,onClick:(b==null?void 0:b.username)!=null?m:k});return l.jsxs("div",{children:[l.jsx(c("WAWebEditForm.react"),{isRefreshed:a}),d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&l.jsx(c("WAWebTextStatusSection"),{}),d("WAWebBizGatingUtils").canSeeECommerceComplianceIndiaSoftEnforcement(b.id)&&l.jsx(D,{onTitleClick:e}),y(b)&&l.jsx(u,{businessProfile:f,openCatalogDetailsForm:g,catalogResult:i}),l.jsx(E,{contact:b}),!d("WAWebTextStatusGatingUtils").sendTextStatusEnabled()&&j,d("WAWebUsernameGatingUtils").usernameSupported()&&m]})}A.displayName=A.name+" [from "+f.id+"]";function B(a){var b=a.contact;a=a.profilePicThumb;b=b.businessProfile?l.jsx(c("WAWebBusinessProfileCoverPhoto.react"),{contact:b,businessProfile:b.businessProfile,editable:!0,profilePicThumb:a}):null;return l.jsx(c("WAWebDrawerSection.react"),{theme:"padding-no-margin",animation:!1,children:b})}B.displayName=B.name+" [from "+f.id+"]";function C(a){a=a.profilePicThumb;return l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props([d("WAWebUISpacing").uiMargin.vert28,t.photoPickerWrapper]),{children:l.jsx(c("WAWebProfilePicPicker.react"),{profilePicThumb:a})}))}C.displayName=C.name+" [from "+f.id+"]";function D(a){a=a.onTitleClick;return l.jsx(c("WAWebDrawerSection.react"),{title:l.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[l.jsx(c("WAWebFlexItem.react"),{xstyle:t.businessComplianceIconWrapper,children:l.jsx(d("WAWebBusinessIcon.react").BusinessIcon,{})}),l.jsx(c("WAWebFlexItem.react"),{xstyle:t.businessComplianceText,children:h._(/*BTDS*/"__JHASH__GEW-b_5vLT1__JHASH__")}),l.jsx(c("WAWebFlexItem.react"),{children:l.jsx(d("WAWebChevronIcon.react").ChevronIcon,{xstyle:t.businessComplianceRightAltIcon,directional:!0,height:21})})]}),theme:"refresh-padding-title",titleOnClick:a,animation:!1})}D.displayName=D.name+" [from "+f.id+"]";function E(a){a=a.contact;return!d("WAWebBizGatingUtils").bizLinkedAccountsEnabled()||!a.businessProfile?null:l.jsx(c("WAWebContactInfoLinkedSocialAccounts.react"),{businessProfile:a.businessProfile,sectionTheme:"refresh-padding-title",showEditHint:!0})}E.displayName=E.name+" [from "+f.id+"]";function F(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.contact,f=a.onClose,g=a.openCatalogDetailsForm,i=a.openMerchantDetailsForm,j=a.openCreateUsernameDrawer,k=a.openEditUsernameDrawer,s=a.isInitialStep,t=c("useWAWebUIM")(),u=o(null),y=d("useWAWebModelValues").useModelValues(a.status,["status"]),z=p(y.status),A=z[0],D=z[1];z=p(!1);var E=z[0],F=z[1],G=o(!1);z=m(d("WAWebDrawerContext").DrawerContext);var H=c("useWAWebUnmountSignal")(),I=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebFrontendContactGetters").getBusinessProfile,d("WAWebContactGetters").getId,d("WAWebContactGetters").getStatusMute]),J=I[0];I[1];I[2];I=d("useWAWebModelValues").useModelValues(a.profilePicThumb,["imgFull","id"]);var K=p(null),L=K[0],M=K[1];K=d("WAWebConnModel").Conn.isSMB?d("WAWebProductCatalogContext").getProductCatalogContext(z):{};var N=K.session;n(function(){if(!d("WAWebConnModel").Conn.isSMB)return;d("WAWebCatalogCollection").CatalogCollection.findCarouselCatalog(d("WAWebUserPrefsMeUser").getMeUser()).then(function(a){a=Array.isArray(a)?a[0]:a;M({catalog:a,catalogError:!1})})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").ServerStatusCodeError,function(a){a.status==="not_found"||a.status===404?M({catalog:null,catalogError:!1}):M({catalog:null,catalogError:!0})}))["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").AdAccountRecoveryRequiredError,function(a){M({catalog:null,catalogError:!1})}))["catch"](function(a){M({catalog:null,catalogError:!1})});(N==null?void 0:N.isAccidental())&&d("WAWebDrawerManager").DrawerManager.setDrawerContext("left",d("WAWebProductCatalogContext").buildProductCatalogContext(new(d("WAWebProductCatalogSession").ProductCatalogSession)(),d("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,d("WAWebWamEnumCatalogEntryPoint").CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_SETTINGS))},[]);if(d("WAWebConnModel").Conn.isSMB&&(N==null?void 0:N.isAccidental()))return null;z=function(){f?f():t==null?void 0:t.requestDismiss()};K=function(a){return!!(a||"").trim()};var O=function(){G.current=!0},P=function(){d("WAWebModalManager").ModalManager.open(l.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:function(){return d("WAWebModalManager").ModalManager.close()},okText:c("WAWebFbtCommon")("OK"),children:h._(/*BTDS*/"__JHASH__0VybJcp6TGW__JHASH__")}))},Q=function(){G.current=!1,D(y.status)},R=function(){if(A==null){Q();return}G.current=!1;var a=y.status,b=A;if(b===a)return;b=function(){var a;(a=u.current)==null?void 0:a.focusEditBtn()};F(!0);void d("WAWebStatusContactAction").setMyStatus(A,b).then(function(){if(H.aborted)return;F(!1)})},S=function(a){D(a)},T=G.current||E?A:y.status,U=h._(/*BTDS*/"__JHASH__BjKV-W0G3-U__JHASH__");T=l.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:T,editable:!0,pending:E,showRemaining:!0,validate:K,maxLength:q,maxCodeUnits:r,onBeginEdit:O,onChange:function(a){a=a.text;return S(a)},onSave:R,onError:P,onCancel:Q,theme:"text-input",fieldName:U,ariaLabel:U,emojiBtnPosition:"side",lockable:!0,lowProfile:!0,constrainedWidth:!0,emojiTextSettingsInLockMode:v,blockFocusOnLock:!0,ref:u});E=d("WAWebConnModel").Conn.isSMB?l.jsx(B,{contact:e,profilePicThumb:I}):l.jsx(C,{profilePicThumb:I});K=d("WAWebConnModel").Conn.isSMB?l.jsx(x,{contact:e,openMerchantDetailsForm:i,businessProfile:J,openCatalogDetailsForm:g,catalogResult:L,aboutInput:T,openCreateUsernameDrawer:j,openEditUsernameDrawer:k,isRefreshed:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()}):l.jsx(w,{conn:a.conn,aboutInput:T,contact:e,unmountSignal:H,openCreateUsernameDrawer:j,openEditUsernameDrawer:k});O=h._(/*BTDS*/"__JHASH__SRWKcs428BE__JHASH__");R=s?d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.TAB:d("WAWebDrawerHeader.react").DRAWER_HEADER_TYPE.SMALL;return l.jsxs(c("WAWebDrawer.react"),{ref:b,testid:void 0,children:[l.jsx(d("WAWebDrawerHeader.react").DrawerHeader,{testid:void 0,title:O,onBack:z,type:R,focusBackOrCancel:!0}),l.jsxs(c("WAWebDrawerBody.react"),{children:[E,K,d("WAWebQuickPromotionGating").profilePrivacyTipsEnabled()&&l.jsx(d("WAWebProfileQuickPromotionSurface.react").ProfileQPSurface,{}),d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()&&l.jsx("div",{className:"xexx8yu xyri2b xefzj8c x1c1uobl"})]})]})}F.displayName=F.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSendGroupInviteFlow.react",["fbt","WANullthrows","WAWebGroupType","WAWebSendTextFlow.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b;a=a.chat;b=c("WANullthrows")((b=a.groupMetadata)==null?void 0:b.groupInviteLink);a=((a=a.groupMetadata)==null?void 0:a.groupType)===d("WAWebGroupType").GroupType.COMMUNITY;a=a?h._(/*BTDS*/"__JHASH__JrlCg9TMHkl__JHASH__").toString()+" "+b:h._(/*BTDS*/"__JHASH__2oCqXm_Ze0x__JHASH__").toString()+" "+b;return j.jsx(c("WAWebSendTextFlow.react"),{title:h._(/*BTDS*/"__JHASH__LenP8XNVLj1__JHASH__"),text:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUploadUserReport",["WALogger","WAWebCrashlog","WAWebCrashlogConstants","WAWebLoggerDebugInfo","WAWebXHR","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport failed ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport succeeded"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport submitting"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport description: ",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["UploadUserReport:uploadUserReport uploading"]);l=function(){return a};return a}function a(a,b,c,d,e,f,g){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,m,n){try{d("WALogger").LOG(l());d("WALogger").LOG(k(),f).verbose();var o=(yield d("WAWebCrashlog").upload({reason:d("WAWebCrashlog").USER_REPORT,immediate:!1,isHighPri:!0,logType:d("WAWebCrashlog").LogType.SUPPORT})),p=new FormData();a!=null&&p.append("user",String(a));p.append("email",b);o&&p.append("crashlog",o);p.append("desc",f);g.map(function(a,b){p.append("screenshot-"+b,a)});a=(yield d("WAWebLoggerDebugInfo").getDebugInfo({supportTag:m,entityId:n}));b=babelHelpers["extends"]({},a,{subject:e});p.append("info",JSON.stringify(b));d("WALogger").LOG(j());yield c("WAWebXHR").post(d("WAWebCrashlogConstants").TICKET_URL,p);d("WALogger").LOG(i())}catch(a){d("WALogger").LOG(h(),String(a))}});return m.apply(this,arguments)}g.uploadUserReport=a}),98);
__d("WAWebSendLogsPopup.react",["fbt","WALinkify","WAPhoneUtils","WAWebABPropsSaga","WAWebConfirmPopup.react","WAWebConnModel","WAWebEventFiles","WAWebExternalLink.react","WAWebFaqUrl","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebRichTextField.react","WAWebSupportChatStrings","WAWebText.react","WAWebToast.react","WAWebToastManager","WAWebUploadUserReport","WAWebUserPrefsMeUser","WAWebXAltIcon.react","asyncToGeneratorRuntime","fbs","react"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.useEffect,m=e.useRef,n=e.useState,o=320,p=50,q=10,r=500,s=3,t=10485760;function u(){return d("WAWebConnModel").Conn.isSMB?h._(/*BTDS*/"__JHASH__I601hnHGrFJ__JHASH__"):h._(/*BTDS*/"__JHASH__AhgPLhWKIJ-__JHASH__")}function v(a){var b=a.onDeleteScreenshot;a=a.screenshots;a=a.map(function(a,c){if(a.url==null)return null;var e="url("+a.url+")";a=a.url+"-"+c;return k.jsx("div",{className:"x1n2onr6 x1faq86j x1vtj31x x1t79jtt x1gslohp x2fvf9 x12nagc xdwrcjd x1oreiyq x1vwr25l x18d0r48 x1e7nkc8",style:{backgroundImage:e},children:k.jsx("button",babelHelpers["extends"]({className:"x10l6tqk xnfr1j x1h1655f x7o08j2"},{onClick:function(){b(c)},children:k.jsx(d("WAWebXAltIcon.react").XAltIcon,{})}))},a)}).filter(Boolean);return a.length!==0?k.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1iorvi4 x11lfxj5 xjkvuk6 x135b78x x1q7yeco"},{children:a})):null}v.displayName=v.name+" [from "+f.id+"]";function w(a){var b=a.isDragging,c=a.onAttachClick;a=a.reachedMaxScreenshots;if(a){a=s;return k.jsx("div",babelHelpers["extends"]({className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl xw7yly9 x1pg5gke x2b8uid xtvhhri xlwc9sh xpw2u0k xt0e3qv"},{children:h._(/*BTDS*/"__JHASH__nRq1j6poVpM__JHASH__",[h._plural(a,"number")])}))}else if(b)return k.jsx("div",babelHelpers["extends"]({className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl xw7yly9 x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh"},{children:h._(/*BTDS*/"__JHASH__E4yN8s83x3u__JHASH__")}));return k.jsx("div",babelHelpers["extends"]({className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xlup9mm xexx8yu xyri2b x18d9i69 x1c1uobl xw7yly9 x1pg5gke x1jrnqrx x2b8uid xtvhhri x1ypdohk xlwc9sh"},{onClick:c,children:h._(/*BTDS*/"__JHASH__q6f6QlMKgDZ__JHASH__")}))}w.displayName=w.name+" [from "+f.id+"]";function a(a){var e=a.onCancel,f=a.supportTag,g=a.onSend,i=a.entityId,j=n(""),x=j[0],y=j[1];j=n(void 0);var z=j[0],A=j[1];j=n("");var B=j[0],C=j[1];j=n(void 0);var D=j[0],E=j[1];j=n(u().toString());var F=j[0],G=j[1];j=n(void 0);var H=j[0],I=j[1];a=n((j=a.description)!=null?j:"");var J=a[0],K=a[1];j=n(void 0);a=j[0];var L=j[1];j=n([]);var M=j[0],N=j[1];j=n(!1);var O=j[0],P=j[1];j=n(!1);var Q=j[0],R=j[1],S=m(null),T=m(null);l(function(){var a;(a=S.current)==null?void 0:a.restoreFocus();R(d("WAWebABPropsSaga").getIsSagaV1Enabled());return function(){M.map(function(a){a=a.url;return URL.revokeObjectURL(a)})}},[]);var U=function(a){return!0},V=function(a){return a.length>q},W=function(a){return x===a},X=function(){return M.length>=s};j=function(){e&&e(),d("WAWebModalManager").ModalManager.close()};var Y=function(a){a.stopPropagation()},aa=function(a,b){P(a)},ba=function(){var a=B.trim();B&&!W(a)&&E(h._(/*BTDS*/"__JHASH__kSyfdOHyTbj__JHASH__"));C(a)},ca=function(){var a=x.trim();x&&!d("WALinkify").validateEmail(a)&&A(h._(/*BTDS*/"__JHASH__Ioswb2NNWQY__JHASH__"));y(a)},da=function(a){d("WALinkify").validateEmail(a)&&A(void 0),y(a)},ea=function(){J&&!V(J)&&L(h._(/*BTDS*/"__JHASH___eUeaUfWHur__JHASH__"))},fa=function(a){if(!X()){(a=T.current)==null?void 0:a.click()}},Z=function(a){a.preventDefault();a.stopPropagation();if(X())return;d("WAWebEventFiles").getFiles(a,"image/*").then(function(a){T.current&&(T.current.value="");var b=a.filter(function(a){return a.size<=t});b.length<a.length&&d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__mOHw834i-ag__JHASH__")}));if(X())return;a=s-M.length;b=b.slice(0,a);a=b.map(function(a){return{file:a,url:URL.createObjectURL(a)}});N(M.concat(a))})},ga=function(a){C(a),W(a)&&E(void 0)},ha=function(a){K(a),V(a)&&L(void 0)},ia=function(){U(F)||I(h._(/*BTDS*/"__JHASH__fnvIAVy3YLj__JHASH__"))},ja=function(a){G(a),U(a)&&I(void 0)},ka=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=0,b=x.trim(),e=B.trim();y(b);C(e);d("WALinkify").validateEmail(b)||(A(h._(/*BTDS*/"__JHASH__Ioswb2NNWQY__JHASH__")),a+=1);W(e)||(E(h._(/*BTDS*/"__JHASH__kSyfdOHyTbj__JHASH__")),a+=1);V(J)||(L(h._(/*BTDS*/"__JHASH___eUeaUfWHur__JHASH__")),a+=1);U(F)||(I(h._(/*BTDS*/"__JHASH__fnvIAVy3YLj__JHASH__")),a+=1);if(a===0){A(void 0);E(void 0);I(void 0);L(void 0);e=M.map(function(a){URL.revokeObjectURL(a.url);return a.file});N([]);a=d("WAWebUserPrefsMeUser").getMeUser();a=d("WAPhoneUtils").formatPhone(a.user);var j=F.trim()||c("fbs")._(/*BTDS*/"__JHASH__LLblzY4NWPN__JHASH__").toString();d("WAWebUploadUserReport").uploadUserReport(a,b,j,J,e,f,i);g&&g({subject:j,description:J,numScreenshots:e.length});d("WAWebModalManager").ModalManager.close();d("WAWebToastManager").ToastManager.open(k.jsx(d("WAWebToast.react").Toast,{msg:h._(/*BTDS*/"__JHASH__dREXQThAWkL__JHASH__")}))}});return function(){return a.apply(this,arguments)}}(),$=function(a){var b=M.slice();a=b.splice(a,1);a=a[0];URL.revokeObjectURL(a.url);N(b)};$=k.jsxs("div",{children:[k.jsx(v,{screenshots:M,onDeleteScreenshot:$}),k.jsx(w,{reachedMaxScreenshots:X(),isDragging:O,onAttachClick:fa}),k.jsx("input",babelHelpers["extends"]({className:"x1s85apg"},{accept:"image/*",type:"file",multiple:!0,onClick:Y,onChange:Z,ref:T,disabled:X()}))]});O={enter:Y};return k.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{title:h._(/*BTDS*/"__JHASH__IK0yJR9Mtbx__JHASH__"),okText:h._(/*BTDS*/"__JHASH__RTw8nDkS9-7__JHASH__"),onOK:ka,onCancel:j,onDrop:Z,onDragChange:aa,children:k.jsxs(d("WAWebKeyboardHotKeys.react").HotKeys,{handlers:O,children:[k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,ref:S,value:x,error:z,maxLength:o,onChange:function(a){return da(a.text)},onBlur:ca,placeholder:h._(/*BTDS*/"__JHASH__2OrCmOFp5S1__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,editable:!0,value:B,error:D,maxLength:o,onChange:function(a){return ga(a.text)},onBlur:ba,placeholder:h._(/*BTDS*/"__JHASH__b4yojxulKS1__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:F,error:H,maxLength:p,onChange:function(a){return ja(a.text)},onBlur:ia,placeholder:h._(/*BTDS*/"__JHASH__sLKnNPiXK3e__JHASH__")}),k.jsx(d("WAWebRichTextField.react").RichTextField,{testid:void 0,value:J,error:a,maxLength:r,onChange:function(a){return ha(a.text)},onBlur:ea,placeholder:h._(/*BTDS*/"__JHASH__XlXcJ0JDEsr__JHASH__"),multiline:!0}),$,Q&&k.jsxs(d("WAWebText.react").WAWebTextMuted,{marginTop:20,children:[d("WAWebSupportChatStrings").SupportChatDeviceInfoDisclaimer()," ",k.jsx(d("WAWebExternalLink.react").ExternalLink,{href:d("WAWebFaqUrl").getSupportChatFaqUrl(),children:h._(/*BTDS*/"__JHASH__RR1bpeluTQm__JHASH__")})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebSendMsgMultiModal.react",["fbt","Promise","WATimeUtils","WAWebBlockContactAction","WAWebChatGetters","WAWebCmd","WAWebComposeBoxActions","WAWebModalManager","WAWebSelectModal.react","WAWebSendTextMsgChatAction","WAWebServerPropConstants","asyncToGeneratorRuntime","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react");function a(a){var e=a.msgText,f=a.urlText;a=function(a){var g=e;if(a.length===1){var h,j=a[0];d("WAWebChatGetters").getIsUser(j)&&j.contact.isContactBlocked?h=d("WAWebBlockContactAction").unblockContact(j.contact):h=(i||(i=b("Promise"))).resolve(!0);h.then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!c("isStringNullOrEmpty")(g)){j.urlText=f;if(j.active){d("WAWebComposeBoxActions").ComposeBoxActions.paste(j,g);return}j.setComposeContents({text:g,timestamp:d("WATimeUtils").unixTime()})}a=(yield d("WAWebCmd").Cmd.openChatFromUnread(j));a&&d("WAWebComposeBoxActions").ComposeBoxActions.focus(j)});return function(b){return a.apply(this,arguments)}}())}else(i||(i=b("Promise"))).all(a.map(function(c){var a;d("WAWebChatGetters").getIsUser(c)&&c.contact.isContactBlocked?a=d("WAWebBlockContactAction").unblockContact(c.contact):a=(i||(i=b("Promise"))).resolve(!0);a.then(function(a){c.urlText=f,d("WAWebSendTextMsgChatAction").sendTextMsgToChat(c,g)})})),d("WAWebCmd").Cmd.openChatFromUnread(a[0]);d("WAWebModalManager").ModalManager.close()};return k.jsx(d("WAWebSelectModal.react").SelectModal,{onConfirm:a,maxItems:d("WAWebServerPropConstants").MULTICAST_LIMIT_GLOBAL,title:h._(/*BTDS*/"__JHASH__Pz11_y6jv6u__JHASH__"),listType:d("WAWebSelectModal.react").ListType.ChatSelectModal})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebUnstarAllPopup.react",["fbt","WAWebChatCollection","WAWebConfirmPopup.react","WAWebEmojiText.react","WAWebModalManager","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react"),k=function(){d("WAWebModalManager").ModalManager.close()};function a(a){var b=a.chat,c=a.msgs;a=function(){b&&b.pendingAction++,d("WAWebChatCollection").ChatCollection.unstarAllMessages(c,b)["finally"](function(){b&&b.pendingAction--}),d("WAWebModalManager").ModalManager.close()};return j.jsx(d("WAWebConfirmPopup.react").ConfirmPopup,{onOK:a,okText:h._(/*BTDS*/"__JHASH__9lzxpfjhJ2m__JHASH__"),onCancel:k,children:j.jsx("div",{children:j.jsx(d("WAWebEmojiText.react").EmojiText,{text:h._(/*BTDS*/"__JHASH__QDsbV0gAqF3__JHASH__")})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStarredHeaderDropdown.react",["fbt","WAWebDropdownItem.react","WAWebModalManager","WAWebUIRefreshGatingUtils","WAWebUnstarAllPopup.react","WAWebUnstarRefreshedIcon.react","react"],(function(a,b,c,d,e,f,g,h){var i,j=i||c("react");function a(a){var b=a.msgs,e=a.chat,f;if(b.length>0)f=b;else{f=(a=e==null?void 0:e.getStarredMsgs().toArray())!=null?a:[]}b=function(){d("WAWebModalManager").ModalManager.open(j.jsx(c("WAWebUnstarAllPopup.react"),{msgs:f,chat:e}))};return j.jsx(d("WAWebDropdownItem.react").DropdownItem,{icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?j.jsx(d("WAWebUnstarRefreshedIcon.react").UnstarRefreshedIcon,{}):null,testid:void 0,action:b,disabled:f.length===0,children:h._(/*BTDS*/"__JHASH__SVp7zZnwcuu__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g.StarredHeaderDropdown=a}),226);
__d("WAWebStarredDrawerV2.react",["fbt","WAWebDisplayType","WAWebDropdown.react","WAWebEmptyState.react","WAWebHistorySyncComponents.react","WAWebMenuBar.react","WAWebMenuIcon.react","WAWebMessageComponentContext.react","WAWebMoreRefreshedIcon.react","WAWebMsgDrawer.react","WAWebStarredHeaderDropdown.react","WAWebUIRefreshGatingUtils","react"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useMemo;function a(a){var b=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);var e=a.starredMsgs,f=a.onClose,g=a.chat,i=a.headerType,j=a.onSaveContact;a=h._(/*BTDS*/"__JHASH__uSSuzpxR3c8__JHASH__");var m=k.jsx(d("WAWebEmptyState.react").StarredMsgs,{}),n=g!=null?k.jsx(d("WAWebHistorySyncComponents.react").HistorySyncChatStarredMsgsPlaceholderText,{}):k.jsx(d("WAWebHistorySyncComponents.react").HistorySyncStarredMsgsPlaceholderText,{}),o=k.jsx(d("WAWebMenuBar.react").MenuBarItem,{testid:void 0,icon:d("WAWebUIRefreshGatingUtils").uiRefreshM1Enabled()?k.jsx(d("WAWebMoreRefreshedIcon.react").MoreRefreshedIcon,{}):k.jsx(d("WAWebMenuIcon.react").MenuIcon,{}),title:h._(/*BTDS*/"__JHASH__vnnO4cNTiS8__JHASH__"),dropdownMenu:{menu:k.jsx(d("WAWebStarredHeaderDropdown.react").StarredHeaderDropdown,{chat:g,msgs:e.toArray()}),type:d("WAWebDropdown.react").MenuType.DropdownMenu,flipOnRTL:!0,dirX:d("WAWebDropdown.react").DirX.LEFT}}),p=l(function(){return{onSaveContact:j}},[j]);return k.jsx(d("WAWebMessageComponentContext.react").MessageComponentContext.Provider,{value:p,children:k.jsx(c("WAWebMsgDrawer.react"),{ref:b,msgCollection:e,onClose:f,chat:g,title:a,emptyListText:m,footerText:n,headerMenu:o,headerType:i,displayType:d("WAWebDisplayType").DISPLAY_TYPE.STARRED_MSGS,tsNavigationSurface:"starred-messages-drawer"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusListPanel.react",["WAWebStatusList.react","WAWebStatusListHeader.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){a=a.onOpenStatus;return i.jsxs("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy x1o0tod x78zum5 xdt5ytf x5yr21d x160y1p1 x1yewgqm xshg5ix x1wejiyj xtbbw2h x15i9xf3"},{children:[i.jsx(d("WAWebStatusListHeader.react").StatusListHeader,{onOpenStatus:a}),i.jsx(d("WAWebStatusList.react").StatusList,{onOpenStatus:a})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStatusPlaceholderIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react"),k="status-placeholder";function a(a){var b=a.iconXstyle,e=a.height,f=a.width,g=a.viewBox;a=babelHelpers.objectWithoutPropertiesLoose(a,["iconXstyle","height","width","viewBox"]);var h;if(g){var l=g.x;l=l===void 0?0:l;var m=g.y;m=m===void 0?0:m;var n=g.width;n=n===void 0?0:n;g=g.height;g=g===void 0?0:g;h=[l,m,n,g].join(" ")}l=80;m=80;(e!=null||f!=null)&&(l=e,m=f);return j.jsx(d("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers["extends"]({name:k},a,{children:j.jsxs("svg",{viewBox:(n=h)!=null?n:"0 0 80 80",height:l,width:m,preserveAspectRatio:"xMidYMid meet",className:(i||(i=c("stylex")))(b),version:"1.1",id:"Layer_1",x:"0px",y:"0px",enableBackground:"new 0 0 80 80",children:[j.jsx("title",{children:k}),j.jsx("path",{fill:"currentColor",d:"M30.566,78.982c-0.222,0-0.447-0.028-0.672-0.087C12.587,74.324,0.5,58.588,0.5,40.631 c0-3.509,0.459-6.989,1.363-10.343c0.377-1.399,1.814-2.23,3.217-1.851c1.399,0.377,2.228,1.818,1.851,3.217 c-0.784,2.909-1.182,5.929-1.182,8.977c0,15.578,10.48,29.226,25.485,33.188c1.401,0.37,2.237,1.806,1.867,3.209 C32.79,78.204,31.728,78.982,30.566,78.982z M49.921,78.875C67.336,74.364,79.5,58.611,79.5,40.563c0-3.477-0.452-6.933-1.345-10.27 c-0.374-1.401-1.812-2.232-3.213-1.858c-1.4,0.375-2.233,1.813-1.858,3.214c0.773,2.896,1.166,5.895,1.166,8.914 c0,15.655-10.545,29.319-25.646,33.23c-1.403,0.363-2.246,1.796-1.883,3.199c0.306,1.182,1.371,1.967,2.539,1.967 C49.478,78.959,49.699,78.932,49.921,78.875z M15.482,16.5C21.968,9.901,30.628,6.267,39.867,6.267 c9.143,0,17.738,3.569,24.202,10.05c1.024,1.026,2.686,1.028,3.712,0.004c1.026-1.024,1.028-2.685,0.005-3.712 C60.329,5.135,50.413,1.018,39.867,1.018c-10.658,0-20.648,4.191-28.128,11.802c-1.016,1.034-1.002,2.696,0.032,3.711 c0.511,0.503,1.175,0.753,1.84,0.753C14.289,17.284,14.968,17.022,15.482,16.5z"})]})}))}a.displayName=a.name+" [from "+f.id+"]";g.StatusPlaceholderIcon=a}),98);
__d("WAWebStatusOutStatusPanel.react",["fbt","WAFilteredCatch","WALogger","WAWebBackendErrors","WAWebClock","WAWebDetailImage.react","WAWebMsgGetters","WAWebMsgInfoCollection","WAWebNoop","WAWebStatusPlaceholderIcon.react","WAWebStatusSeenCount.react","WAWebStatusThumbnail.react","WAWebWamEnumStatusRowSection","react","useWAWebForceUpdate","useWAWebListener","useWAWebUnmountSignal"],(function(a,b,c,d,e,f,g,h){var i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["error while loading all out status: ",""]);k=function(){return a};return a}b=j||d("react");var l=i||(i=c("react")),m=b.useEffect,n=b.useState;function a(a){var b=a.onOpenStatus;a=a.status;a=l.jsx(o,{status:a,onOpenStatus:b});return l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy x78zum5 xdt5ytf x6s0dn4 xl56j7k x5yr21d x1le9d6u xxojkh6 xdmsrq2 x8yky9h x1aa9wjk xfmyhe5 x13inm7x xtdeawk"},{children:a}))}a.displayName=a.name+" [from "+f.id+"]";function o(a){var b=a.status,c=d("useWAWebForceUpdate").useForceUpdateDONOTUSE();m(function(){b==null?void 0:b.loadMore(b.totalCount)["catch"](function(a){d("WALogger").WARN(k(),String(a))})},[]);d("useWAWebListener").useListener(b,"change:msgsChanged",c);if(b&&b.msgs.length>0){c=b.msgs.map(function(c){return l.jsx(p,{msg:c,status:b,onOpenStatus:a.onOpenStatus},c.id.toString())});return l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xmz0i5r"},{"data-testid":void 0,children:[l.jsx("div",babelHelpers["extends"]({className:"x1coevs8 x14ler8 xngnso2 xk50ysn x2b8uid"},{children:h._(/*BTDS*/"__JHASH__XPMWtCFjn51__JHASH__")})),l.jsx("div",babelHelpers["extends"]({className:"x9f619 x78zum5 x1q0g3np x1a02dak xl56j7k x1ap80js xexx8yu xx281p9 x1rxj1xn x67w97k x1odjw0f"},{children:c}))]}))}return l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf xmz0i5r"},{children:[l.jsx("div",babelHelpers["extends"]({className:"x78zum5 x1q0g3np xl56j7k x14ler8 x5q6gb4 x47corl"},{children:l.jsx(d("WAWebStatusPlaceholderIcon.react").StatusPlaceholderIcon,{})})),l.jsx("div",babelHelpers["extends"]({"data-testid":void 0},{className:"xzl6hoh x88nbbm x2b8uid"},{children:h._(/*BTDS*/"__JHASH__3iLtSO4jR3x__JHASH__")}))]}))}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.msg,e=a.status,f=c("useWAWebUnmountSignal")(),g=n(null),i=g[0],j=g[1];g=n(null);var k=g[0],o=g[1];m(function(){d("WAWebMsgInfoCollection").MsgInfoCollection.find(b.id).then(function(a){if(f.aborted)return;o(a);j(a.read.length)})["catch"](d("WAFilteredCatch").filteredCatch(d("WAWebBackendErrors").EphemeralDrop,c("WAWebNoop")))},[]);d("useWAWebListener").useListener(k==null?void 0:k.read,["add","remove"],function(){j(k==null?void 0:k.read.length)});g=l.jsx(d("WAWebDetailImage.react").DetailImage,{id:d("WAWebMsgGetters").getSender(b),theme:"status",size:80});return l.jsxs("div",babelHelpers["extends"]({className:"x78zum5 xdt5ytf x6s0dn4 x1sa5p1d x1hq5gj4 x1hm9lzh"},{"data-testid":void 0,children:[l.jsx(c("WAWebStatusThumbnail.react"),{tabIndex:0,ariaLabel:h._(/*BTDS*/"__JHASH__XPMWtCFjn51__JHASH__"),id:e.id,msg:b,onClick:function(){return a.onOpenStatus(e,b,0,d("WAWebWamEnumStatusRowSection").STATUS_ROW_SECTION.MY_STATUS)},contact:e.contact,role:"button",theme:"status-panel",thumbnailPlaceholder:g}),l.jsx("div",babelHelpers["extends"]({className:"xcxhlts xu06os2"},{children:l.jsx(c("WAWebStatusSeenCount.react"),{seenCount:i})})),l.jsx("div",babelHelpers["extends"]({className:"x1nxh6w3 x88nbbm"},{children:d("WAWebClock").Clock.relativeDateAndTimeStr(b.t)}))]}))}p.displayName=p.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusMain.react",["fbt","WAWebCmd","WAWebFocusTracer","WAWebStatusCollection","WAWebStatusListPanel.react","WAWebStatusOutStatusPanel.react","WAWebSvgButton.react","WAWebTimeSpentLoggingNavigation","WAWebUserPrefsGeneral","WAWebXViewerIcon.react","react","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useRef,n=b.useState,o={closeIcon:{position:"x10l6tqk",top:"xoyzfg9",insetInlineEnd:"x1i4sgur",left:null,right:null,zIndex:"xhtitgo",color:"x1fpc5dy",$$css:!0}};function a(a){var b=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,["ref"]);a=e.onOpenStatus;var f=e.sessionId,g=e.closeStatusViewer,i=m(null),j=n(function(){return d("WAWebStatusCollection").StatusCollection.getMyStatus()}),p=j[0],q=j[1];l(function(){d("WAWebUserPrefsGeneral").setLastStatusUsage(),f!=null&&d("WAWebStatusCollection").StatusCollection.logMetrics({type:"session",sessionId:f}),d("WAWebCmd").Cmd.onStatusViewerOpen(),i.current&&c("WAWebFocusTracer").focus(i.current)},[]);j=function(){q(d("WAWebStatusCollection").StatusCollection.getMyStatus())};d("useWAWebListener").useListener(d("WAWebStatusCollection").StatusCollection,["add","remove"],j);d("useWAWebListener").useListener(d("WAWebCmd").Cmd,["dismiss_status_viewer"],function(){g(!0)});d("WAWebTimeSpentLoggingNavigation").useTsNavigation({surface:"status"});return k.jsx("div",babelHelpers["extends"]({ref:b},{className:"x10l6tqk x1oyvh86 x9f619 x78zum5 xdt5ytf xh8yej3 x5yr21d x66m237"},{"data-animate-status-modal-background":!0,"data-testid":void 0,children:k.jsxs("div",babelHelpers["extends"]({ref:i,tabIndex:-1},{className:"x1n2onr6 x1vjfegm x78zum5 xdt5ytf xh8yej3 x5yr21d x1fpc5dy xf32nbf xvlrot x1s14duo xwlbkn7 xc6c13"},{children:[k.jsx(c("WAWebStatusListPanel.react"),{onOpenStatus:a}),k.jsx(c("WAWebStatusOutStatusPanel.react"),{status:p,onOpenStatus:a}),k.jsx(c("WAWebSvgButton.react"),{"aria-label":h._(/*BTDS*/"__JHASH__K6IIFmBgzOZ__JHASH__"),xstyle:o.closeIcon,Icon:d("WAWebXViewerIcon.react").XViewerIcon,onClick:function(){return e.closeStatusViewer(!0)}})]}))}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebStatusFlow.react",["invariant","$InternalEnum","WAWebCmd","WAWebStatusMain.react","WAWebStatusViewer.react","react","useLazyRef","useWAWebFlow","useWAWebListener"],(function(a,b,c,d,e,f,g,h){var i,j,k=j||c("react"),l=(i||(i=d("react"))).useState,m=b("$InternalEnum").Mirrored(["StatusMain","StatusViewer"]);function a(){var a=d("useWAWebFlow").useFlow(m.StatusMain),b=a[0],e=a[1];a=l(null);var f=a[0],g=a[1];a=l(null);var i=a[0],j=a[1];a=l(void 0);var n=a[0],o=a[1];a=l(void 0);var p=a[0],q=a[1];a=c("useLazyRef")(function(){return Math.round(Math.random()*1e9)});var r=function(a){a?e.end():e.pop()},s=function(a,b,c,d){g(a),j(b),o(c),q(d),e.push(m.StatusViewer,"none")};d("useWAWebListener").useListener(d("WAWebCmd").Cmd,"close_status_viewer",function(){r(!0)});if(e.step==null)return null;var t=null;switch(e.step){case m.StatusMain:t=k.jsx(c("WAWebStatusMain.react"),{onOpenStatus:s,closeStatusViewer:r,sessionId:a.current});break;case m.StatusViewer:f!=null||h(0,62962);t=k.jsx(c("WAWebStatusViewer.react"),{initialStatus:f,initialStatusMsg:i,closeStatusViewer:r,sessionId:a.current,rowIdx:n,rowSection:p,continuousPlay:!0});break}return k.jsx(b,{flow:e,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebStatusQuotedFlow.react",["WAWebStatusViewer.react","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.status,d=a.msgKey,e=a.onMsgNotFound,f=a.onClose,g=a.rowSection;a=a.rowIndex;return i.jsx(c("WAWebStatusViewer.react"),{initialStatus:b,quotedMsgKey:d,closeStatusViewer:f,onMsgNotFound:e,rowSection:g,rowIdx:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);